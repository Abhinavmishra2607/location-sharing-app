(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function n(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=n(l);fetch(l.href,h)}})();function Op(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nm={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function Tb(){if(mv)return Xu;mv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,h){var p=null;if(h!==void 0&&(p=""+h),l.key!==void 0&&(p=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:r,type:a,key:p,ref:l!==void 0?l:null,props:h}}return Xu.Fragment=t,Xu.jsx=n,Xu.jsxs=n,Xu}var pv;function wb(){return pv||(pv=1,Nm.exports=Tb()),Nm.exports}var q=wb(),km={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Sb(){if(gv)return Zt;gv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=P&&M[P]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,tt={};function J(M,st,gt){this.props=M,this.context=st,this.refs=tt,this.updater=gt||G}J.prototype.isReactComponent={},J.prototype.setState=function(M,st){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,st,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function at(){}at.prototype=J.prototype;function vt(M,st,gt){this.props=M,this.context=st,this.refs=tt,this.updater=gt||G}var ut=vt.prototype=new at;ut.constructor=vt,W(ut,J.prototype),ut.isPureReactComponent=!0;var Nt=Array.isArray,It={H:null,A:null,T:null,S:null,V:null},Kt=Object.prototype.hasOwnProperty;function j(M,st,gt,dt,Tt,bt){return gt=bt.ref,{$$typeof:r,type:M,key:st,ref:gt!==void 0?gt:null,props:bt}}function O(M,st){return j(M.type,st,void 0,void 0,void 0,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function B(M){var st={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(gt){return st[gt]})}var z=/\/+/g;function H(M,st){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):st.toString(36)}function V(){}function Se(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(st){M.status==="pending"&&(M.status="fulfilled",M.value=st)},function(st){M.status==="pending"&&(M.status="rejected",M.reason=st)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ne(M,st,gt,dt,Tt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Et=!1;if(M===null)Et=!0;else switch(bt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(M.$$typeof){case r:case t:Et=!0;break;case R:return Et=M._init,Ne(Et(M._payload),st,gt,dt,Tt)}}if(Et)return Tt=Tt(M),Et=dt===""?"."+H(M,0):dt,Nt(Tt)?(gt="",Et!=null&&(gt=Et.replace(z,"$&/")+"/"),Ne(Tt,st,gt,"",function(ai){return ai})):Tt!=null&&(D(Tt)&&(Tt=O(Tt,gt+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(z,"$&/")+"/")+Et)),st.push(Tt)),1;Et=0;var ye=dt===""?".":dt+":";if(Nt(M))for(var re=0;re<M.length;re++)dt=M[re],bt=ye+H(dt,re),Et+=Ne(dt,st,gt,bt,Tt);else if(re=x(M),typeof re=="function")for(M=re.call(M),re=0;!(dt=M.next()).done;)dt=dt.value,bt=ye+H(dt,re++),Et+=Ne(dt,st,gt,bt,Tt);else if(bt==="object"){if(typeof M.then=="function")return Ne(Se(M),st,gt,dt,Tt);throw st=String(M),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return Et}function rt(M,st,gt){if(M==null)return M;var dt=[],Tt=0;return Ne(M,dt,"","",function(bt){return st.call(gt,bt,Tt++)}),dt}function yt(M){if(M._status===-1){var st=M._result;st=st(),st.then(function(gt){(M._status===0||M._status===-1)&&(M._status=1,M._result=gt)},function(gt){(M._status===0||M._status===-1)&&(M._status=2,M._result=gt)}),M._status===-1&&(M._status=0,M._result=st)}if(M._status===1)return M._result.default;throw M._result}var pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function se(){}return Zt.Children={map:rt,forEach:function(M,st,gt){rt(M,function(){st.apply(this,arguments)},gt)},count:function(M){var st=0;return rt(M,function(){st++}),st},toArray:function(M){return rt(M,function(st){return st})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Zt.Component=J,Zt.Fragment=n,Zt.Profiler=l,Zt.PureComponent=vt,Zt.StrictMode=a,Zt.Suspense=v,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return It.H.useMemoCache(M)}},Zt.cache=function(M){return function(){return M.apply(null,arguments)}},Zt.cloneElement=function(M,st,gt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var dt=W({},M.props),Tt=M.key,bt=void 0;if(st!=null)for(Et in st.ref!==void 0&&(bt=void 0),st.key!==void 0&&(Tt=""+st.key),st)!Kt.call(st,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&st.ref===void 0||(dt[Et]=st[Et]);var Et=arguments.length-2;if(Et===1)dt.children=gt;else if(1<Et){for(var ye=Array(Et),re=0;re<Et;re++)ye[re]=arguments[re+2];dt.children=ye}return j(M.type,Tt,void 0,void 0,bt,dt)},Zt.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Zt.createElement=function(M,st,gt){var dt,Tt={},bt=null;if(st!=null)for(dt in st.key!==void 0&&(bt=""+st.key),st)Kt.call(st,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(Tt[dt]=st[dt]);var Et=arguments.length-2;if(Et===1)Tt.children=gt;else if(1<Et){for(var ye=Array(Et),re=0;re<Et;re++)ye[re]=arguments[re+2];Tt.children=ye}if(M&&M.defaultProps)for(dt in Et=M.defaultProps,Et)Tt[dt]===void 0&&(Tt[dt]=Et[dt]);return j(M,bt,void 0,void 0,null,Tt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(M){return{$$typeof:y,render:M}},Zt.isValidElement=D,Zt.lazy=function(M){return{$$typeof:R,_payload:{_status:-1,_result:M},_init:yt}},Zt.memo=function(M,st){return{$$typeof:T,type:M,compare:st===void 0?null:st}},Zt.startTransition=function(M){var st=It.T,gt={};It.T=gt;try{var dt=M(),Tt=It.S;Tt!==null&&Tt(gt,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(se,pt)}catch(bt){pt(bt)}finally{It.T=st}},Zt.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()},Zt.use=function(M){return It.H.use(M)},Zt.useActionState=function(M,st,gt){return It.H.useActionState(M,st,gt)},Zt.useCallback=function(M,st){return It.H.useCallback(M,st)},Zt.useContext=function(M){return It.H.useContext(M)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(M,st){return It.H.useDeferredValue(M,st)},Zt.useEffect=function(M,st,gt){var dt=It.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return dt.useEffect(M,st)},Zt.useId=function(){return It.H.useId()},Zt.useImperativeHandle=function(M,st,gt){return It.H.useImperativeHandle(M,st,gt)},Zt.useInsertionEffect=function(M,st){return It.H.useInsertionEffect(M,st)},Zt.useLayoutEffect=function(M,st){return It.H.useLayoutEffect(M,st)},Zt.useMemo=function(M,st){return It.H.useMemo(M,st)},Zt.useOptimistic=function(M,st){return It.H.useOptimistic(M,st)},Zt.useReducer=function(M,st,gt){return It.H.useReducer(M,st,gt)},Zt.useRef=function(M){return It.H.useRef(M)},Zt.useState=function(M){return It.H.useState(M)},Zt.useSyncExternalStore=function(M,st,gt){return It.H.useSyncExternalStore(M,st,gt)},Zt.useTransition=function(){return It.H.useTransition()},Zt.version="19.1.1",Zt}var _v;function Lp(){return _v||(_v=1,km.exports=Sb()),km.exports}var Z=Lp();const np=Op(Z);var Vm={exports:{}},Wu={},zm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function bb(){return yv||(yv=1,function(r){function t(rt,yt){var pt=rt.length;rt.push(yt);t:for(;0<pt;){var se=pt-1>>>1,M=rt[se];if(0<l(M,yt))rt[se]=yt,rt[pt]=M,pt=se;else break t}}function n(rt){return rt.length===0?null:rt[0]}function a(rt){if(rt.length===0)return null;var yt=rt[0],pt=rt.pop();if(pt!==yt){rt[0]=pt;t:for(var se=0,M=rt.length,st=M>>>1;se<st;){var gt=2*(se+1)-1,dt=rt[gt],Tt=gt+1,bt=rt[Tt];if(0>l(dt,pt))Tt<M&&0>l(bt,dt)?(rt[se]=bt,rt[Tt]=pt,se=Tt):(rt[se]=dt,rt[gt]=pt,se=gt);else if(Tt<M&&0>l(bt,pt))rt[se]=bt,rt[Tt]=pt,se=Tt;else break t}}return yt}function l(rt,yt){var pt=rt.sortIndex-yt.sortIndex;return pt!==0?pt:rt.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var p=Date,y=p.now();r.unstable_now=function(){return p.now()-y}}var v=[],T=[],R=1,P=null,x=3,G=!1,W=!1,tt=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Nt(rt){for(var yt=n(T);yt!==null;){if(yt.callback===null)a(T);else if(yt.startTime<=rt)a(T),yt.sortIndex=yt.expirationTime,t(v,yt);else break;yt=n(T)}}function It(rt){if(tt=!1,Nt(rt),!W)if(n(v)!==null)W=!0,Kt||(Kt=!0,H());else{var yt=n(T);yt!==null&&Ne(It,yt.startTime-rt)}}var Kt=!1,j=-1,O=5,D=-1;function B(){return J?!0:!(r.unstable_now()-D<O)}function z(){if(J=!1,Kt){var rt=r.unstable_now();D=rt;var yt=!0;try{t:{W=!1,tt&&(tt=!1,vt(j),j=-1),G=!0;var pt=x;try{e:{for(Nt(rt),P=n(v);P!==null&&!(P.expirationTime>rt&&B());){var se=P.callback;if(typeof se=="function"){P.callback=null,x=P.priorityLevel;var M=se(P.expirationTime<=rt);if(rt=r.unstable_now(),typeof M=="function"){P.callback=M,Nt(rt),yt=!0;break e}P===n(v)&&a(v),Nt(rt)}else a(v);P=n(v)}if(P!==null)yt=!0;else{var st=n(T);st!==null&&Ne(It,st.startTime-rt),yt=!1}}break t}finally{P=null,x=pt,G=!1}yt=void 0}}finally{yt?H():Kt=!1}}}var H;if(typeof ut=="function")H=function(){ut(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Se=V.port2;V.port1.onmessage=z,H=function(){Se.postMessage(null)}}else H=function(){at(z,0)};function Ne(rt,yt){j=at(function(){rt(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(rt){switch(x){case 1:case 2:case 3:var yt=3;break;default:yt=x}var pt=x;x=yt;try{return rt()}finally{x=pt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(rt,yt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var pt=x;x=rt;try{return yt()}finally{x=pt}},r.unstable_scheduleCallback=function(rt,yt,pt){var se=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?se+pt:se):pt=se,rt){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pt+M,rt={id:R++,callback:yt,priorityLevel:rt,startTime:pt,expirationTime:M,sortIndex:-1},pt>se?(rt.sortIndex=pt,t(T,rt),n(v)===null&&rt===n(T)&&(tt?(vt(j),j=-1):tt=!0,Ne(It,pt-se))):(rt.sortIndex=M,t(v,rt),W||G||(W=!0,Kt||(Kt=!0,H()))),rt},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(rt){var yt=x;return function(){var pt=x;x=yt;try{return rt.apply(this,arguments)}finally{x=pt}}}}(Um)),Um}var vv;function Ab(){return vv||(vv=1,zm.exports=bb()),zm.exports}var Bm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function Rb(){if(Ev)return zn;Ev=1;var r=Lp();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)T+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,T,R){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:P==null?null:""+P,children:v,containerInfo:T,implementation:R}}var p=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zn.createPortal=function(v,T){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(v,T,null,R)},zn.flushSync=function(v){var T=p.T,R=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=T,a.p=R,a.d.f()}},zn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(v,T))},zn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},zn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var R=T.as,P=y(R,T.crossOrigin),x=typeof T.integrity=="string"?T.integrity:void 0,G=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;R==="style"?a.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:P,integrity:x,fetchPriority:G}):R==="script"&&a.d.X(v,{crossOrigin:P,integrity:x,fetchPriority:G,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},zn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var R=y(T.as,T.crossOrigin);a.d.M(v,{crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(v)},zn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var R=T.as,P=y(R,T.crossOrigin);a.d.L(v,R,{crossOrigin:P,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},zn.preloadModule=function(v,T){if(typeof v=="string")if(T){var R=y(T.as,T.crossOrigin);a.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:R,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(v)},zn.requestFormReset=function(v){a.d.r(v)},zn.unstable_batchedUpdates=function(v,T){return v(T)},zn.useFormState=function(v,T,R){return p.H.useFormState(v,T,R)},zn.useFormStatus=function(){return p.H.useHostTransitionStatus()},zn.version="19.1.1",zn}var Tv;function oT(){if(Tv)return Bm.exports;Tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bm.exports=Rb(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Cb(){if(wv)return Wu;wv=1;var r=Ab(),t=Lp(),n=oT();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(a(188))}function v(e){var i=e.alternate;if(!i){if(i=h(e),i===null)throw Error(a(188));return i!==e?null:e}for(var o=e,c=i;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return y(m),e;if(g===c)return y(m),i;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,C=m.child;C;){if(C===o){b=!0,o=m,c=g;break}if(C===c){b=!0,c=m,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,c=m;break}if(C===c){b=!0,c=g,o=m;break}C=C.sibling}if(!b)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var R=Object.assign,P=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),at=Symbol.for("react.provider"),vt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Nt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Kt=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case J:return"Profiler";case tt:return"StrictMode";case It:return"Suspense";case Kt:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case vt:return(e._context.displayName||"Context")+".Consumer";case Nt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return i=e.displayName||null,i!==null?i:Se(e.type)||"Memo";case O:i=e._payload,e=e._init;try{return Se(e(i))}catch{}}return null}var Ne=Array.isArray,rt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},se=[],M=-1;function st(e){return{current:e}}function gt(e){0>M||(e.current=se[M],se[M]=null,M--)}function dt(e,i){M++,se[M]=e.current,e.current=i}var Tt=st(null),bt=st(null),Et=st(null),ye=st(null);function re(e,i){switch(dt(Et,i),dt(bt,e),dt(Tt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Hy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Hy(i),e=qy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}gt(Tt),dt(Tt,e)}function ai(){gt(Tt),gt(bt),gt(Et)}function Ii(e){e.memoizedState!==null&&dt(ye,e);var i=Tt.current,o=qy(i,e.type);i!==o&&(dt(bt,e),dt(Tt,o))}function oi(e){bt.current===e&&(gt(Tt),gt(bt)),ye.current===e&&(gt(ye),Gu._currentValue=pt)}var li=Object.prototype.hasOwnProperty,Wi=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,Ds=r.unstable_shouldYield,Qa=r.unstable_requestPaint,Pn=r.unstable_now,Ns=r.unstable_getCurrentPriorityLevel,Xa=r.unstable_ImmediatePriority,Xr=r.unstable_UserBlockingPriority,$i=r.unstable_NormalPriority,Qo=r.unstable_LowPriority,Wr=r.unstable_IdlePriority,Wa=r.log,Xo=r.unstable_setDisableYieldValue,Re=null,ue=null;function On(e){if(typeof Wa=="function"&&Xo(e),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(Re,e)}catch{}}var hn=Math.clz32?Math.clz32:$r,$a=Math.log,Wo=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-($a(e)/Wo|0)|0}var vr=256,Ji=4194304;function Xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ks(e,i,o){var c=e.pendingLanes;if(c===0)return 0;var m=0,g=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Xn(c):(b&=C,b!==0?m=Xn(b):o||(o=C&~e,o!==0&&(m=Xn(o))))):(C=c&~g,C!==0?m=Xn(C):b!==0?m=Xn(b):o||(o=c&~e,o!==0&&(m=Xn(o)))),m===0?0:i!==0&&i!==m&&(i&g)===0&&(g=m&-m,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:m}function ui(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ja(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(){var e=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),e}function Vs(){var e=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),e}function xi(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function Pi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eo(e,i,o,c,m,g){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var C=e.entanglements,k=e.expirationTimes,X=e.hiddenUpdates;for(o=b&~o;0<o;){var ot=31-hn(o),ct=1<<ot;C[ot]=0,k[ot]=-1;var $=X[ot];if($!==null)for(X[ot]=null,ot=0;ot<$.length;ot++){var et=$[ot];et!==null&&(et.lane&=-536870913)}o&=~ct}c!==0&&Oi(e,c,0),g!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=g&~(b&~i))}function Oi(e,i,o){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-hn(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|o&4194090}function no(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-hn(o),m=1<<c;m&i|e[c]&i&&(e[c]|=i),o&=~m}}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tr(){var e=yt.p;return e!==0?e:(e=window.event,e===void 0?32:lv(e.type))}function Us(e,i){var o=yt.p;try{return yt.p=e,i()}finally{yt.p=o}}var Ce=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Ce,qe="__reactProps$"+Ce,Wn="__reactContainer$"+Ce,Ln="__reactEvents$"+Ce,xt="__reactListeners$"+Ce,tr="__reactHandles$"+Ce,io="__reactResources$"+Ce,wr="__reactMarker$"+Ce;function er(e){delete e[Ze],delete e[qe],delete e[Ln],delete e[xt],delete e[tr]}function ci(e){var i=e[Ze];if(i)return i;for(var o=e.parentNode;o;){if(i=o[Wn]||o[Ze]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Ky(e);e!==null;){if(o=e[Ze])return o;e=Ky(e)}return i}e=o,o=e.parentNode}return null}function hi(e){if(e=e[Ze]||e[Wn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Tn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function fn(e){var i=e[io];return i||(i=e[io]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ze(e){e[wr]=!0}var ro=new Set,Bs={};function fi(e,i){Li(e,i),Li(e+"Capture",i)}function Li(e,i){for(Bs[e]=i,e=0;e<i.length;e++)ro.add(i[e])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jr={},ts={};function Jo(e){return li.call(ts,e)?!0:li.call(Jr,e)?!1:$o.test(e)?ts[e]=!0:(Jr[e]=!0,!1)}function Sr(e,i,o){if(Jo(i))if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+o)}}function Mi(e,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+o)}}function sn(e,i,o,c){if(c===null)e.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(i,o,""+c)}}var nr,br;function Di(e){if(nr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);nr=i&&i[1]||"",br=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+e+br}var es=!1;function Ni(e,i){if(!e||es)return"";es=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(et){var $=et}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(et){$=et}e.call(ct.prototype)}}else{try{throw Error()}catch(et){$=et}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(et){if(et&&$&&typeof et.stack=="string")return[et.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var k=b.split(`
`),X=C.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===X.length)for(c=k.length-1,m=X.length-1;1<=c&&0<=m&&k[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==X[m]){var ot=`
`+k[c].replace(" at new "," at ");return e.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",e.displayName)),ot}while(1<=c&&0<=m);break}}}finally{es=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Di(o):""}function Qt(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Ni(e.type,!1);case 11:return Ni(e.type.render,!1);case 1:return Ni(e.type,!0);case 31:return Di("Activity");default:return""}}function fe(e){try{var i="";do i+=Qt(e),e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ki(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ar(e){var i=ki(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Rr(e){e._valueTracker||(e._valueTracker=Ar(e))}function Ht(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=ki(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var so=/[\n"\\]/g;function Le(e){return e.replace(so,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ie(e,i,o,c,m,g,b,C){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?di(e,b,We(i)):o!=null?di(e,b,We(o)):c!=null&&e.removeAttribute("value"),m==null&&g!=null&&(e.defaultChecked=!!g),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+We(C):e.removeAttribute("name")}function ns(e,i,o,c,m,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;o=o!=null?""+We(o):"",i=i!=null?""+We(i):o,C||i===e.value||(e.value=i),e.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=C?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function di(e,i,o){i==="number"&&pe(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function wn(e,i,o,c){if(e=e.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=i.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&c&&(e[o].defaultSelected=!0)}else{for(o=""+We(o),i=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function Vt(e,i,o){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),o==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=o!=null?""+We(o):""}function qn(e,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ne(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=We(i),e.defaultValue=o,c=e.textContent,c===o&&c!==""&&c!==null&&(e.value=c)}function dn(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function js(e,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,o):typeof o!="number"||o===0||mi.has(i)?i==="float"?e.cssFloat=o:e[i]=(""+o).trim():e[i]=o+"px"}function ir(e,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&js(e,m,c)}else for(var g in i)i.hasOwnProperty(g)&&js(e,g,i[g])}function is(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cr(e){return Hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,gi=null;function oo(e){var i=hi(e);if(i&&(e=i.stateNode)){var o=e[qe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ie(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Le(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var m=c[qe]||null;if(!m)throw Error(a(90));Ie(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===e.form&&Ht(c)}break t;case"textarea":Vt(e,o.value,o.defaultValue);break t;case"select":i=o.value,i!=null&&wn(e,!!o.multiple,i,!1)}}}var Lt=!1;function Fn(e,i,o){if(Lt)return e(i,o);Lt=!0;try{var c=e(i);return c}finally{if(Lt=!1,(Vi!==null||gi!==null)&&(Eh(),Vi&&(i=Vi,e=gi,gi=Vi=null,oo(i),e)))for(i=0;i<e.length;i++)oo(e[i])}}function ae(e,i){var o=e.stateNode;if(o===null)return null;var c=o[qe]||null;if(c===null)return null;o=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if($n)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Mn=!1}var Jn=null,Dn=null,_i=null;function sr(){if(_i)return _i;var e,i=Dn,o=i.length,c,m="value"in Jn?Jn.value:Jn.textContent,g=m.length;for(e=0;e<o&&i[e]===m[e];e++);var b=o-e;for(c=1;c<=b&&i[o-c]===m[g-c];c++);return _i=m.slice(e,1<c?1-c:void 0)}function ve(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function mn(){return!0}function qs(){return!1}function Ke(e){function i(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mn:qs,this.isPropagationStopped=qs,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),i}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rs=Ke(ce),ar=R({},ce,{view:0,detail:0}),tl=Ke(ar),ss,Gt,zi,an=R({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zi&&(zi&&e.type==="mousemove"?(ss=e.screenX-zi.screenX,Gt=e.screenY-zi.screenY):Gt=ss=0,zi=e),ss)},movementY:function(e){return"movementY"in e?e.movementY:Gt}}),pn=Ke(an),lo=R({},an,{dataTransfer:0}),lu=Ke(lo),or=R({},ar,{relatedTarget:0}),Fs=Ke(or),Gs=R({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=Ke(Gs),el=R({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ir=Ke(el),uu=R({},ce,{data:0}),Nn=Ke(uu),as={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yi[e])?!!i[e]:!1}function xr(){return Ks}var Ys=R({},ar,{key:function(e){if(e.key){var i=as[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ve(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return e.type==="keypress"?ve(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ve(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qs=Ke(Ys),co=R({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Ke(co),lr=R({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),nl=Ke(lr),Ws=R({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),il=Ke(Ws),ho=R({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),os=Ke(ho),$e=R({},ce,{newState:0,oldState:0}),Ui=Ke($e),rl=[9,13,27,32],kn=$n&&"CompositionEvent"in window,f=null;$n&&"documentMode"in document&&(f=document.documentMode);var E=$n&&"TextEvent"in window&&!f,S=$n&&(!kn||f&&8<f&&11>=f),I=" ",K=!1;function it(e,i){switch(e){case"keyup":return rl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _t(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jt=!1;function Fe(e,i){switch(e){case"compositionend":return _t(i);case"keypress":return i.which!==32?null:(K=!0,I);case"textInput":return e=i.data,e===I&&K?null:e;default:return null}}function te(e,i){if(Jt)return e==="compositionend"||!kn&&it(e,i)?(e=sr(),_i=Dn=Jn=null,Jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return S&&i.locale!=="ko"?null:i.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!de[e.type]:i==="textarea"}function ur(e,i,o,c){Vi?gi?gi.push(c):gi=[c]:Vi=c,i=Rh(i,"onChange"),0<i.length&&(o=new rs("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var be=null,Bi=null;function ji(e){Vy(e,0)}function sl(e){var i=Tn(e);if(Ht(i))return e}function $s(e,i){if(e==="change")return i}var cu=!1;if($n){var Js;if($n){var hu="oninput"in document;if(!hu){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),hu=typeof cr.oninput=="function"}Js=hu}else Js=!1;cu=Js&&(!document.documentMode||9<document.documentMode)}function fo(){be&&(be.detachEvent("onpropertychange",Uc),Bi=be=null)}function Uc(e){if(e.propertyName==="value"&&sl(Bi)){var i=[];ur(i,Bi,e,Sn(e)),Fn(ji,i)}}function fu(e,i,o){e==="focusin"?(fo(),be=i,Bi=o,be.attachEvent("onpropertychange",Uc)):e==="focusout"&&fo()}function sd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(Bi)}function hr(e,i){if(e==="click")return sl(i)}function ad(e,i){if(e==="input"||e==="change")return sl(i)}function ta(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Gn=typeof Object.is=="function"?Object.is:ta;function Zn(e,i){if(Gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!li.call(i,m)||!Gn(e[m],i[m]))return!1}return!0}function mo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,i){var o=mo(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=mo(o)}}function al(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?al(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function po(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pe(e.document);i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=pe(e.document)}return i}function go(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var ol=$n&&"documentMode"in document&&11>=document.documentMode,vi=null,ea=null,ls=null,ll=!1;function Bc(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ll||vi==null||vi!==pe(c)||(c=vi,"selectionStart"in c&&go(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ls&&Zn(ls,c)||(ls=c,c=Rh(ea,"onSelect"),0<c.length&&(i=new rs("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=vi)))}function Hi(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var na={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},ul={},jc={};$n&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function Pr(e){if(ul[e])return ul[e];if(!na[e])return e;var i=na[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in jc)return ul[e]=i[o];return e}var Hc=Pr("animationend"),Ei=Pr("animationiteration"),_o=Pr("animationstart"),od=Pr("transitionrun"),cl=Pr("transitionstart"),ld=Pr("transitioncancel"),mu=Pr("transitionend"),qc=new Map,us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");us.push("scrollEnd");function Ti(e,i){qc.set(e,i),fi(i,[e])}var cs=new WeakMap;function Kn(e,i){if(typeof e=="object"&&e!==null){var o=cs.get(e);return o!==void 0?o:(i={value:e,source:i,stack:fe(i)},cs.set(e,i),i)}return{value:e,source:i,stack:fe(i)}}var Yn=[],ia=0,wi=0;function yo(){for(var e=ia,i=wi=ia=0;i<e;){var o=Yn[i];Yn[i++]=null;var c=Yn[i];Yn[i++]=null;var m=Yn[i];Yn[i++]=null;var g=Yn[i];if(Yn[i++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&Eo(o,m,g)}}function vo(e,i,o,c){Yn[ia++]=e,Yn[ia++]=i,Yn[ia++]=o,Yn[ia++]=c,wi|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function hs(e,i,o,c){return vo(e,i,o,c),Or(e)}function ra(e,i){return vo(e,null,null,i),Or(e)}function Eo(e,i,o){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=e.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(m=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,m&&i!==null&&(m=31-hn(o),e=g.hiddenUpdates,c=e[m],c===null?e[m]=[i]:c.push(i),i.lane=o|536870912),g):null}function Or(e){if(50<Vu)throw Vu=0,sm=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var fs={};function Fc(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,i,o,c){return new Fc(e,i,o,c)}function hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var o=e.alternate;return o===null?(o=Qn(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function pu(e,i){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,i=o.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function To(e,i,o,c,m,g){var b=0;if(c=e,typeof e=="function")hl(e)&&(b=1);else if(typeof e=="string")b=lb(e,o,Tt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=Qn(31,o,i,m),e.elementType=D,e.lanes=g,e;case W:return Lr(o.children,m,g,i);case tt:b=8,m|=24;break;case J:return e=Qn(12,o,i,m|2),e.elementType=J,e.lanes=g,e;case It:return e=Qn(13,o,i,m),e.elementType=It,e.lanes=g,e;case Kt:return e=Qn(19,o,i,m),e.elementType=Kt,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case at:case ut:b=10;break t;case vt:b=9;break t;case Nt:b=11;break t;case j:b=14;break t;case O:b=16,c=null;break t}b=29,o=Error(a(130,e===null?"null":typeof e,"")),c=null}return i=Qn(b,o,i,m),i.elementType=e,i.type=c,i.lanes=g,i}function Lr(e,i,o,c){return e=Qn(7,e,c,i),e.lanes=o,e}function gu(e,i,o){return e=Qn(6,e,null,i),e.lanes=o,e}function fl(e,i,o){return i=Qn(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ds=[],sa=0,s=null,u=0,d=[],_=0,w=null,A=1,N="";function Y(e,i){ds[sa++]=u,ds[sa++]=s,s=e,u=i}function nt(e,i,o){d[_++]=A,d[_++]=N,d[_++]=w,w=e;var c=A;e=N;var m=32-hn(c)-1;c&=~(1<<m),o+=1;var g=32-hn(i)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,A=1<<32-hn(i)+m|o<<m|c,N=g+e}else A=1<<g|o<<m|c,N=e}function ft(e){e.return!==null&&(Y(e,1),nt(e,1,0))}function wt(e){for(;e===s;)s=ds[--sa],ds[sa]=null,u=ds[--sa],ds[sa]=null;for(;e===w;)w=d[--_],d[_]=null,N=d[--_],d[_]=null,A=d[--_],d[_]=null}var At=null,Ct=null,jt=!1,Pe=null,Ue=!1,gn=Error(a(519));function ti(e){var i=Error(a(418,""));throw oa(Kn(i,e)),gn}function Gc(e){var i=e.stateNode,o=e.type,c=e.memoizedProps;switch(i[Ze]=e,i[qe]=c,o){case"dialog":$t("cancel",i),$t("close",i);break;case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(o=0;o<Uu.length;o++)$t(Uu[o],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"details":$t("toggle",i);break;case"input":$t("invalid",i),ns(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Rr(i);break;case"select":$t("invalid",i);break;case"textarea":$t("invalid",i),qn(i,c.value,c.defaultValue,c.children),Rr(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||jy(i.textContent,o)?(c.popover!=null&&($t("beforetoggle",i),$t("toggle",i)),c.onScroll!=null&&$t("scroll",i),c.onScrollEnd!=null&&$t("scrollend",i),c.onClick!=null&&(i.onclick=Ch),i=!0):i=!1,i||ti(e)}function Zc(e){for(At=e.return;At;)switch(At.tag){case 5:case 13:Ue=!1;return;case 27:case 3:Ue=!0;return;default:At=At.return}}function wo(e){if(e!==At)return!1;if(!jt)return Zc(e),jt=!0,!1;var i=e.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Tm(e.type,e.memoizedProps)),o=!o),o&&Ct&&ti(e),Zc(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(i===0){Ct=pr(e.nextSibling);break t}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;e=e.nextSibling}Ct=null}}else i===27?(i=Ct,wa(e.type)?(e=Am,Am=null,Ct=e):Ct=i):Ct=At?pr(e.stateNode.nextSibling):null;return!0}function aa(){Ct=At=null,jt=!1}function Kc(){var e=Pe;return e!==null&&(ii===null?ii=e:ii.push.apply(ii,e),Pe=null),e}function oa(e){Pe===null?Pe=[e]:Pe.push(e)}var ke=st(null),Fi=null,fr=null;function Mr(e,i,o){dt(ke,i._currentValue),i._currentValue=o}function dr(e){e._currentValue=ke.current,gt(ke)}function So(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function dl(e,i,o,c){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=m;for(var k=0;k<i.length;k++)if(C.context===i[k]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),So(g.return,o,e),c||(b=null);break t}g=C.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(a(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),So(b,o,e),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===e){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function bo(e,i,o,c){e=null;for(var m=i,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var C=m.type;Gn(m.pendingProps.value,b.value)||(e!==null?e.push(C):e=[C])}}else if(m===ye.current){if(b=m.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Gu):e=[Gu])}m=m.return}e!==null&&dl(i,e,o,c),i.flags|=262144}function Yc(e){for(e=e.firstContext;e!==null;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ao(e){Fi=e,fr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vn(e){return Cg(Fi,e)}function Qc(e,i){return Fi===null&&Ao(e),Cg(e,i)}function Cg(e,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},fr===null){if(e===null)throw Error(a(308));fr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else fr=fr.next=i;return o}var oS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(o,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(o){return o()})}},lS=r.unstable_scheduleCallback,uS=r.unstable_NormalPriority,on={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new oS,data:new Map,refCount:0}}function _u(e){e.refCount--,e.refCount===0&&lS(uS,function(){e.controller.abort()})}var yu=null,cd=0,ml=0,pl=null;function cS(e,i){if(yu===null){var o=yu=[];cd=0,ml=fm(),pl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cd++,i.then(Ig,Ig),i}function Ig(){if(--cd===0&&yu!==null){pl!==null&&(pl.status="fulfilled");var e=yu;yu=null,ml=0,pl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function hS(e,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var xg=rt.S;rt.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cS(e,i),xg!==null&&xg(e,i)};var Ro=st(null);function hd(){var e=Ro.current;return e!==null?e:Oe.pooledCache}function Xc(e,i){i===null?dt(Ro,Ro.current):dt(Ro,i.pool)}function Pg(){var e=hd();return e===null?null:{parent:on._currentValue,pool:e}}var vu=Error(a(460)),Og=Error(a(474)),Wc=Error(a(542)),fd={then:function(){}};function Lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $c(){}function Mg(e,i,o){switch(o=e[o],o===void 0?e.push(i):o!==i&&(i.then($c,$c),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e;default:if(typeof i.status=="string")i.then($c,$c);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ng(e),e}throw Eu=i,vu}}var Eu=null;function Dg(){if(Eu===null)throw Error(a(459));var e=Eu;return Eu=null,e}function Ng(e){if(e===vu||e===Wc)throw Error(a(483))}var la=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ca(e,i,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Or(e),Eo(e,null,o),i}return vo(e,c,i,o),Or(e)}function Tu(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,no(e,o)}}function pd(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=i:g=g.next=i}else m=g=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}var gd=!1;function wu(){if(gd){var e=pl;if(e!==null)throw e}}function Su(e,i,o,c){gd=!1;var m=e.updateQueue;la=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var k=C,X=k.next;k.next=null,b===null?g=X:b.next=X,b=k;var ot=e.alternate;ot!==null&&(ot=ot.updateQueue,C=ot.lastBaseUpdate,C!==b&&(C===null?ot.firstBaseUpdate=X:C.next=X,ot.lastBaseUpdate=k))}if(g!==null){var ct=m.baseState;b=0,ot=X=k=null,C=g;do{var $=C.lane&-536870913,et=$!==C.lane;if(et?(oe&$)===$:(c&$)===$){$!==0&&$===ml&&(gd=!0),ot!==null&&(ot=ot.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var Bt=e,Dt=C;$=i;var we=o;switch(Dt.tag){case 1:if(Bt=Dt.payload,typeof Bt=="function"){ct=Bt.call(we,ct,$);break t}ct=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Dt.payload,$=typeof Bt=="function"?Bt.call(we,ct,$):Bt,$==null)break t;ct=R({},ct,$);break t;case 2:la=!0}}$=C.callback,$!==null&&(e.flags|=64,et&&(e.flags|=8192),et=m.callbacks,et===null?m.callbacks=[$]:et.push($))}else et={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ot===null?(X=ot=et,k=ct):ot=ot.next=et,b|=$;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;et=C,C=et.next,et.next=null,m.lastBaseUpdate=et,m.shared.pending=null}}while(!0);ot===null&&(k=ct),m.baseState=k,m.firstBaseUpdate=X,m.lastBaseUpdate=ot,g===null&&(m.shared.lanes=0),ya|=b,e.lanes=b,e.memoizedState=ct}}function kg(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Vg(e,i){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)kg(o[e],i)}var gl=st(null),Jc=st(0);function zg(e,i){e=Es,dt(Jc,e),dt(gl,i),Es=e|i.baseLanes}function _d(){dt(Jc,Es),dt(gl,gl.current)}function yd(){Es=Jc.current,gt(gl),gt(Jc)}var ha=0,Yt=null,Ee=null,Je=null,th=!1,_l=!1,Co=!1,eh=0,bu=0,yl=null,fS=0;function Ye(){throw Error(a(321))}function vd(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Gn(e[o],i[o]))return!1;return!0}function Ed(e,i,o,c,m,g){return ha=g,Yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rt.H=e===null||e.memoizedState===null?T_:w_,Co=!1,g=o(c,m),Co=!1,_l&&(g=Bg(i,o,c,m)),Ug(e),g}function Ug(e){rt.H=oh;var i=Ee!==null&&Ee.next!==null;if(ha=0,Je=Ee=Yt=null,th=!1,bu=0,yl=null,i)throw Error(a(300));e===null||_n||(e=e.dependencies,e!==null&&Yc(e)&&(_n=!0))}function Bg(e,i,o,c){Yt=e;var m=0;do{if(_l&&(yl=null),bu=0,_l=!1,25<=m)throw Error(a(301));if(m+=1,Je=Ee=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}rt.H=vS,g=i(o,c)}while(_l);return g}function dS(){var e=rt.H,i=e.useState()[0];return i=typeof i.then=="function"?Au(i):i,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(Yt.flags|=1024),i}function Td(){var e=eh!==0;return eh=0,e}function wd(e,i,o){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~o}function Sd(e){if(th){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}th=!1}ha=0,Je=Ee=Yt=null,_l=!1,bu=eh=0,yl=null}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Yt.memoizedState=Je=e:Je=Je.next=e,Je}function tn(){if(Ee===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var i=Je===null?Yt.memoizedState:Je.next;if(i!==null)Je=i,Ee=e;else{if(e===null)throw Yt.alternate===null?Error(a(467)):Error(a(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Je===null?Yt.memoizedState=Je=e:Je=Je.next=e}return Je}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(e){var i=bu;return bu+=1,yl===null&&(yl=[]),e=Mg(yl,e,i),i=Yt,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,rt.H=i===null||i.memoizedState===null?T_:w_),e}function nh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Au(e);if(e.$$typeof===ut)return Vn(e)}throw Error(a(438,String(e)))}function Ad(e){var i=null,o=Yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=Yt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=bd(),Yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(e),c=0;c<e;c++)o[c]=B;return i.index++,o}function ms(e,i){return typeof i=="function"?i(e):i}function ih(e){var i=tn();return Rd(i,Ee,e)}function Rd(e,i,o){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=e.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}i.baseQueue=m=g,c.pending=null}if(g=e.baseState,m===null)e.memoizedState=g;else{i=m.next;var C=b=null,k=null,X=i,ot=!1;do{var ct=X.lane&-536870913;if(ct!==X.lane?(oe&ct)===ct:(ha&ct)===ct){var $=X.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ct===ml&&(ot=!0);else if((ha&$)===$){X=X.next,$===ml&&(ot=!0);continue}else ct={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(C=k=ct,b=g):k=k.next=ct,Yt.lanes|=$,ya|=$;ct=X.action,Co&&o(g,ct),g=X.hasEagerState?X.eagerState:o(g,ct)}else $={lane:ct,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(C=k=$,b=g):k=k.next=$,Yt.lanes|=ct,ya|=ct;X=X.next}while(X!==null&&X!==i);if(k===null?b=g:k.next=C,!Gn(g,e.memoizedState)&&(_n=!0,ot&&(o=pl,o!==null)))throw o;e.memoizedState=g,e.baseState=b,e.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Cd(e){var i=tn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var c=o.dispatch,m=o.pending,g=i.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=e(g,b.action),b=b.next;while(b!==m);Gn(g,i.memoizedState)||(_n=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,c]}function jg(e,i,o){var c=Yt,m=tn(),g=jt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=i();var b=!Gn((Ee||m).memoizedState,o);b&&(m.memoizedState=o,_n=!0),m=m.queue;var C=Fg.bind(null,c,m,e);if(Ru(2048,8,C,[e]),m.getSnapshot!==i||b||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,vl(9,rh(),qg.bind(null,c,m,o,i),null),Oe===null)throw Error(a(349));g||(ha&124)!==0||Hg(c,i,o)}return o}function Hg(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=Yt.updateQueue,i===null?(i=bd(),Yt.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function qg(e,i,o,c){i.value=o,i.getSnapshot=c,Gg(i)&&Zg(e)}function Fg(e,i,o){return o(function(){Gg(i)&&Zg(e)})}function Gg(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Gn(e,o)}catch{return!0}}function Zg(e){var i=ra(e,2);i!==null&&Ci(i,e,2)}function Id(e){var i=ei();if(typeof e=="function"){var o=e;if(e=o(),Co){On(!0);try{o()}finally{On(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},i}function Kg(e,i,o,c){return e.baseState=o,Rd(e,Ee,typeof c=="function"?c:ms)}function mS(e,i,o,c,m){if(ah(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};rt.T!==null?o(!0):g.isTransition=!1,c(g),o=i.pending,o===null?(g.next=i.pending=g,Yg(i,g)):(g.next=o.next,i.pending=o.next=g)}}function Yg(e,i){var o=i.action,c=i.payload,m=e.state;if(i.isTransition){var g=rt.T,b={};rt.T=b;try{var C=o(m,c),k=rt.S;k!==null&&k(b,C),Qg(e,i,C)}catch(X){xd(e,i,X)}finally{rt.T=g}}else try{g=o(m,c),Qg(e,i,g)}catch(X){xd(e,i,X)}}function Qg(e,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Xg(e,i,c)},function(c){return xd(e,i,c)}):Xg(e,i,o)}function Xg(e,i,o){i.status="fulfilled",i.value=o,Wg(i),e.state=o,i=e.pending,i!==null&&(o=i.next,o===i?e.pending=null:(o=o.next,i.next=o,Yg(e,o)))}function xd(e,i,o){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Wg(i),i=i.next;while(i!==c)}e.action=null}function Wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function $g(e,i){return i}function Jg(e,i){if(jt){var o=Oe.formState;if(o!==null){t:{var c=Yt;if(jt){if(Ct){e:{for(var m=Ct,g=Ue;m.nodeType!==8;){if(!g){m=null;break e}if(m=pr(m.nextSibling),m===null){m=null;break e}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){Ct=pr(m.nextSibling),c=m.data==="F!";break t}}ti(c)}c=!1}c&&(i=o[0])}}return o=ei(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},o.queue=c,o=y_.bind(null,Yt,c),c.dispatch=o,c=Id(!1),g=Dd.bind(null,Yt,!1,c.queue),c=ei(),m={state:i,dispatch:null,action:e,pending:null},c.queue=m,o=mS.bind(null,Yt,m,g,o),m.dispatch=o,c.memoizedState=e,[i,o,!1]}function t_(e){var i=tn();return e_(i,Ee,e)}function e_(e,i,o){if(i=Rd(e,i,$g)[0],e=ih(ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Au(i)}catch(b){throw b===vu?Wc:b}else c=i;i=tn();var m=i.queue,g=m.dispatch;return o!==i.memoizedState&&(Yt.flags|=2048,vl(9,rh(),pS.bind(null,m,o),null)),[c,g,e]}function pS(e,i){e.action=i}function n_(e){var i=tn(),o=Ee;if(o!==null)return e_(i,o,e);tn(),i=i.memoizedState,o=tn();var c=o.queue.dispatch;return o.memoizedState=e,[i,c,!1]}function vl(e,i,o,c){return e={tag:e,create:o,deps:c,inst:i,next:null},i=Yt.updateQueue,i===null&&(i=bd(),Yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e),e}function rh(){return{destroy:void 0,resource:void 0}}function i_(){return tn().memoizedState}function sh(e,i,o,c){var m=ei();c=c===void 0?null:c,Yt.flags|=e,m.memoizedState=vl(1|i,rh(),o,c)}function Ru(e,i,o,c){var m=tn();c=c===void 0?null:c;var g=m.memoizedState.inst;Ee!==null&&c!==null&&vd(c,Ee.memoizedState.deps)?m.memoizedState=vl(i,g,o,c):(Yt.flags|=e,m.memoizedState=vl(1|i,g,o,c))}function r_(e,i){sh(8390656,8,e,i)}function s_(e,i){Ru(2048,8,e,i)}function a_(e,i){return Ru(4,2,e,i)}function o_(e,i){return Ru(4,4,e,i)}function l_(e,i){if(typeof i=="function"){e=e();var o=i(e);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function u_(e,i,o){o=o!=null?o.concat([e]):null,Ru(4,4,l_.bind(null,i,e),o)}function Pd(){}function c_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&vd(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function h_(e,i){var o=tn();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&vd(i,c[1]))return c[0];if(c=e(),Co){On(!0);try{e()}finally{On(!1)}}return o.memoizedState=[c,i],c}function Od(e,i,o){return o===void 0||(ha&1073741824)!==0?e.memoizedState=i:(e.memoizedState=o,e=my(),Yt.lanes|=e,ya|=e,o)}function f_(e,i,o,c){return Gn(o,i)?o:gl.current!==null?(e=Od(e,o,c),Gn(e,i)||(_n=!0),e):(ha&42)===0?(_n=!0,e.memoizedState=o):(e=my(),Yt.lanes|=e,ya|=e,i)}function d_(e,i,o,c,m){var g=yt.p;yt.p=g!==0&&8>g?g:8;var b=rt.T,C={};rt.T=C,Dd(e,!1,i,o);try{var k=m(),X=rt.S;if(X!==null&&X(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var ot=hS(k,c);Cu(e,i,ot,Ri(e))}else Cu(e,i,c,Ri(e))}catch(ct){Cu(e,i,{then:function(){},status:"rejected",reason:ct},Ri())}finally{yt.p=g,rt.T=b}}function gS(){}function Ld(e,i,o,c){if(e.tag!==5)throw Error(a(476));var m=m_(e).queue;d_(e,m,i,pt,o===null?gS:function(){return p_(e),o(c)})}function m_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:pt},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function p_(e){var i=m_(e).next.queue;Cu(e,i,{},Ri())}function Md(){return Vn(Gu)}function g_(){return tn().memoizedState}function __(){return tn().memoizedState}function _S(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ri();e=ua(o);var c=ca(i,e,o);c!==null&&(Ci(c,i,o),Tu(c,i,o)),i={cache:ud()},e.payload=i;return}i=i.return}}function yS(e,i,o){var c=Ri();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ah(e)?v_(i,o):(o=hs(e,i,o,c),o!==null&&(Ci(o,e,c),E_(o,i,c)))}function y_(e,i,o){var c=Ri();Cu(e,i,o,c)}function Cu(e,i,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ah(e))v_(i,m);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var b=i.lastRenderedState,C=g(b,o);if(m.hasEagerState=!0,m.eagerState=C,Gn(C,b))return vo(e,i,m,0),Oe===null&&yo(),!1}catch{}finally{}if(o=hs(e,i,m,c),o!==null)return Ci(o,e,c),E_(o,i,c),!0}return!1}function Dd(e,i,o,c){if(c={lane:2,revertLane:fm(),action:c,hasEagerState:!1,eagerState:null,next:null},ah(e)){if(i)throw Error(a(479))}else i=hs(e,o,c,2),i!==null&&Ci(i,e,2)}function ah(e){var i=e.alternate;return e===Yt||i!==null&&i===Yt}function v_(e,i){_l=th=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function E_(e,i,o){if((o&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,no(e,o)}}var oh={readContext:Vn,use:nh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},T_={readContext:Vn,use:nh,useCallback:function(e,i){return ei().memoizedState=[e,i===void 0?null:i],e},useContext:Vn,useEffect:r_,useImperativeHandle:function(e,i,o){o=o!=null?o.concat([e]):null,sh(4194308,4,l_.bind(null,i,e),o)},useLayoutEffect:function(e,i){return sh(4194308,4,e,i)},useInsertionEffect:function(e,i){sh(4,2,e,i)},useMemo:function(e,i){var o=ei();i=i===void 0?null:i;var c=e();if(Co){On(!0);try{e()}finally{On(!1)}}return o.memoizedState=[c,i],c},useReducer:function(e,i,o){var c=ei();if(o!==void 0){var m=o(i);if(Co){On(!0);try{o(i)}finally{On(!1)}}}else m=i;return c.memoizedState=c.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},c.queue=e,e=e.dispatch=yS.bind(null,Yt,e),[c.memoizedState,e]},useRef:function(e){var i=ei();return e={current:e},i.memoizedState=e},useState:function(e){e=Id(e);var i=e.queue,o=y_.bind(null,Yt,i);return i.dispatch=o,[e.memoizedState,o]},useDebugValue:Pd,useDeferredValue:function(e,i){var o=ei();return Od(o,e,i)},useTransition:function(){var e=Id(!1);return e=d_.bind(null,Yt,e.queue,!0,!1),ei().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,o){var c=Yt,m=ei();if(jt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Oe===null)throw Error(a(349));(oe&124)!==0||Hg(c,i,o)}m.memoizedState=o;var g={value:o,getSnapshot:i};return m.queue=g,r_(Fg.bind(null,c,g,e),[e]),c.flags|=2048,vl(9,rh(),qg.bind(null,c,g,o,i),null),o},useId:function(){var e=ei(),i=Oe.identifierPrefix;if(jt){var o=N,c=A;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=eh++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=fS++,i="«"+i+"r"+o.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Md,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var i=ei();i.memoizedState=i.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Dd.bind(null,Yt,!0,o),o.dispatch=i,[e,i]},useMemoCache:Ad,useCacheRefresh:function(){return ei().memoizedState=_S.bind(null,Yt)}},w_={readContext:Vn,use:nh,useCallback:c_,useContext:Vn,useEffect:s_,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:ih,useRef:i_,useState:function(){return ih(ms)},useDebugValue:Pd,useDeferredValue:function(e,i){var o=tn();return f_(o,Ee.memoizedState,e,i)},useTransition:function(){var e=ih(ms)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Au(e),i]},useSyncExternalStore:jg,useId:g_,useHostTransitionStatus:Md,useFormState:t_,useActionState:t_,useOptimistic:function(e,i){var o=tn();return Kg(o,Ee,e,i)},useMemoCache:Ad,useCacheRefresh:__},vS={readContext:Vn,use:nh,useCallback:c_,useContext:Vn,useEffect:s_,useImperativeHandle:u_,useInsertionEffect:a_,useLayoutEffect:o_,useMemo:h_,useReducer:Cd,useRef:i_,useState:function(){return Cd(ms)},useDebugValue:Pd,useDeferredValue:function(e,i){var o=tn();return Ee===null?Od(o,e,i):f_(o,Ee.memoizedState,e,i)},useTransition:function(){var e=Cd(ms)[0],i=tn().memoizedState;return[typeof e=="boolean"?e:Au(e),i]},useSyncExternalStore:jg,useId:g_,useHostTransitionStatus:Md,useFormState:n_,useActionState:n_,useOptimistic:function(e,i){var o=tn();return Ee!==null?Kg(o,Ee,e,i):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:__},El=null,Iu=0;function lh(e){var i=Iu;return Iu+=1,El===null&&(El=[]),Mg(El,e,i)}function xu(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function uh(e,i){throw i.$$typeof===P?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function S_(e){var i=e._init;return i(e._payload)}function b_(e){function i(F,U){if(e){var Q=F.deletions;Q===null?(F.deletions=[U],F.flags|=16):Q.push(U)}}function o(F,U){if(!e)return null;for(;U!==null;)i(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function m(F,U){return F=qi(F,U),F.index=0,F.sibling=null,F}function g(F,U,Q){return F.index=Q,e?(Q=F.alternate,Q!==null?(Q=Q.index,Q<U?(F.flags|=67108866,U):Q):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function C(F,U,Q,lt){return U===null||U.tag!==6?(U=gu(Q,F.mode,lt),U.return=F,U):(U=m(U,Q),U.return=F,U)}function k(F,U,Q,lt){var Rt=Q.type;return Rt===W?ot(F,U,Q.props.children,lt,Q.key):U!==null&&(U.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&S_(Rt)===U.type)?(U=m(U,Q.props),xu(U,Q),U.return=F,U):(U=To(Q.type,Q.key,Q.props,null,F.mode,lt),xu(U,Q),U.return=F,U)}function X(F,U,Q,lt){return U===null||U.tag!==4||U.stateNode.containerInfo!==Q.containerInfo||U.stateNode.implementation!==Q.implementation?(U=fl(Q,F.mode,lt),U.return=F,U):(U=m(U,Q.children||[]),U.return=F,U)}function ot(F,U,Q,lt,Rt){return U===null||U.tag!==7?(U=Lr(Q,F.mode,lt,Rt),U.return=F,U):(U=m(U,Q),U.return=F,U)}function ct(F,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=gu(""+U,F.mode,Q),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return Q=To(U.type,U.key,U.props,null,F.mode,Q),xu(Q,U),Q.return=F,Q;case G:return U=fl(U,F.mode,Q),U.return=F,U;case O:var lt=U._init;return U=lt(U._payload),ct(F,U,Q)}if(Ne(U)||H(U))return U=Lr(U,F.mode,Q,null),U.return=F,U;if(typeof U.then=="function")return ct(F,lh(U),Q);if(U.$$typeof===ut)return ct(F,Qc(F,U),Q);uh(F,U)}return null}function $(F,U,Q,lt){var Rt=U!==null?U.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Rt!==null?null:C(F,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===Rt?k(F,U,Q,lt):null;case G:return Q.key===Rt?X(F,U,Q,lt):null;case O:return Rt=Q._init,Q=Rt(Q._payload),$(F,U,Q,lt)}if(Ne(Q)||H(Q))return Rt!==null?null:ot(F,U,Q,lt,null);if(typeof Q.then=="function")return $(F,U,lh(Q),lt);if(Q.$$typeof===ut)return $(F,U,Qc(F,Q),lt);uh(F,Q)}return null}function et(F,U,Q,lt,Rt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return F=F.get(Q)||null,C(U,F,""+lt,Rt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case x:return F=F.get(lt.key===null?Q:lt.key)||null,k(U,F,lt,Rt);case G:return F=F.get(lt.key===null?Q:lt.key)||null,X(U,F,lt,Rt);case O:var Xt=lt._init;return lt=Xt(lt._payload),et(F,U,Q,lt,Rt)}if(Ne(lt)||H(lt))return F=F.get(Q)||null,ot(U,F,lt,Rt,null);if(typeof lt.then=="function")return et(F,U,Q,lh(lt),Rt);if(lt.$$typeof===ut)return et(F,U,Q,Qc(U,lt),Rt);uh(U,lt)}return null}function Bt(F,U,Q,lt){for(var Rt=null,Xt=null,Ot=U,kt=U=0,vn=null;Ot!==null&&kt<Q.length;kt++){Ot.index>kt?(vn=Ot,Ot=null):vn=Ot.sibling;var he=$(F,Ot,Q[kt],lt);if(he===null){Ot===null&&(Ot=vn);break}e&&Ot&&he.alternate===null&&i(F,Ot),U=g(he,U,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he,Ot=vn}if(kt===Q.length)return o(F,Ot),jt&&Y(F,kt),Rt;if(Ot===null){for(;kt<Q.length;kt++)Ot=ct(F,Q[kt],lt),Ot!==null&&(U=g(Ot,U,kt),Xt===null?Rt=Ot:Xt.sibling=Ot,Xt=Ot);return jt&&Y(F,kt),Rt}for(Ot=c(Ot);kt<Q.length;kt++)vn=et(Ot,F,kt,Q[kt],lt),vn!==null&&(e&&vn.alternate!==null&&Ot.delete(vn.key===null?kt:vn.key),U=g(vn,U,kt),Xt===null?Rt=vn:Xt.sibling=vn,Xt=vn);return e&&Ot.forEach(function(Ca){return i(F,Ca)}),jt&&Y(F,kt),Rt}function Dt(F,U,Q,lt){if(Q==null)throw Error(a(151));for(var Rt=null,Xt=null,Ot=U,kt=U=0,vn=null,he=Q.next();Ot!==null&&!he.done;kt++,he=Q.next()){Ot.index>kt?(vn=Ot,Ot=null):vn=Ot.sibling;var Ca=$(F,Ot,he.value,lt);if(Ca===null){Ot===null&&(Ot=vn);break}e&&Ot&&Ca.alternate===null&&i(F,Ot),U=g(Ca,U,kt),Xt===null?Rt=Ca:Xt.sibling=Ca,Xt=Ca,Ot=vn}if(he.done)return o(F,Ot),jt&&Y(F,kt),Rt;if(Ot===null){for(;!he.done;kt++,he=Q.next())he=ct(F,he.value,lt),he!==null&&(U=g(he,U,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he);return jt&&Y(F,kt),Rt}for(Ot=c(Ot);!he.done;kt++,he=Q.next())he=et(Ot,F,kt,he.value,lt),he!==null&&(e&&he.alternate!==null&&Ot.delete(he.key===null?kt:he.key),U=g(he,U,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he);return e&&Ot.forEach(function(Eb){return i(F,Eb)}),jt&&Y(F,kt),Rt}function we(F,U,Q,lt){if(typeof Q=="object"&&Q!==null&&Q.type===W&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:t:{for(var Rt=Q.key;U!==null;){if(U.key===Rt){if(Rt=Q.type,Rt===W){if(U.tag===7){o(F,U.sibling),lt=m(U,Q.props.children),lt.return=F,F=lt;break t}}else if(U.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&S_(Rt)===U.type){o(F,U.sibling),lt=m(U,Q.props),xu(lt,Q),lt.return=F,F=lt;break t}o(F,U);break}else i(F,U);U=U.sibling}Q.type===W?(lt=Lr(Q.props.children,F.mode,lt,Q.key),lt.return=F,F=lt):(lt=To(Q.type,Q.key,Q.props,null,F.mode,lt),xu(lt,Q),lt.return=F,F=lt)}return b(F);case G:t:{for(Rt=Q.key;U!==null;){if(U.key===Rt)if(U.tag===4&&U.stateNode.containerInfo===Q.containerInfo&&U.stateNode.implementation===Q.implementation){o(F,U.sibling),lt=m(U,Q.children||[]),lt.return=F,F=lt;break t}else{o(F,U);break}else i(F,U);U=U.sibling}lt=fl(Q,F.mode,lt),lt.return=F,F=lt}return b(F);case O:return Rt=Q._init,Q=Rt(Q._payload),we(F,U,Q,lt)}if(Ne(Q))return Bt(F,U,Q,lt);if(H(Q)){if(Rt=H(Q),typeof Rt!="function")throw Error(a(150));return Q=Rt.call(Q),Dt(F,U,Q,lt)}if(typeof Q.then=="function")return we(F,U,lh(Q),lt);if(Q.$$typeof===ut)return we(F,U,Qc(F,Q),lt);uh(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,U!==null&&U.tag===6?(o(F,U.sibling),lt=m(U,Q),lt.return=F,F=lt):(o(F,U),lt=gu(Q,F.mode,lt),lt.return=F,F=lt),b(F)):o(F,U)}return function(F,U,Q,lt){try{Iu=0;var Rt=we(F,U,Q,lt);return El=null,Rt}catch(Ot){if(Ot===vu||Ot===Wc)throw Ot;var Xt=Qn(29,Ot,null,F.mode);return Xt.lanes=lt,Xt.return=F,Xt}finally{}}}var Tl=b_(!0),A_=b_(!1),Gi=st(null),Dr=null;function fa(e){var i=e.alternate;dt(ln,ln.current&1),dt(Gi,e),Dr===null&&(i===null||gl.current!==null||i.memoizedState!==null)&&(Dr=e)}function R_(e){if(e.tag===22){if(dt(ln,ln.current),dt(Gi,e),Dr===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Dr=e)}}else da()}function da(){dt(ln,ln.current),dt(Gi,Gi.current)}function ps(e){gt(Gi),Dr===e&&(Dr=null),gt(ln)}var ln=st(0);function ch(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nd(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:R({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var kd={enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Ri(),m=ua(c);m.payload=i,o!=null&&(m.callback=o),i=ca(e,m,c),i!==null&&(Ci(i,e,c),Tu(i,e,c))},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Ri(),m=ua(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ca(e,m,c),i!==null&&(Ci(i,e,c),Tu(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Ri(),c=ua(o);c.tag=2,i!=null&&(c.callback=i),i=ca(e,c,o),i!==null&&(Ci(i,e,o),Tu(i,e,o))}};function C_(e,i,o,c,m,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):i.prototype&&i.prototype.isPureReactComponent?!Zn(o,c)||!Zn(m,g):!0}function I_(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&kd.enqueueReplaceState(i,i.state,null)}function Io(e,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(e=e.defaultProps){o===i&&(o=R({},o));for(var m in e)o[m]===void 0&&(o[m]=e[m])}return o}var hh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function x_(e){hh(e)}function P_(e){console.error(e)}function O_(e){hh(e)}function fh(e,i){try{var o=e.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function L_(e,i,o){try{var c=e.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Vd(e,i,o){return o=ua(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(e,i)},o}function M_(e){return e=ua(e),e.tag=3,e}function D_(e,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;e.payload=function(){return m(g)},e.callback=function(){L_(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){L_(i,o,c),typeof m!="function"&&(va===null?va=new Set([this]):va.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function ES(e,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&bo(i,o,m,!0),o=Gi.current,o!==null){switch(o.tag){case 13:return Dr===null?om():o.alternate===null&&Ge===0&&(Ge=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===fd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),um(e,c,m)),!1;case 22:return o.flags|=65536,c===fd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),um(e,c,m)),!1}throw Error(a(435,o.tag))}return um(e,c,m),om(),!1}if(jt)return i=Gi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==gn&&(e=Error(a(422),{cause:c}),oa(Kn(e,o)))):(c!==gn&&(i=Error(a(423),{cause:c}),oa(Kn(i,o))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,c=Kn(c,o),m=Vd(e.stateNode,c,m),pd(e,m),Ge!==4&&(Ge=2)),!1;var g=Error(a(520),{cause:c});if(g=Kn(g,o),ku===null?ku=[g]:ku.push(g),Ge!==4&&(Ge=2),i===null)return!0;c=Kn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,e=m&-m,o.lanes|=e,e=Vd(o.stateNode,c,e),pd(o,e),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(va===null||!va.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=M_(m),D_(m,e,o,c),pd(o,m),!1}o=o.return}while(o!==null);return!1}var N_=Error(a(461)),_n=!1;function bn(e,i,o,c){i.child=e===null?A_(i,null,o,c):Tl(i,e.child,o,c)}function k_(e,i,o,c,m){o=o.render;var g=i.ref;if("ref"in c){var b={};for(var C in c)C!=="ref"&&(b[C]=c[C])}else b=c;return Ao(i),c=Ed(e,i,o,b,g,m),C=Td(),e!==null&&!_n?(wd(e,i,m),gs(e,i,m)):(jt&&C&&ft(i),i.flags|=1,bn(e,i,c,m),i.child)}function V_(e,i,o,c,m){if(e===null){var g=o.type;return typeof g=="function"&&!hl(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,z_(e,i,g,c,m)):(e=To(o.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Gd(e,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Zn,o(b,c)&&e.ref===i.ref)return gs(e,i,m)}return i.flags|=1,e=qi(g,c),e.ref=i.ref,e.return=i,i.child=e}function z_(e,i,o,c,m){if(e!==null){var g=e.memoizedProps;if(Zn(g,c)&&e.ref===i.ref)if(_n=!1,i.pendingProps=c=g,Gd(e,m))(e.flags&131072)!==0&&(_n=!0);else return i.lanes=e.lanes,gs(e,i,m)}return zd(e,i,o,c,m)}function U_(e,i,o){var c=i.pendingProps,m=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,e!==null){for(m=i.child=e.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return B_(e,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xc(i,g!==null?g.cachePool:null),g!==null?zg(i,g):_d(),R_(i);else return i.lanes=i.childLanes=536870912,B_(e,i,g!==null?g.baseLanes|o:o,o)}else g!==null?(Xc(i,g.cachePool),zg(i,g),da(),i.memoizedState=null):(e!==null&&Xc(i,null),_d(),da());return bn(e,i,m,o),i.child}function B_(e,i,o,c){var m=hd();return m=m===null?null:{parent:on._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},e!==null&&Xc(i,null),_d(),R_(i),e!==null&&bo(e,i,c,!0),null}function dh(e,i){var o=i.ref;if(o===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(i.flags|=4194816)}}function zd(e,i,o,c,m){return Ao(i),o=Ed(e,i,o,c,void 0,m),c=Td(),e!==null&&!_n?(wd(e,i,m),gs(e,i,m)):(jt&&c&&ft(i),i.flags|=1,bn(e,i,o,m),i.child)}function j_(e,i,o,c,m,g){return Ao(i),i.updateQueue=null,o=Bg(i,c,o,m),Ug(e),c=Td(),e!==null&&!_n?(wd(e,i,g),gs(e,i,g)):(jt&&c&&ft(i),i.flags|=1,bn(e,i,o,g),i.child)}function H_(e,i,o,c,m){if(Ao(i),i.stateNode===null){var g=fs,b=o.contextType;typeof b=="object"&&b!==null&&(g=Vn(b)),g=new o(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=kd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},dd(i),b=o.contextType,g.context=typeof b=="object"&&b!==null?Vn(b):fs,g.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Nd(i,o,b,c),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&kd.enqueueReplaceState(g,g.state,null),Su(i,c,g,m),wu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){g=i.stateNode;var C=i.memoizedProps,k=Io(o,C);g.props=k;var X=g.context,ot=o.contextType;b=fs,typeof ot=="object"&&ot!==null&&(b=Vn(ot));var ct=o.getDerivedStateFromProps;ot=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ot||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||X!==b)&&I_(i,g,c,b),la=!1;var $=i.memoizedState;g.state=$,Su(i,c,g,m),wu(),X=i.memoizedState,C||$!==X||la?(typeof ct=="function"&&(Nd(i,o,ct,c),X=i.memoizedState),(k=la||C_(i,o,k,c,$,X,b))?(ot||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=X),g.props=c,g.state=X,g.context=b,c=k):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,md(e,i),b=i.memoizedProps,ot=Io(o,b),g.props=ot,ct=i.pendingProps,$=g.context,X=o.contextType,k=fs,typeof X=="object"&&X!==null&&(k=Vn(X)),C=o.getDerivedStateFromProps,(X=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ct||$!==k)&&I_(i,g,c,k),la=!1,$=i.memoizedState,g.state=$,Su(i,c,g,m),wu();var et=i.memoizedState;b!==ct||$!==et||la||e!==null&&e.dependencies!==null&&Yc(e.dependencies)?(typeof C=="function"&&(Nd(i,o,C,c),et=i.memoizedState),(ot=la||C_(i,o,ot,c,$,et,k)||e!==null&&e.dependencies!==null&&Yc(e.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,et,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,et,k)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=et),g.props=c,g.state=et,g.context=k,c=ot):(typeof g.componentDidUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&$===e.memoizedState||(i.flags|=1024),c=!1)}return g=c,dh(e,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&c?(i.child=Tl(i,e.child,null,m),i.child=Tl(i,null,o,m)):bn(e,i,o,m),i.memoizedState=g.state,e=i.child):e=gs(e,i,m),e}function q_(e,i,o,c){return aa(),i.flags|=256,bn(e,i,o,c),i.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(e){return{baseLanes:e,cachePool:Pg()}}function jd(e,i,o){return e=e!==null?e.childLanes&~o:0,i&&(e|=Zi),e}function F_(e,i,o){var c=i.pendingProps,m=!1,g=(i.flags&128)!==0,b;if((b=g)||(b=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),b&&(m=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(m?fa(i):da(),jt){var C=Ct,k;if(k=C){t:{for(k=C,C=Ue;k.nodeType!==8;){if(!C){C=null;break t}if(k=pr(k.nextSibling),k===null){C=null;break t}}C=k}C!==null?(i.memoizedState={dehydrated:C,treeContext:w!==null?{id:A,overflow:N}:null,retryLane:536870912,hydrationErrors:null},k=Qn(18,null,null,0),k.stateNode=C,k.return=i,i.child=k,At=i,Ct=null,k=!0):k=!1}k||ti(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return bm(C)?i.lanes=32:i.lanes=536870912,null;ps(i)}return C=c.children,c=c.fallback,m?(da(),m=i.mode,C=mh({mode:"hidden",children:C},m),c=Lr(c,m,o,null),C.return=i,c.return=i,C.sibling=c,i.child=C,m=i.child,m.memoizedState=Bd(o),m.childLanes=jd(e,b,o),i.memoizedState=Ud,c):(fa(i),Hd(i,C))}if(k=e.memoizedState,k!==null&&(C=k.dehydrated,C!==null)){if(g)i.flags&256?(fa(i),i.flags&=-257,i=qd(e,i,o)):i.memoizedState!==null?(da(),i.child=e.child,i.flags|=128,i=null):(da(),m=c.fallback,C=i.mode,c=mh({mode:"visible",children:c.children},C),m=Lr(m,C,o,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,Tl(i,e.child,null,o),c=i.child,c.memoizedState=Bd(o),c.childLanes=jd(e,b,o),i.memoizedState=Ud,i=m);else if(fa(i),bm(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(a(419)),c.stack="",c.digest=b,oa({value:c,source:null,stack:null}),i=qd(e,i,o)}else if(_n||bo(e,i,o,!1),b=(o&e.childLanes)!==0,_n||b){if(b=Oe,b!==null&&(c=o&-o,c=(c&42)!==0?1:Er(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,ra(e,c),Ci(b,e,c),N_;C.data==="$?"||om(),i=qd(e,i,o)}else C.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=k.treeContext,Ct=pr(C.nextSibling),At=i,jt=!0,Pe=null,Ue=!1,e!==null&&(d[_++]=A,d[_++]=N,d[_++]=w,A=e.id,N=e.overflow,w=i),i=Hd(i,c.children),i.flags|=4096);return i}return m?(da(),m=c.fallback,C=i.mode,k=e.child,X=k.sibling,c=qi(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,X!==null?m=qi(X,m):(m=Lr(m,C,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,C=e.child.memoizedState,C===null?C=Bd(o):(k=C.cachePool,k!==null?(X=on._currentValue,k=k.parent!==X?{parent:X,pool:X}:k):k=Pg(),C={baseLanes:C.baseLanes|o,cachePool:k}),m.memoizedState=C,m.childLanes=jd(e,b,o),i.memoizedState=Ud,c):(fa(i),o=e.child,e=o.sibling,o=qi(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=o,i.memoizedState=null,o)}function Hd(e,i){return i=mh({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function mh(e,i){return e=Qn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qd(e,i,o){return Tl(i,e.child,null,o),e=Hd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function G_(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),So(e.return,i,o)}function Fd(e,i,o,c,m){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function Z_(e,i,o){var c=i.pendingProps,m=c.revealOrder,g=c.tail;if(bn(e,i,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G_(e,o,i);else if(e.tag===19)G_(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(dt(ln,c),m){case"forwards":for(o=i.child,m=null;o!==null;)e=o.alternate,e!==null&&ch(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Fd(i,!1,m,o,g);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&ch(e)===null){i.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}Fd(i,!0,o,null,g);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gs(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),ya|=i.lanes,(o&i.childLanes)===0)if(e!==null){if(bo(e,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,o=qi(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=qi(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Gd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yc(e)))}function TS(e,i,o){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),Mr(i,on,e.memoizedState.cache),aa();break;case 27:case 5:Ii(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(fa(i),i.flags|=128,null):(o&i.child.childLanes)!==0?F_(e,i,o):(fa(i),e=gs(e,i,o),e!==null?e.sibling:null);fa(i);break;case 19:var m=(e.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(bo(e,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return Z_(e,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),dt(ln,ln.current),c)break;return null;case 22:case 23:return i.lanes=0,U_(e,i,o);case 24:Mr(i,on,e.memoizedState.cache)}return gs(e,i,o)}function K_(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps)_n=!0;else{if(!Gd(e,o)&&(i.flags&128)===0)return _n=!1,TS(e,i,o);_n=(e.flags&131072)!==0}else _n=!1,jt&&(i.flags&1048576)!==0&&nt(i,u,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")hl(c)?(e=Io(c,e),i.tag=1,i=H_(null,i,c,e,o)):(i.tag=0,i=zd(null,i,c,e,o));else{if(c!=null){if(m=c.$$typeof,m===Nt){i.tag=11,i=k_(null,i,c,e,o);break t}else if(m===j){i.tag=14,i=V_(null,i,c,e,o);break t}}throw i=Se(c)||c,Error(a(306,i,""))}}return i;case 0:return zd(e,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Io(c,i.pendingProps),H_(e,i,c,m,o);case 3:t:{if(re(i,i.stateNode.containerInfo),e===null)throw Error(a(387));c=i.pendingProps;var g=i.memoizedState;m=g.element,md(e,i),Su(i,c,null,o);var b=i.memoizedState;if(c=b.cache,Mr(i,on,c),c!==g.cache&&dl(i,[on],o,!0),wu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=q_(e,i,c,o);break t}else if(c!==m){m=Kn(Error(a(424)),i),oa(m),i=q_(e,i,c,o);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ct=pr(e.firstChild),At=i,jt=!0,Pe=null,Ue=!0,o=A_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(aa(),c===m){i=gs(e,i,o);break t}bn(e,i,c,o)}i=i.child}return i;case 26:return dh(e,i),e===null?(o=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=o:jt||(o=i.type,e=i.pendingProps,c=Ih(Et.current).createElement(o),c[Ze]=i,c[qe]=e,Rn(c,o,e),ze(c),i.stateNode=c):i.memoizedState=Wy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ii(i),e===null&&jt&&(c=i.stateNode=Yy(i.type,i.pendingProps,Et.current),At=i,Ue=!0,m=Ct,wa(i.type)?(Am=m,Ct=pr(c.firstChild)):Ct=m),bn(e,i,i.pendingProps.children,o),dh(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((m=c=Ct)&&(c=QS(c,i.type,i.pendingProps,Ue),c!==null?(i.stateNode=c,At=i,Ct=pr(c.firstChild),Ue=!1,m=!0):m=!1),m||ti(i)),Ii(i),m=i.type,g=i.pendingProps,b=e!==null?e.memoizedProps:null,c=g.children,Tm(m,g)?c=null:b!==null&&Tm(m,b)&&(i.flags|=32),i.memoizedState!==null&&(m=Ed(e,i,dS,null,null,o),Gu._currentValue=m),dh(e,i),bn(e,i,c,o),i.child;case 6:return e===null&&jt&&((e=o=Ct)&&(o=XS(o,i.pendingProps,Ue),o!==null?(i.stateNode=o,At=i,Ct=null,e=!0):e=!1),e||ti(i)),null;case 13:return F_(e,i,o);case 4:return re(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Tl(i,null,c,o):bn(e,i,c,o),i.child;case 11:return k_(e,i,i.type,i.pendingProps,o);case 7:return bn(e,i,i.pendingProps,o),i.child;case 8:return bn(e,i,i.pendingProps.children,o),i.child;case 12:return bn(e,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Mr(i,i.type,c.value),bn(e,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,Ao(i),m=Vn(m),c=c(m),i.flags|=1,bn(e,i,c,o),i.child;case 14:return V_(e,i,i.type,i.pendingProps,o);case 15:return z_(e,i,i.type,i.pendingProps,o);case 19:return Z_(e,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},e===null?(o=mh(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=qi(e.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return U_(e,i,o);case 24:return Ao(i),c=Vn(on),e===null?(m=hd(),m===null&&(m=Oe,g=ud(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),i.memoizedState={parent:c,cache:m},dd(i),Mr(i,on,m)):((e.lanes&o)!==0&&(md(e,i),Su(i,null,null,o),wu()),m=e.memoizedState,g=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Mr(i,on,c)):(c=g.cache,Mr(i,on,c),c!==m.cache&&dl(i,[on],o,!0))),bn(e,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function _s(e){e.flags|=4}function Y_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nv(i)){if(i=Gi.current,i!==null&&((oe&4194048)===oe?Dr!==null:(oe&62914560)!==oe&&(oe&536870912)===0||i!==Dr))throw Eu=fd,Og;e.flags|=8192}}function ph(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Vs():536870912,e.lanes|=i,Al|=i)}function Pu(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Be(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function wS(e,i,o){var c=i.pendingProps;switch(wt(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return o=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),dr(on),ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(wo(i)?_s(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kc())),Be(i),null;case 26:return o=i.memoizedState,e===null?(_s(i),o!==null?(Be(i),Y_(i,o)):(Be(i),i.flags&=-16777217)):o?o!==e.memoizedState?(_s(i),Be(i),Y_(i,o)):(Be(i),i.flags&=-16777217):(e.memoizedProps!==c&&_s(i),Be(i),i.flags&=-16777217),null;case 27:oi(i),o=Et.current;var m=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==c&&_s(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Be(i),null}e=Tt.current,wo(i)?Gc(i):(e=Yy(m,c,o),i.stateNode=e,_s(i))}return Be(i),null;case 5:if(oi(i),o=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&_s(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Be(i),null}if(e=Tt.current,wo(i))Gc(i);else{switch(m=Ih(Et.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}e[Ze]=i,e[qe]=c;t:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break t;for(;m.sibling===null;){if(m.return===null||m.return===i)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=e;t:switch(Rn(e,o,c),o){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&_s(i)}}return Be(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&_s(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(e=Et.current,wo(i)){if(e=i.stateNode,o=i.memoizedProps,c=null,m=At,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}e[Ze]=i,e=!!(e.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||jy(e.nodeValue,o)),e||ti(i)}else e=Ih(e).createTextNode(c),e[Ze]=i,i.stateNode=e}return Be(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=wo(i),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Ze]=i}else aa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),m=!1}else m=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(ps(i),i):(ps(i),null)}if(ps(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,e=e!==null&&e.memoizedState!==null,o){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==e&&o&&(i.child.flags|=8192),ph(i,i.updateQueue),Be(i),null;case 4:return ai(),e===null&&gm(i.stateNode.containerInfo),Be(i),null;case 10:return dr(i.type),Be(i),null;case 19:if(gt(ln),m=i.memoizedState,m===null)return Be(i),null;if(c=(i.flags&128)!==0,g=m.rendering,g===null)if(c)Pu(m,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=ch(e),g!==null){for(i.flags|=128,Pu(m,!1),e=g.updateQueue,i.updateQueue=e,ph(i,e),i.subtreeFlags=0,e=o,o=i.child;o!==null;)pu(o,e),o=o.sibling;return dt(ln,ln.current&1|2),i.child}e=e.sibling}m.tail!==null&&Pn()>yh&&(i.flags|=128,c=!0,Pu(m,!1),i.lanes=4194304)}else{if(!c)if(e=ch(g),e!==null){if(i.flags|=128,c=!0,e=e.updateQueue,i.updateQueue=e,ph(i,e),Pu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!jt)return Be(i),null}else 2*Pn()-m.renderingStartTime>yh&&o!==536870912&&(i.flags|=128,c=!0,Pu(m,!1),i.lanes=4194304);m.isBackwards?(g.sibling=i.child,i.child=g):(e=m.last,e!==null?e.sibling=g:i.child=g,m.last=g)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Pn(),i.sibling=null,e=ln.current,dt(ln,c?e&1|2:e&1),i):(Be(i),null);case 22:case 23:return ps(i),yd(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),o=i.updateQueue,o!==null&&ph(i,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),e!==null&&gt(Ro),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),dr(on),Be(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function SS(e,i){switch(wt(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return dr(on),ai(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return oi(i),null;case 13:if(ps(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));aa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return gt(ln),null;case 4:return ai(),null;case 10:return dr(i.type),null;case 22:case 23:return ps(i),yd(),e!==null&&gt(Ro),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return dr(on),null;case 25:return null;default:return null}}function Q_(e,i){switch(wt(i),i.tag){case 3:dr(on),ai();break;case 26:case 27:case 5:oi(i);break;case 4:ai();break;case 13:ps(i);break;case 19:gt(ln);break;case 10:dr(i.type);break;case 22:case 23:ps(i),yd(),e!==null&&gt(Ro);break;case 24:dr(on)}}function Ou(e,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&e)===e){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(C){Ae(i,i.return,C)}}function ma(e,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&e)===e){var b=c.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,m=i;var k=o,X=C;try{X()}catch(ot){Ae(m,k,ot)}}}c=c.next}while(c!==g)}}catch(ot){Ae(i,i.return,ot)}}function X_(e){var i=e.updateQueue;if(i!==null){var o=e.stateNode;try{Vg(i,o)}catch(c){Ae(e,e.return,c)}}}function W_(e,i,o){o.props=Io(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(c){Ae(e,i,c)}}function Lu(e,i){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof o=="function"?e.refCleanup=o(c):o.current=c}}catch(m){Ae(e,i,m)}}function Nr(e,i){var o=e.ref,c=e.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ae(e,i,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ae(e,i,m)}else o.current=null}function $_(e){var i=e.type,o=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ae(e,e.return,m)}}function Zd(e,i,o){try{var c=e.stateNode;FS(c,e.type,o,i),c[qe]=i}catch(m){Ae(e,e.return,m)}}function J_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wa(e.type)||e.tag===4}function Kd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||J_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(e),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ch));else if(c!==4&&(c===27&&wa(e.type)&&(o=e.stateNode,i=null),e=e.child,e!==null))for(Yd(e,i,o),e=e.sibling;e!==null;)Yd(e,i,o),e=e.sibling}function gh(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(c===27&&wa(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(gh(e,i,o),e=e.sibling;e!==null;)gh(e,i,o),e=e.sibling}function ty(e){var i=e.stateNode,o=e.memoizedProps;try{for(var c=e.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Rn(i,c,o),i[Ze]=e,i[qe]=o}catch(g){Ae(e,e.return,g)}}var ys=!1,Qe=!1,Qd=!1,ey=typeof WeakSet=="function"?WeakSet:Set,yn=null;function bS(e,i){if(e=e.containerInfo,vm=Dh,e=po(e),go(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else t:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,C=-1,k=-1,X=0,ot=0,ct=e,$=null;e:for(;;){for(var et;ct!==o||m!==0&&ct.nodeType!==3||(C=b+m),ct!==g||c!==0&&ct.nodeType!==3||(k=b+c),ct.nodeType===3&&(b+=ct.nodeValue.length),(et=ct.firstChild)!==null;)$=ct,ct=et;for(;;){if(ct===e)break e;if($===o&&++X===m&&(C=b),$===g&&++ot===c&&(k=b),(et=ct.nextSibling)!==null)break;ct=$,$=ct.parentNode}ct=et}o=C===-1||k===-1?null:{start:C,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Em={focusedElem:e,selectionRange:o},Dh=!1,yn=i;yn!==null;)if(i=yn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,yn=e;else for(;yn!==null;){switch(i=yn,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,o=i,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Bt=Io(o.type,m,o.elementType===o.type);e=c.getSnapshotBeforeUpdate(Bt,g),c.__reactInternalSnapshotBeforeUpdate=e}catch(Dt){Ae(o,o.return,Dt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,o=e.nodeType,o===9)Sm(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,yn=e;break}yn=i.return}}function ny(e,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:pa(e,o),c&4&&Ou(5,o);break;case 1:if(pa(e,o),c&4)if(e=o.stateNode,i===null)try{e.componentDidMount()}catch(b){Ae(o,o.return,b)}else{var m=Io(o.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(m,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ae(o,o.return,b)}}c&64&&X_(o),c&512&&Lu(o,o.return);break;case 3:if(pa(e,o),c&64&&(e=o.updateQueue,e!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Vg(e,i)}catch(b){Ae(o,o.return,b)}}break;case 27:i===null&&c&4&&ty(o);case 26:case 5:pa(e,o),i===null&&c&4&&$_(o),c&512&&Lu(o,o.return);break;case 12:pa(e,o);break;case 13:pa(e,o),c&4&&sy(e,o),c&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=MS.bind(null,o),WS(e,o))));break;case 22:if(c=o.memoizedState!==null||ys,!c){i=i!==null&&i.memoizedState!==null||Qe,m=ys;var g=Qe;ys=c,(Qe=i)&&!g?ga(e,o,(o.subtreeFlags&8772)!==0):pa(e,o),ys=m,Qe=g}break;case 30:break;default:pa(e,o)}}function iy(e){var i=e.alternate;i!==null&&(e.alternate=null,iy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&er(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,ni=!1;function vs(e,i,o){for(o=o.child;o!==null;)ry(e,i,o),o=o.sibling}function ry(e,i,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(Re,o)}catch{}switch(o.tag){case 26:Qe||Nr(o,i),vs(e,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||Nr(o,i);var c=Ve,m=ni;wa(o.type)&&(Ve=o.stateNode,ni=!1),vs(e,i,o),ju(o.stateNode),Ve=c,ni=m;break;case 5:Qe||Nr(o,i);case 6:if(c=Ve,m=ni,Ve=null,vs(e,i,o),Ve=c,ni=m,Ve!==null)if(ni)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(o.stateNode)}catch(g){Ae(o,i,g)}else try{Ve.removeChild(o.stateNode)}catch(g){Ae(o,i,g)}break;case 18:Ve!==null&&(ni?(e=Ve,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Qu(e)):Zy(Ve,o.stateNode));break;case 4:c=Ve,m=ni,Ve=o.stateNode.containerInfo,ni=!0,vs(e,i,o),Ve=c,ni=m;break;case 0:case 11:case 14:case 15:Qe||ma(2,o,i),Qe||ma(4,o,i),vs(e,i,o);break;case 1:Qe||(Nr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&W_(o,i,c)),vs(e,i,o);break;case 21:vs(e,i,o);break;case 22:Qe=(c=Qe)||o.memoizedState!==null,vs(e,i,o),Qe=c;break;default:vs(e,i,o)}}function sy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qu(e)}catch(o){Ae(i,i.return,o)}}function AS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ey),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ey),i;default:throw Error(a(435,e.tag))}}function Xd(e,i){var o=AS(e);i.forEach(function(c){var m=DS.bind(null,e,c);o.has(c)||(o.add(c),c.then(m,m))})}function Si(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=e,b=i,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(wa(C.type)){Ve=C.stateNode,ni=!1;break t}break;case 5:Ve=C.stateNode,ni=!1;break t;case 3:case 4:Ve=C.stateNode.containerInfo,ni=!0;break t}C=C.return}if(Ve===null)throw Error(a(160));ry(g,b,m),Ve=null,ni=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ay(i,e),i=i.sibling}var mr=null;function ay(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Si(i,e),bi(e),c&4&&(ma(3,e,e.return),Ou(3,e),ma(5,e,e.return));break;case 1:Si(i,e),bi(e),c&512&&(Qe||o===null||Nr(o,o.return)),c&64&&ys&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=mr;if(Si(i,e),bi(e),c&512&&(Qe||o===null||Nr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=e.memoizedState,o===null)if(c===null)if(e.stateNode===null){t:{c=e.type,o=e.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[wr]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Rn(g,c,o),g[Ze]=e,ze(g),c=g;break t;case"link":var b=tv("link","href",m).get(c+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break e}}g=m.createElement(c),Rn(g,c,o),m.head.appendChild(g);break;case"meta":if(b=tv("meta","content",m).get(c+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break e}}g=m.createElement(c),Rn(g,c,o),m.head.appendChild(g);break;default:throw Error(a(468,c))}g[Ze]=e,ze(g),c=g}e.stateNode=c}else ev(m,e.type,e.stateNode);else e.stateNode=Jy(m,c,e.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?ev(m,e.type,e.stateNode):Jy(m,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Zd(e,e.memoizedProps,o.memoizedProps)}break;case 27:Si(i,e),bi(e),c&512&&(Qe||o===null||Nr(o,o.return)),o!==null&&c&4&&Zd(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Si(i,e),bi(e),c&512&&(Qe||o===null||Nr(o,o.return)),e.flags&32){m=e.stateNode;try{dn(m,"")}catch(et){Ae(e,e.return,et)}}c&4&&e.stateNode!=null&&(m=e.memoizedProps,Zd(e,m,o!==null?o.memoizedProps:m)),c&1024&&(Qd=!0);break;case 6:if(Si(i,e),bi(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,o=e.stateNode;try{o.nodeValue=c}catch(et){Ae(e,e.return,et)}}break;case 3:if(Oh=null,m=mr,mr=xh(i.containerInfo),Si(i,e),mr=m,bi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Qu(i.containerInfo)}catch(et){Ae(e,e.return,et)}Qd&&(Qd=!1,oy(e));break;case 4:c=mr,mr=xh(e.stateNode.containerInfo),Si(i,e),bi(e),mr=c;break;case 12:Si(i,e),bi(e);break;case 13:Si(i,e),bi(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nm=Pn()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Xd(e,c)));break;case 22:m=e.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,X=ys,ot=Qe;if(ys=X||m,Qe=ot||k,Si(i,e),Qe=ot,ys=X,bi(e),c&8192)t:for(i=e.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||k||ys||Qe||xo(e)),o=null,i=e;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(g=k.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=k.stateNode;var ct=k.memoizedProps.style,$=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(et){Ae(k,k.return,et)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(et){Ae(k,k.return,et)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Xd(e,o))));break;case 19:Si(i,e),bi(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Xd(e,c)));break;case 30:break;case 21:break;default:Si(i,e),bi(e)}}function bi(e){var i=e.flags;if(i&2){try{for(var o,c=e.return;c!==null;){if(J_(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,g=Kd(e);gh(e,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(dn(b,""),o.flags&=-33);var C=Kd(e);gh(e,C,b);break;case 3:case 4:var k=o.stateNode.containerInfo,X=Kd(e);Yd(e,X,k);break;default:throw Error(a(161))}}catch(ot){Ae(e,e.return,ot)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;oy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function pa(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ny(e,i.alternate,i),i=i.sibling}function xo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ma(4,i,i.return),xo(i);break;case 1:Nr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&W_(i,i.return,o),xo(i);break;case 27:ju(i.stateNode);case 26:case 5:Nr(i,i.return),xo(i);break;case 22:i.memoizedState===null&&xo(i);break;case 30:xo(i);break;default:xo(i)}e=e.sibling}}function ga(e,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=e,g=i,b=g.flags;switch(g.tag){case 0:case 11:case 15:ga(m,g,o),Ou(4,g);break;case 1:if(ga(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){Ae(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)kg(k[m],C)}catch(X){Ae(c,c.return,X)}}o&&b&64&&X_(g),Lu(g,g.return);break;case 27:ty(g);case 26:case 5:ga(m,g,o),o&&c===null&&b&4&&$_(g),Lu(g,g.return);break;case 12:ga(m,g,o);break;case 13:ga(m,g,o),o&&b&4&&sy(m,g);break;case 22:g.memoizedState===null&&ga(m,g,o),Lu(g,g.return);break;case 30:break;default:ga(m,g,o)}i=i.sibling}}function Wd(e,i){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&_u(o))}function $d(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&_u(e))}function kr(e,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ly(e,i,o,c),i=i.sibling}function ly(e,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:kr(e,i,o,c),m&2048&&Ou(9,i);break;case 1:kr(e,i,o,c);break;case 3:kr(e,i,o,c),m&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&_u(e)));break;case 12:if(m&2048){kr(e,i,o,c),e=i.stateNode;try{var g=i.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(k){Ae(i,i.return,k)}}else kr(e,i,o,c);break;case 13:kr(e,i,o,c);break;case 23:break;case 22:g=i.stateNode,b=i.alternate,i.memoizedState!==null?g._visibility&2?kr(e,i,o,c):Mu(e,i):g._visibility&2?kr(e,i,o,c):(g._visibility|=2,wl(e,i,o,c,(i.subtreeFlags&10256)!==0)),m&2048&&Wd(b,i);break;case 24:kr(e,i,o,c),m&2048&&$d(i.alternate,i);break;default:kr(e,i,o,c)}}function wl(e,i,o,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,b=i,C=o,k=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:wl(g,b,C,k,m),Ou(8,b);break;case 23:break;case 22:var ot=b.stateNode;b.memoizedState!==null?ot._visibility&2?wl(g,b,C,k,m):Mu(g,b):(ot._visibility|=2,wl(g,b,C,k,m)),m&&X&2048&&Wd(b.alternate,b);break;case 24:wl(g,b,C,k,m),m&&X&2048&&$d(b.alternate,b);break;default:wl(g,b,C,k,m)}i=i.sibling}}function Mu(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=e,c=i,m=c.flags;switch(c.tag){case 22:Mu(o,c),m&2048&&Wd(c.alternate,c);break;case 24:Mu(o,c),m&2048&&$d(c.alternate,c);break;default:Mu(o,c)}i=i.sibling}}var Du=8192;function Sl(e){if(e.subtreeFlags&Du)for(e=e.child;e!==null;)uy(e),e=e.sibling}function uy(e){switch(e.tag){case 26:Sl(e),e.flags&Du&&e.memoizedState!==null&&cb(mr,e.memoizedState,e.memoizedProps);break;case 5:Sl(e);break;case 3:case 4:var i=mr;mr=xh(e.stateNode.containerInfo),Sl(e),mr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Du,Du=16777216,Sl(e),Du=i):Sl(e));break;default:Sl(e)}}function cy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Nu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];yn=c,fy(c,e)}cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hy(e),e=e.sibling}function hy(e){switch(e.tag){case 0:case 11:case 15:Nu(e),e.flags&2048&&ma(9,e,e.return);break;case 3:Nu(e);break;case 12:Nu(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,_h(e)):Nu(e);break;default:Nu(e)}}function _h(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];yn=c,fy(c,e)}cy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ma(8,i,i.return),_h(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,_h(i));break;default:_h(i)}e=e.sibling}}function fy(e,i){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:ma(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:_u(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=e;yn!==null;){c=yn;var m=c.sibling,g=c.return;if(iy(c),c===o){yn=null;break t}if(m!==null){m.return=g,yn=m;break t}yn=g}}}var RS={getCacheForType:function(e){var i=Vn(on),o=i.data.get(e);return o===void 0&&(o=e(),i.data.set(e,o)),o}},CS=typeof WeakMap=="function"?WeakMap:Map,ge=0,Oe=null,Wt=null,oe=0,_e=0,Ai=null,_a=!1,bl=!1,Jd=!1,Es=0,Ge=0,ya=0,Po=0,tm=0,Zi=0,Al=0,ku=null,ii=null,em=!1,nm=0,yh=1/0,vh=null,va=null,An=0,Ea=null,Rl=null,Cl=0,im=0,rm=null,dy=null,Vu=0,sm=null;function Ri(){if((ge&2)!==0&&oe!==0)return oe&-oe;if(rt.T!==null){var e=ml;return e!==0?e:fm()}return Tr()}function my(){Zi===0&&(Zi=(oe&536870912)===0||jt?to():536870912);var e=Gi.current;return e!==null&&(e.flags|=32),Zi}function Ci(e,i,o){(e===Oe&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(Il(e,0),Ta(e,oe,Zi,!1)),Pi(e,o),((ge&2)===0||e!==Oe)&&(e===Oe&&((ge&2)===0&&(Po|=o),Ge===4&&Ta(e,oe,Zi,!1)),Vr(e))}function py(e,i,o){if((ge&6)!==0)throw Error(a(327));var c=!o&&(i&124)===0&&(i&e.expiredLanes)===0||ui(e,i),m=c?PS(e,i):lm(e,i,!0),g=c;do{if(m===0){bl&&!c&&Ta(e,i,0,!1);break}else{if(o=e.current.alternate,g&&!IS(o)){m=lm(e,i,!1),g=!1;continue}if(m===2){if(g=i,e.errorRecoveryDisabledLanes&g)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var C=e;m=ku;var k=C.current.memoizedState.isDehydrated;if(k&&(Il(C,b).flags|=256),b=lm(C,b,!1),b!==2){if(Jd&&!k){C.errorRecoveryDisabledLanes|=g,Po|=g,m=4;break t}g=ii,ii=m,g!==null&&(ii===null?ii=g:ii.push.apply(ii,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){Il(e,0),Ta(e,i,0,!0);break}t:{switch(c=e,g=m,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ta(c,i,Zi,!_a);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=nm+300-Pn(),10<m)){if(Ta(c,i,Zi,!_a),ks(c,0,!0)!==0)break t;c.timeoutHandle=Fy(gy.bind(null,c,o,ii,vh,em,i,Zi,Po,Al,_a,g,2,-0,0),m);break t}gy(c,o,ii,vh,em,i,Zi,Po,Al,_a,g,0,-0,0)}}break}while(!0);Vr(e)}function gy(e,i,o,c,m,g,b,C,k,X,ot,ct,$,et){if(e.timeoutHandle=-1,ct=i.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Fu={stylesheets:null,count:0,unsuspend:ub},uy(i),ct=hb(),ct!==null)){e.cancelPendingCommit=ct(Sy.bind(null,e,i,g,o,c,m,b,C,k,ot,1,$,et)),Ta(e,g,b,!X);return}Sy(e,i,g,o,c,m,b,C,k)}function IS(e){for(var i=e;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Gn(g(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ta(e,i,o,c){i&=~tm,i&=~Po,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var m=i;0<m;){var g=31-hn(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&Oi(e,o,i)}function Eh(){return(ge&6)===0?(zu(0),!1):!0}function am(){if(Wt!==null){if(_e===0)var e=Wt.return;else e=Wt,fr=Fi=null,Sd(e),El=null,Iu=0,e=Wt;for(;e!==null;)Q_(e.alternate,e),e=e.return;Wt=null}}function Il(e,i){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,ZS(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),am(),Oe=e,Wt=o=qi(e.current,null),oe=i,_e=0,Ai=null,_a=!1,bl=ui(e,i),Jd=!1,Al=Zi=tm=Po=ya=Ge=0,ii=ku=null,em=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var m=31-hn(c),g=1<<m;i|=e[m],c&=~g}return Es=i,yo(),o}function _y(e,i){Yt=null,rt.H=oh,i===vu||i===Wc?(i=Dg(),_e=3):i===Og?(i=Dg(),_e=4):_e=i===N_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ai=i,Wt===null&&(Ge=1,fh(e,Kn(i,e.current)))}function yy(){var e=rt.H;return rt.H=oh,e===null?oh:e}function vy(){var e=rt.A;return rt.A=RS,e}function om(){Ge=4,_a||(oe&4194048)!==oe&&Gi.current!==null||(bl=!0),(ya&134217727)===0&&(Po&134217727)===0||Oe===null||Ta(Oe,oe,Zi,!1)}function lm(e,i,o){var c=ge;ge|=2;var m=yy(),g=vy();(Oe!==e||oe!==i)&&(vh=null,Il(e,i)),i=!1;var b=Ge;t:do try{if(_e!==0&&Wt!==null){var C=Wt,k=Ai;switch(_e){case 8:am(),b=6;break t;case 3:case 2:case 9:case 6:Gi.current===null&&(i=!0);var X=_e;if(_e=0,Ai=null,xl(e,C,k,X),o&&bl){b=0;break t}break;default:X=_e,_e=0,Ai=null,xl(e,C,k,X)}}xS(),b=Ge;break}catch(ot){_y(e,ot)}while(!0);return i&&e.shellSuspendCounter++,fr=Fi=null,ge=c,rt.H=m,rt.A=g,Wt===null&&(Oe=null,oe=0,yo()),b}function xS(){for(;Wt!==null;)Ey(Wt)}function PS(e,i){var o=ge;ge|=2;var c=yy(),m=vy();Oe!==e||oe!==i?(vh=null,yh=Pn()+500,Il(e,i)):bl=ui(e,i);t:do try{if(_e!==0&&Wt!==null){i=Wt;var g=Ai;e:switch(_e){case 1:_e=0,Ai=null,xl(e,i,g,1);break;case 2:case 9:if(Lg(g)){_e=0,Ai=null,Ty(i);break}i=function(){_e!==2&&_e!==9||Oe!==e||(_e=7),Vr(e)},g.then(i,i);break t;case 3:_e=7;break t;case 4:_e=5;break t;case 7:Lg(g)?(_e=0,Ai=null,Ty(i)):(_e=0,Ai=null,xl(e,i,g,7));break;case 5:var b=null;switch(Wt.tag){case 26:b=Wt.memoizedState;case 5:case 27:var C=Wt;if(!b||nv(b)){_e=0,Ai=null;var k=C.sibling;if(k!==null)Wt=k;else{var X=C.return;X!==null?(Wt=X,Th(X)):Wt=null}break e}}_e=0,Ai=null,xl(e,i,g,5);break;case 6:_e=0,Ai=null,xl(e,i,g,6);break;case 8:am(),Ge=6;break t;default:throw Error(a(462))}}OS();break}catch(ot){_y(e,ot)}while(!0);return fr=Fi=null,rt.H=c,rt.A=m,ge=o,Wt!==null?0:(Oe=null,oe=0,yo(),Ge)}function OS(){for(;Wt!==null&&!Ds();)Ey(Wt)}function Ey(e){var i=K_(e.alternate,e,Es);e.memoizedProps=e.pendingProps,i===null?Th(e):Wt=i}function Ty(e){var i=e,o=i.alternate;switch(i.tag){case 15:case 0:i=j_(o,i,i.pendingProps,i.type,void 0,oe);break;case 11:i=j_(o,i,i.pendingProps,i.type.render,i.ref,oe);break;case 5:Sd(i);default:Q_(o,i),i=Wt=pu(i,Es),i=K_(o,i,Es)}e.memoizedProps=e.pendingProps,i===null?Th(e):Wt=i}function xl(e,i,o,c){fr=Fi=null,Sd(i),El=null,Iu=0;var m=i.return;try{if(ES(e,m,i,o,oe)){Ge=1,fh(e,Kn(o,e.current)),Wt=null;return}}catch(g){if(m!==null)throw Wt=m,g;Ge=1,fh(e,Kn(o,e.current)),Wt=null;return}i.flags&32768?(jt||c===1?e=!0:bl||(oe&536870912)!==0?e=!1:(_a=e=!0,(c===2||c===9||c===3||c===6)&&(c=Gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),wy(i,e)):Th(i)}function Th(e){var i=e;do{if((i.flags&32768)!==0){wy(i,_a);return}e=i.return;var o=wS(i.alternate,i,Es);if(o!==null){Wt=o;return}if(i=i.sibling,i!==null){Wt=i;return}Wt=i=e}while(i!==null);Ge===0&&(Ge=5)}function wy(e,i){do{var o=SS(e.alternate,e);if(o!==null){o.flags&=32767,Wt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(e=e.sibling,e!==null)){Wt=e;return}Wt=e=o}while(e!==null);Ge=6,Wt=null}function Sy(e,i,o,c,m,g,b,C,k){e.cancelPendingCommit=null;do wh();while(An!==0);if((ge&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=wi,eo(e,o,g,b,C,k),e===Oe&&(Wt=Oe=null,oe=0),Rl=i,Ea=e,Cl=o,im=g,rm=m,dy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,NS($i,function(){return Iy(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=rt.T,rt.T=null,m=yt.p,yt.p=2,b=ge,ge|=4;try{bS(e,i,o)}finally{ge=b,yt.p=m,rt.T=c}}An=1,by(),Ay(),Ry()}}function by(){if(An===1){An=0;var e=Ea,i=Rl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=rt.T,rt.T=null;var c=yt.p;yt.p=2;var m=ge;ge|=4;try{ay(i,e);var g=Em,b=po(e.containerInfo),C=g.focusedElem,k=g.selectionRange;if(b!==C&&C&&C.ownerDocument&&al(C.ownerDocument.documentElement,C)){if(k!==null&&go(C)){var X=k.start,ot=k.end;if(ot===void 0&&(ot=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(ot,C.value.length);else{var ct=C.ownerDocument||document,$=ct&&ct.defaultView||window;if($.getSelection){var et=$.getSelection(),Bt=C.textContent.length,Dt=Math.min(k.start,Bt),we=k.end===void 0?Dt:Math.min(k.end,Bt);!et.extend&&Dt>we&&(b=we,we=Dt,Dt=b);var F=du(C,Dt),U=du(C,we);if(F&&U&&(et.rangeCount!==1||et.anchorNode!==F.node||et.anchorOffset!==F.offset||et.focusNode!==U.node||et.focusOffset!==U.offset)){var Q=ct.createRange();Q.setStart(F.node,F.offset),et.removeAllRanges(),Dt>we?(et.addRange(Q),et.extend(U.node,U.offset)):(Q.setEnd(U.node,U.offset),et.addRange(Q))}}}}for(ct=[],et=C;et=et.parentNode;)et.nodeType===1&&ct.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ct.length;C++){var lt=ct[C];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}Dh=!!vm,Em=vm=null}finally{ge=m,yt.p=c,rt.T=o}}e.current=i,An=2}}function Ay(){if(An===2){An=0;var e=Ea,i=Rl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=rt.T,rt.T=null;var c=yt.p;yt.p=2;var m=ge;ge|=4;try{ny(e,i.alternate,i)}finally{ge=m,yt.p=c,rt.T=o}}An=3}}function Ry(){if(An===4||An===3){An=0,Qa();var e=Ea,i=Rl,o=Cl,c=dy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?An=5:(An=0,Rl=Ea=null,Cy(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(va=null),zs(o),i=i.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(Re,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=rt.T,m=yt.p,yt.p=2,rt.T=null;try{for(var g=e.onRecoverableError,b=0;b<c.length;b++){var C=c[b];g(C.value,{componentStack:C.stack})}}finally{rt.T=i,yt.p=m}}(Cl&3)!==0&&wh(),Vr(e),m=e.pendingLanes,(o&4194090)!==0&&(m&42)!==0?e===sm?Vu++:(Vu=0,sm=e):Vu=0,zu(0)}}function Cy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,_u(i)))}function wh(e){return by(),Ay(),Ry(),Iy()}function Iy(){if(An!==5)return!1;var e=Ea,i=im;im=0;var o=zs(Cl),c=rt.T,m=yt.p;try{yt.p=32>o?32:o,rt.T=null,o=rm,rm=null;var g=Ea,b=Cl;if(An=0,Rl=Ea=null,Cl=0,(ge&6)!==0)throw Error(a(331));var C=ge;if(ge|=4,hy(g.current),ly(g,g.current,b,o),ge=C,zu(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(Re,g)}catch{}return!0}finally{yt.p=m,rt.T=c,Cy(e,i)}}function xy(e,i,o){i=Kn(o,i),i=Vd(e.stateNode,i,2),e=ca(e,i,2),e!==null&&(Pi(e,2),Vr(e))}function Ae(e,i,o){if(e.tag===3)xy(e,e,o);else for(;i!==null;){if(i.tag===3){xy(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(va===null||!va.has(c))){e=Kn(o,e),o=M_(2),c=ca(i,o,2),c!==null&&(D_(o,c,i,e),Pi(c,2),Vr(c));break}}i=i.return}}function um(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new CS;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(Jd=!0,m.add(o),e=LS.bind(null,e,i,o),i.then(e,e))}function LS(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Oe===e&&(oe&o)===o&&(Ge===4||Ge===3&&(oe&62914560)===oe&&300>Pn()-nm?(ge&2)===0&&Il(e,0):tm|=o,Al===oe&&(Al=0)),Vr(e)}function Py(e,i){i===0&&(i=Vs()),e=ra(e,i),e!==null&&(Pi(e,i),Vr(e))}function MS(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Py(e,o)}function DS(e,i){var o=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Py(e,o)}function NS(e,i){return Wi(e,i)}var Sh=null,Pl=null,cm=!1,bh=!1,hm=!1,Oo=0;function Vr(e){e!==Pl&&e.next===null&&(Pl===null?Sh=Pl=e:Pl=Pl.next=e),bh=!0,cm||(cm=!0,VS())}function zu(e,i){if(!hm&&bh){hm=!0;do for(var o=!1,c=Sh;c!==null;){if(e!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-hn(42|e)+1)-1,g&=m&~(b&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Dy(c,g))}else g=oe,g=ks(c,c===Oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,Dy(c,g));c=c.next}while(o);hm=!1}}function kS(){Oy()}function Oy(){bh=cm=!1;var e=0;Oo!==0&&(GS()&&(e=Oo),Oo=0);for(var i=Pn(),o=null,c=Sh;c!==null;){var m=c.next,g=Ly(c,i);g===0?(c.next=null,o===null?Sh=m:o.next=m,m===null&&(Pl=o)):(o=c,(e!==0||(g&3)!==0)&&(bh=!0)),c=m}zu(e)}function Ly(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var b=31-hn(g),C=1<<b,k=m[b];k===-1?((C&o)===0||(C&c)!==0)&&(m[b]=Ja(C,i)):k<=i&&(e.expiredLanes|=C),g&=~C}if(i=Oe,o=oe,o=ks(e,e===i?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,o===0||e===i&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&Qr(c),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||ui(e,o)){if(i=o&-o,i===e.callbackPriority)return i;switch(c!==null&&Qr(c),zs(o)){case 2:case 8:o=Xr;break;case 32:o=$i;break;case 268435456:o=Wr;break;default:o=$i}return c=My.bind(null,e),o=Wi(o,c),e.callbackPriority=i,e.callbackNode=o,i}return c!==null&&c!==null&&Qr(c),e.callbackPriority=2,e.callbackNode=null,2}function My(e,i){if(An!==0&&An!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(wh()&&e.callbackNode!==o)return null;var c=oe;return c=ks(e,e===Oe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(py(e,c,i),Ly(e,Pn()),e.callbackNode!=null&&e.callbackNode===o?My.bind(null,e):null)}function Dy(e,i){if(wh())return null;py(e,i,!0)}function VS(){KS(function(){(ge&6)!==0?Wi(Xa,kS):Oy()})}function fm(){return Oo===0&&(Oo=to()),Oo}function Ny(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cr(""+e)}function ky(e,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,e.id&&o.setAttribute("form",e.id),i.parentNode.insertBefore(o,i),e=new FormData(e),o.parentNode.removeChild(o),e}function zS(e,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var g=Ny((m[qe]||null).action),b=c.submitter;b&&(i=(i=b[qe]||null)?Ny(i.formAction):b.getAttribute("formAction"),i!==null&&(g=i,b=null));var C=new rs("action","action",null,c,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oo!==0){var k=b?ky(m,b):new FormData(m);Ld(o,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(C.preventDefault(),k=b?ky(m,b):new FormData(m),Ld(o,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var dm=0;dm<us.length;dm++){var mm=us[dm],US=mm.toLowerCase(),BS=mm[0].toUpperCase()+mm.slice(1);Ti(US,"on"+BS)}Ti(Hc,"onAnimationEnd"),Ti(Ei,"onAnimationIteration"),Ti(_o,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(od,"onTransitionRun"),Ti(cl,"onTransitionStart"),Ti(ld,"onTransitionCancel"),Ti(mu,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function Vy(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],m=c.event;c=c.listeners;t:{var g=void 0;if(i)for(var b=c.length-1;0<=b;b--){var C=c[b],k=C.instance,X=C.currentTarget;if(C=C.listener,k!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(ot){hh(ot)}m.currentTarget=null,g=k}else for(b=0;b<c.length;b++){if(C=c[b],k=C.instance,X=C.currentTarget,C=C.listener,k!==g&&m.isPropagationStopped())break t;g=C,m.currentTarget=X;try{g(m)}catch(ot){hh(ot)}m.currentTarget=null,g=k}}}}function $t(e,i){var o=i[Ln];o===void 0&&(o=i[Ln]=new Set);var c=e+"__bubble";o.has(c)||(zy(i,e,2,!1),o.add(c))}function pm(e,i,o){var c=0;i&&(c|=4),zy(o,e,c,i)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function gm(e){if(!e[Ah]){e[Ah]=!0,ro.forEach(function(o){o!=="selectionchange"&&(jS.has(o)||pm(o,!1,e),pm(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ah]||(i[Ah]=!0,pm("selectionchange",!1,i))}}function zy(e,i,o,c){switch(lv(i)){case 2:var m=mb;break;case 8:m=pb;break;default:m=Pm}o=m.bind(null,i,o,e),m=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,o,{capture:!0,passive:m}):e.addEventListener(i,o,!0):m!==void 0?e.addEventListener(i,o,{passive:m}):e.addEventListener(i,o,!1)}function _m(e,i,o,c,m){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var C=c.stateNode.containerInfo;if(C===m)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;C!==null;){if(b=ci(C),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=g=b;continue t}C=C.parentNode}}c=c.return}Fn(function(){var X=g,ot=Sn(o),ct=[];t:{var $=qc.get(e);if($!==void 0){var et=rs,Bt=e;switch(e){case"keypress":if(ve(o)===0)break t;case"keydown":case"keyup":et=Qs;break;case"focusin":Bt="focus",et=Fs;break;case"focusout":Bt="blur",et=Fs;break;case"beforeblur":case"afterblur":et=Fs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=nl;break;case Hc:case Ei:case _o:et=Zs;break;case mu:et=il;break;case"scroll":case"scrollend":et=tl;break;case"wheel":et=os;break;case"copy":case"cut":case"paste":et=Ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Xs;break;case"toggle":case"beforetoggle":et=Ui}var Dt=(i&4)!==0,we=!Dt&&(e==="scroll"||e==="scrollend"),F=Dt?$!==null?$+"Capture":null:$;Dt=[];for(var U=X,Q;U!==null;){var lt=U;if(Q=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Q===null||F===null||(lt=ae(U,F),lt!=null&&Dt.push(Bu(U,lt,Q))),we)break;U=U.return}0<Dt.length&&($=new et($,Bt,null,o,ot),ct.push({event:$,listeners:Dt}))}}if((i&7)===0){t:{if($=e==="mouseover"||e==="pointerover",et=e==="mouseout"||e==="pointerout",$&&o!==pi&&(Bt=o.relatedTarget||o.fromElement)&&(ci(Bt)||Bt[Wn]))break t;if((et||$)&&($=ot.window===ot?ot:($=ot.ownerDocument)?$.defaultView||$.parentWindow:window,et?(Bt=o.relatedTarget||o.toElement,et=X,Bt=Bt?ci(Bt):null,Bt!==null&&(we=h(Bt),Dt=Bt.tag,Bt!==we||Dt!==5&&Dt!==27&&Dt!==6)&&(Bt=null)):(et=null,Bt=X),et!==Bt)){if(Dt=pn,lt="onMouseLeave",F="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Dt=Xs,lt="onPointerLeave",F="onPointerEnter",U="pointer"),we=et==null?$:Tn(et),Q=Bt==null?$:Tn(Bt),$=new Dt(lt,U+"leave",et,o,ot),$.target=we,$.relatedTarget=Q,lt=null,ci(ot)===X&&(Dt=new Dt(F,U+"enter",Bt,o,ot),Dt.target=Q,Dt.relatedTarget=we,lt=Dt),we=lt,et&&Bt)e:{for(Dt=et,F=Bt,U=0,Q=Dt;Q;Q=Ol(Q))U++;for(Q=0,lt=F;lt;lt=Ol(lt))Q++;for(;0<U-Q;)Dt=Ol(Dt),U--;for(;0<Q-U;)F=Ol(F),Q--;for(;U--;){if(Dt===F||F!==null&&Dt===F.alternate)break e;Dt=Ol(Dt),F=Ol(F)}Dt=null}else Dt=null;et!==null&&Uy(ct,$,et,Dt,!1),Bt!==null&&we!==null&&Uy(ct,we,Bt,Dt,!0)}}t:{if($=X?Tn(X):window,et=$.nodeName&&$.nodeName.toLowerCase(),et==="select"||et==="input"&&$.type==="file")var Rt=$s;else if(xe($))if(cu)Rt=ad;else{Rt=sd;var Xt=fu}else et=$.nodeName,!et||et.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?X&&is(X.elementType)&&(Rt=$s):Rt=hr;if(Rt&&(Rt=Rt(e,X))){ur(ct,Rt,o,ot);break t}Xt&&Xt(e,$,X),e==="focusout"&&X&&$.type==="number"&&X.memoizedProps.value!=null&&di($,"number",$.value)}switch(Xt=X?Tn(X):window,e){case"focusin":(xe(Xt)||Xt.contentEditable==="true")&&(vi=Xt,ea=X,ls=null);break;case"focusout":ls=ea=vi=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,Bc(ct,o,ot);break;case"selectionchange":if(ol)break;case"keydown":case"keyup":Bc(ct,o,ot)}var Ot;if(kn)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Jt?it(e,o)&&(kt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(S&&o.locale!=="ko"&&(Jt||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Jt&&(Ot=sr()):(Jn=ot,Dn="value"in Jn?Jn.value:Jn.textContent,Jt=!0)),Xt=Rh(X,kt),0<Xt.length&&(kt=new Nn(kt,e,null,o,ot),ct.push({event:kt,listeners:Xt}),Ot?kt.data=Ot:(Ot=_t(o),Ot!==null&&(kt.data=Ot)))),(Ot=E?Fe(e,o):te(e,o))&&(kt=Rh(X,"onBeforeInput"),0<kt.length&&(Xt=new Nn("onBeforeInput","beforeinput",null,o,ot),ct.push({event:Xt,listeners:kt}),Xt.data=Ot)),zS(ct,e,X,o,ot)}Vy(ct,i)})}function Bu(e,i,o){return{instance:e,listener:i,currentTarget:o}}function Rh(e,i){for(var o=i+"Capture",c=[];e!==null;){var m=e,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=ae(e,o),m!=null&&c.unshift(Bu(e,m,g)),m=ae(e,i),m!=null&&c.push(Bu(e,m,g))),e.tag===3)return c;e=e.return}return[]}function Ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,i,o,c,m){for(var g=i._reactName,b=[];o!==null&&o!==c;){var C=o,k=C.alternate,X=C.stateNode;if(C=C.tag,k!==null&&k===c)break;C!==5&&C!==26&&C!==27||X===null||(k=X,m?(X=ae(o,g),X!=null&&b.unshift(Bu(o,X,k))):m||(X=ae(o,g),X!=null&&b.push(Bu(o,X,k)))),o=o.return}b.length!==0&&e.push({event:i,listeners:b})}var HS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function By(e){return(typeof e=="string"?e:""+e).replace(HS,`
`).replace(qS,"")}function jy(e,i){return i=By(i),By(e)===i}function Ch(){}function Te(e,i,o,c,m,g){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||dn(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&dn(e,""+c);break;case"className":Mi(e,"class",c);break;case"tabIndex":Mi(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,o,c);break;case"style":ir(e,c,g);break;case"data":if(i!=="object"){Mi(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){e.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Cr(""+c),e.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Te(e,i,"name",m.name,m,null),Te(e,i,"formEncType",m.formEncType,m,null),Te(e,i,"formMethod",m.formMethod,m,null),Te(e,i,"formTarget",m.formTarget,m,null)):(Te(e,i,"encType",m.encType,m,null),Te(e,i,"method",m.method,m,null),Te(e,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(o);break}c=Cr(""+c),e.setAttribute(o,c);break;case"onClick":c!=null&&(e.onclick=Ch);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}o=Cr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""+c):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":c===!0?e.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(o,c):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(o,c):e.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(o):e.setAttribute(o,c);break;case"popover":$t("beforetoggle",e),$t("toggle",e),Sr(e,"popover",c);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Sr(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ao.get(o)||o,Sr(e,o,c))}}function ym(e,i,o,c,m,g){switch(o){case"style":ir(e,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof c=="string"?dn(e,c):(typeof c=="number"||typeof c=="bigint")&&dn(e,""+c);break;case"onScroll":c!=null&&$t("scroll",e);break;case"onScrollEnd":c!=null&&$t("scrollend",e);break;case"onClick":c!=null&&(e.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bs.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),g=e[qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&e.removeEventListener(i,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(i,c,m);break t}o in e?e[o]=c:c===!0?e.setAttribute(o,""):Sr(e,o,c)}}}function Rn(e,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$t("error",e),$t("load",e);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Te(e,i,g,b,o,null)}}m&&Te(e,i,"srcSet",o.srcSet,o,null),c&&Te(e,i,"src",o.src,o,null);return;case"input":$t("invalid",e);var C=g=b=m=null,k=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ot=o[c];if(ot!=null)switch(c){case"name":m=ot;break;case"type":b=ot;break;case"checked":k=ot;break;case"defaultChecked":X=ot;break;case"value":g=ot;break;case"defaultValue":C=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(a(137,i));break;default:Te(e,i,c,ot,o,null)}}ns(e,g,C,k,X,b,m,!1),Rr(e);return;case"select":$t("invalid",e),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":c=C;default:Te(e,i,m,C,o,null)}i=g,o=b,e.multiple=!!c,i!=null?wn(e,!!c,i,!1):o!=null&&wn(e,!!c,o,!0);return;case"textarea":$t("invalid",e),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Te(e,i,b,C,o,null)}qn(e,c,m,g),Rr(e);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Te(e,i,k,c,o,null)}return;case"dialog":$t("beforetoggle",e),$t("toggle",e),$t("cancel",e),$t("close",e);break;case"iframe":case"object":$t("load",e);break;case"video":case"audio":for(c=0;c<Uu.length;c++)$t(Uu[c],e);break;case"image":$t("error",e),$t("load",e);break;case"details":$t("toggle",e);break;case"embed":case"source":case"link":$t("error",e),$t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Te(e,i,X,c,o,null)}return;default:if(is(i)){for(ot in o)o.hasOwnProperty(ot)&&(c=o[ot],c!==void 0&&ym(e,i,ot,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&Te(e,i,C,c,o,null))}function FS(e,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,C=null,k=null,X=null,ot=null;for(et in o){var ct=o[et];if(o.hasOwnProperty(et)&&ct!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":k=ct;default:c.hasOwnProperty(et)||Te(e,i,et,null,c,ct)}}for(var $ in c){var et=c[$];if(ct=o[$],c.hasOwnProperty($)&&(et!=null||ct!=null))switch($){case"type":g=et;break;case"name":m=et;break;case"checked":X=et;break;case"defaultChecked":ot=et;break;case"value":b=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,i));break;default:et!==ct&&Te(e,i,$,et,c,ct)}}Ie(e,b,C,k,X,ot,g,m);return;case"select":et=b=C=$=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":et=k;default:c.hasOwnProperty(g)||Te(e,i,g,null,c,k)}for(m in c)if(g=c[m],k=o[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":$=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==k&&Te(e,i,m,g,c,k)}i=C,o=b,c=et,$!=null?wn(e,!!o,$,!1):!!c!=!!o&&(i!=null?wn(e,!!o,i,!0):wn(e,!!o,o?[]:"",!1));return;case"textarea":et=$=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Te(e,i,C,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":$=m;break;case"defaultValue":et=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==g&&Te(e,i,b,m,c,g)}Vt(e,$,et);return;case"option":for(var Bt in o)if($=o[Bt],o.hasOwnProperty(Bt)&&$!=null&&!c.hasOwnProperty(Bt))switch(Bt){case"selected":e.selected=!1;break;default:Te(e,i,Bt,null,c,$)}for(k in c)if($=c[k],et=o[k],c.hasOwnProperty(k)&&$!==et&&($!=null||et!=null))switch(k){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Te(e,i,k,$,c,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in o)$=o[Dt],o.hasOwnProperty(Dt)&&$!=null&&!c.hasOwnProperty(Dt)&&Te(e,i,Dt,null,c,$);for(X in c)if($=c[X],et=o[X],c.hasOwnProperty(X)&&$!==et&&($!=null||et!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Te(e,i,X,$,c,et)}return;default:if(is(i)){for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!==void 0&&!c.hasOwnProperty(we)&&ym(e,i,we,void 0,c,$);for(ot in c)$=c[ot],et=o[ot],!c.hasOwnProperty(ot)||$===et||$===void 0&&et===void 0||ym(e,i,ot,$,c,et);return}}for(var F in o)$=o[F],o.hasOwnProperty(F)&&$!=null&&!c.hasOwnProperty(F)&&Te(e,i,F,null,c,$);for(ct in c)$=c[ct],et=o[ct],!c.hasOwnProperty(ct)||$===et||$==null&&et==null||Te(e,i,ct,$,c,et)}var vm=null,Em=null;function Ih(e){return e.nodeType===9?e:e.ownerDocument}function Hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Tm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wm=null;function GS(){var e=window.event;return e&&e.type==="popstate"?e===wm?!1:(wm=e,!0):(wm=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(YS)}:Fy;function YS(e){setTimeout(function(){throw e})}function wa(e){return e==="head"}function Zy(e,i){var o=i,c=0,m=0;do{var g=o.nextSibling;if(e.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var b=e.ownerDocument;if(o&1&&ju(b.documentElement),o&2&&ju(b.body),o&4)for(o=b.head,ju(o),b=o.firstChild;b;){var C=b.nextSibling,k=b.nodeName;b[wr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=C}}if(m===0){e.removeChild(g),Qu(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Qu(i)}function Sm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sm(o),er(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function QS(e,i,o,c){for(;e.nodeType===1;){var m=o;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[wr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=pr(e.nextSibling),e===null)break}return null}function XS(e,i,o){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=pr(e.nextSibling),e===null))return null;return e}function bm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function WS(e,i){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function pr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Am=null;function Ky(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}function Yy(e,i,o){switch(i=Ih(o),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ju(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);er(e)}var Ki=new Map,Qy=new Set;function xh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ts=yt.d;yt.d={f:$S,r:JS,D:tb,C:eb,L:nb,m:ib,X:sb,S:rb,M:ab};function $S(){var e=Ts.f(),i=Eh();return e||i}function JS(e){var i=hi(e);i!==null&&i.tag===5&&i.type==="form"?p_(i):Ts.r(e)}var Ll=typeof document>"u"?null:document;function Xy(e,i,o){var c=Ll;if(c&&typeof i=="string"&&i){var m=Le(i);m='link[rel="'+e+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Qy.has(m)||(Qy.add(m),e={rel:e,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Rn(i,"link",e),ze(i),c.head.appendChild(i)))}}function tb(e){Ts.D(e),Xy("dns-prefetch",e,null)}function eb(e,i){Ts.C(e,i),Xy("preconnect",e,i)}function nb(e,i,o){Ts.L(e,i,o);var c=Ll;if(c&&e&&i){var m='link[rel="preload"][as="'+Le(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Le(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Le(o.imageSizes)+'"]')):m+='[href="'+Le(e)+'"]';var g=m;switch(i){case"style":g=Ml(e);break;case"script":g=Dl(e)}Ki.has(g)||(e=R({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:e,as:i},o),Ki.set(g,e),c.querySelector(m)!==null||i==="style"&&c.querySelector(Hu(g))||i==="script"&&c.querySelector(qu(g))||(i=c.createElement("link"),Rn(i,"link",e),ze(i),c.head.appendChild(i)))}}function ib(e,i){Ts.m(e,i);var o=Ll;if(o&&e){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Le(c)+'"][href="'+Le(e)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Dl(e)}if(!Ki.has(g)&&(e=R({rel:"modulepreload",href:e},i),Ki.set(g,e),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(qu(g)))return}c=o.createElement("link"),Rn(c,"link",e),ze(c),o.head.appendChild(c)}}}function rb(e,i,o){Ts.S(e,i,o);var c=Ll;if(c&&e){var m=fn(c).hoistableStyles,g=Ml(e);i=i||"default";var b=m.get(g);if(!b){var C={loading:0,preload:null};if(b=c.querySelector(Hu(g)))C.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":i},o),(o=Ki.get(g))&&Rm(e,o);var k=b=c.createElement("link");ze(k),Rn(k,"link",e),k._p=new Promise(function(X,ot){k.onload=X,k.onerror=ot}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ph(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:C},m.set(g,b)}}}function sb(e,i){Ts.X(e,i);var o=Ll;if(o&&e){var c=fn(o).hoistableScripts,m=Dl(e),g=c.get(m);g||(g=o.querySelector(qu(m)),g||(e=R({src:e,async:!0},i),(i=Ki.get(m))&&Cm(e,i),g=o.createElement("script"),ze(g),Rn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function ab(e,i){Ts.M(e,i);var o=Ll;if(o&&e){var c=fn(o).hoistableScripts,m=Dl(e),g=c.get(m);g||(g=o.querySelector(qu(m)),g||(e=R({src:e,async:!0,type:"module"},i),(i=Ki.get(m))&&Cm(e,i),g=o.createElement("script"),ze(g),Rn(g,"link",e),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Wy(e,i,o,c){var m=(m=Et.current)?xh(m):null;if(!m)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ml(o.href),o=fn(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Ml(o.href);var g=fn(m).hoistableStyles,b=g.get(e);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,b),(g=m.querySelector(Hu(e)))&&!g._p&&(b.instance=g,b.state.loading=5),Ki.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ki.set(e,o),g||ob(m,e,o,b.state))),i&&c===null)throw Error(a(528,""));return b}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Dl(o),o=fn(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ml(e){return'href="'+Le(e)+'"'}function Hu(e){return'link[rel="stylesheet"]['+e+"]"}function $y(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,i,o,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Rn(i,"link",o),ze(i),e.head.appendChild(i))}function Dl(e){return'[src="'+Le(e)+'"]'}function qu(e){return"script[async]"+e}function Jy(e,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+Le(o.href)+'"]');if(c)return i.instance=c,ze(c),c;var m=R({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ze(c),Rn(c,"style",m),Ph(c,o.precedence,e),i.instance=c;case"stylesheet":m=Ml(o.href);var g=e.querySelector(Hu(m));if(g)return i.state.loading|=4,i.instance=g,ze(g),g;c=$y(o),(m=Ki.get(m))&&Rm(c,m),g=(e.ownerDocument||e).createElement("link"),ze(g);var b=g;return b._p=new Promise(function(C,k){b.onload=C,b.onerror=k}),Rn(g,"link",c),i.state.loading|=4,Ph(g,o.precedence,e),i.instance=g;case"script":return g=Dl(o.src),(m=e.querySelector(qu(g)))?(i.instance=m,ze(m),m):(c=o,(m=Ki.get(g))&&(c=R({},o),Cm(c,m)),e=e.ownerDocument||e,m=e.createElement("script"),ze(m),Rn(m,"link",c),e.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ph(c,o.precedence,e));return i.instance}function Ph(e,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var C=c[b];if(C.dataset.precedence===i)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(e,i.firstChild))}function Rm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Cm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Oh=null;function tv(e,i,o){if(Oh===null){var c=new Map,m=Oh=new Map;m.set(o,c)}else m=Oh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(e))return c;for(c.set(e,null),o=o.getElementsByTagName(e),m=0;m<o.length;m++){var g=o[m];if(!(g[wr]||g[Ze]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(i)||"";b=e+b;var C=c.get(b);C?C.push(g):c.set(b,[g])}}return c}function ev(e,i,o){e=e.ownerDocument||e,e.head.insertBefore(o,i==="title"?e.querySelector("head > title"):null)}function lb(e,i,o){if(o===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fu=null;function ub(){}function cb(e,i,o){if(Fu===null)throw Error(a(475));var c=Fu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Ml(o.href),g=e.querySelector(Hu(m));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=Lh.bind(c),e.then(c,c)),i.state.loading|=4,i.instance=g,ze(g);return}g=e.ownerDocument||e,o=$y(o),(m=Ki.get(m))&&Rm(o,m),g=g.createElement("link"),ze(g);var b=g;b._p=new Promise(function(C,k){b.onload=C,b.onerror=k}),Rn(g,"link",o),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Lh.bind(c),e.addEventListener("load",i),e.addEventListener("error",i))}}function hb(){if(Fu===null)throw Error(a(475));var e=Fu;return e.stylesheets&&e.count===0&&Im(e,e.stylesheets),0<e.count?function(i){var o=setTimeout(function(){if(e.stylesheets&&Im(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Lh(){if(this.count--,this.count===0){if(this.stylesheets)Im(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mh=null;function Im(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mh=new Map,i.forEach(fb,e),Mh=null,Lh.call(e))}function fb(e,i){if(!(i.state.loading&4)){var o=Mh.get(e);if(o)var c=o.get(null);else{o=new Map,Mh.set(e,o);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=i.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=Lh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),i.state.loading|=4}}var Gu={$$typeof:ut,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function db(e,i,o,c,m,g,b,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.hiddenUpdates=xi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iv(e,i,o,c,m,g,b,C,k,X,ot,ct){return e=new db(e,i,o,b,C,k,X,ct),i=1,g===!0&&(i|=24),g=Qn(3,null,null,i),e.current=g,g.stateNode=e,i=ud(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:i},dd(g),e}function rv(e){return e?(e=fs,e):fs}function sv(e,i,o,c,m,g){m=rv(m),c.context===null?c.context=m:c.pendingContext=m,c=ua(i),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ca(e,c,i),o!==null&&(Ci(o,e,i),Tu(o,e,i))}function av(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function xm(e,i){av(e,i),(e=e.alternate)&&av(e,i)}function ov(e){if(e.tag===13){var i=ra(e,67108864);i!==null&&Ci(i,e,67108864),xm(e,67108864)}}var Dh=!0;function mb(e,i,o,c){var m=rt.T;rt.T=null;var g=yt.p;try{yt.p=2,Pm(e,i,o,c)}finally{yt.p=g,rt.T=m}}function pb(e,i,o,c){var m=rt.T;rt.T=null;var g=yt.p;try{yt.p=8,Pm(e,i,o,c)}finally{yt.p=g,rt.T=m}}function Pm(e,i,o,c){if(Dh){var m=Om(c);if(m===null)_m(e,i,c,Nh,o),uv(e,c);else if(_b(m,e,i,o,c))c.stopPropagation();else if(uv(e,c),i&4&&-1<gb.indexOf(e)){for(;m!==null;){var g=hi(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Xn(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var k=1<<31-hn(b);C.entanglements[1]|=k,b&=~k}Vr(g),(ge&6)===0&&(yh=Pn()+500,zu(0))}}break;case 13:C=ra(g,2),C!==null&&Ci(C,g,2),Eh(),xm(g,2)}if(g=Om(c),g===null&&_m(e,i,c,Nh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else _m(e,i,c,null,o)}}function Om(e){return e=Sn(e),Lm(e)}var Nh=null;function Lm(e){if(Nh=null,e=ci(e),e!==null){var i=h(e);if(i===null)e=null;else{var o=i.tag;if(o===13){if(e=p(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Nh=e,null}function lv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Xa:return 2;case Xr:return 8;case $i:case Qo:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var Mm=!1,Sa=null,ba=null,Aa=null,Zu=new Map,Ku=new Map,Ra=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(e,i){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":Zu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(i.pointerId)}}function Yu(e,i,o,c,m,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},i!==null&&(i=hi(i),i!==null&&ov(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function _b(e,i,o,c,m){switch(i){case"focusin":return Sa=Yu(Sa,e,i,o,c,m),!0;case"dragenter":return ba=Yu(ba,e,i,o,c,m),!0;case"mouseover":return Aa=Yu(Aa,e,i,o,c,m),!0;case"pointerover":var g=m.pointerId;return Zu.set(g,Yu(Zu.get(g)||null,e,i,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Ku.set(g,Yu(Ku.get(g)||null,e,i,o,c,m)),!0}return!1}function cv(e){var i=ci(e.target);if(i!==null){var o=h(i);if(o!==null){if(i=o.tag,i===13){if(i=p(o),i!==null){e.blockedOn=i,Us(e.priority,function(){if(o.tag===13){var c=Ri();c=Er(c);var m=ra(o,c);m!==null&&Ci(m,o,c),xm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Om(e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);pi=c,o.target.dispatchEvent(c),pi=null}else return i=hi(o),i!==null&&ov(i),e.blockedOn=o,!1;i.shift()}return!0}function hv(e,i,o){kh(e)&&o.delete(i)}function yb(){Mm=!1,Sa!==null&&kh(Sa)&&(Sa=null),ba!==null&&kh(ba)&&(ba=null),Aa!==null&&kh(Aa)&&(Aa=null),Zu.forEach(hv),Ku.forEach(hv)}function Vh(e,i){e.blockedOn===i&&(e.blockedOn=null,Mm||(Mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var zh=null;function fv(e){zh!==e&&(zh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zh===e&&(zh=null);for(var i=0;i<e.length;i+=3){var o=e[i],c=e[i+1],m=e[i+2];if(typeof c!="function"){if(Lm(c||o)===null)continue;break}var g=hi(o);g!==null&&(e.splice(i,3),i-=3,Ld(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Qu(e){function i(k){return Vh(k,e)}Sa!==null&&Vh(Sa,e),ba!==null&&Vh(ba,e),Aa!==null&&Vh(Aa,e),Zu.forEach(i),Ku.forEach(i);for(var o=0;o<Ra.length;o++){var c=Ra[o];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Ra.length&&(o=Ra[0],o.blockedOn===null);)cv(o),o.blockedOn===null&&Ra.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[qe]||null;if(typeof g=="function")b||fv(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[qe]||null)C=b.formAction;else if(Lm(m)!==null)continue}else C=b.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),fv(o)}}}function Dm(e){this._internalRoot=e}Uh.prototype.render=Dm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=Ri();sv(o,c,e,i,null,null)},Uh.prototype.unmount=Dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;sv(e.current,2,null,e,null,null),Eh(),i[Wn]=null}};function Uh(e){this._internalRoot=e}Uh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Tr();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Ra.length&&i!==0&&i<Ra[o].priority;o++);Ra.splice(o,0,e),o===0&&cv(e)}};var dv=t.version;if(dv!=="19.1.1")throw Error(a(527,dv,"19.1.1"));yt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var vb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:rt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Re=Bh.inject(vb),ue=Bh}catch{}}return Wu.createRoot=function(e,i){if(!l(e))throw Error(a(299));var o=!1,c="",m=x_,g=P_,b=O_,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=iv(e,1,!1,null,null,o,c,m,g,b,C,null),e[Wn]=i.current,gm(e),new Dm(i)},Wu.hydrateRoot=function(e,i,o){if(!l(e))throw Error(a(299));var c=!1,m="",g=x_,b=P_,C=O_,k=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),i=iv(e,1,!0,i,o??null,c,m,g,b,C,k,X),i.context=rv(null),o=i.current,c=Ri(),c=Er(c),m=ua(c),m.callback=null,ca(o,m,c),o=c,i.current.lanes=o,Pi(i,o),Vr(i),e[Wn]=i.current,gm(e),new Uh(i)},Wu.version="19.1.1",Wu}var Sv;function Ib(){if(Sv)return Vm.exports;Sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vm.exports=Cb(),Vm.exports}var xb=Ib();const Pb=Op(xb);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bv="popstate";function Ob(r={}){function t(a,l){let{pathname:h,search:p,hash:y}=a.location;return ip("",{pathname:h,search:p,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:dc(l)}return Mb(t,n,null,r)}function je(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Gr(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lb(){return Math.random().toString(36).substring(2,10)}function Av(r,t){return{usr:r.state,key:r.key,idx:t}}function ip(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?$l(t):t,state:n,key:t&&t.key||a||Lb()}}function dc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function $l(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function Mb(r,t,n,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,p=l.history,y="POP",v=null,T=R();T==null&&(T=0,p.replaceState({...p.state,idx:T},""));function R(){return(p.state||{idx:null}).idx}function P(){y="POP";let J=R(),at=J==null?null:J-T;T=J,v&&v({action:y,location:tt.location,delta:at})}function x(J,at){y="PUSH";let vt=ip(tt.location,J,at);T=R()+1;let ut=Av(vt,T),Nt=tt.createHref(vt);try{p.pushState(ut,"",Nt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;l.location.assign(Nt)}h&&v&&v({action:y,location:tt.location,delta:1})}function G(J,at){y="REPLACE";let vt=ip(tt.location,J,at);T=R();let ut=Av(vt,T),Nt=tt.createHref(vt);p.replaceState(ut,"",Nt),h&&v&&v({action:y,location:tt.location,delta:0})}function W(J){return Db(J)}let tt={get action(){return y},get location(){return r(l,p)},listen(J){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(bv,P),v=J,()=>{l.removeEventListener(bv,P),v=null}},createHref(J){return t(l,J)},createURL:W,encodeLocation(J){let at=W(J);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:x,replace:G,go(J){return p.go(J)}};return tt}function Db(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:dc(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function lT(r,t,n="/"){return Nb(r,t,n,!1)}function Nb(r,t,n,a){let l=typeof t=="string"?$l(t):t,h=Cs(l.pathname||"/",n);if(h==null)return null;let p=uT(r);kb(p);let y=null;for(let v=0;y==null&&v<p.length;++v){let T=Kb(h);y=Gb(p[v],T,a)}return y}function uT(r,t=[],n=[],a=""){let l=(h,p,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};v.relativePath.startsWith("/")&&(je(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length));let T=bs([a,v.relativePath]),R=n.concat(v);h.children&&h.children.length>0&&(je(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),uT(h.children,t,R,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:qb(T,h.index),routesMeta:R})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))l(h,p);else for(let y of cT(h.path))l(h,p,y)}),t}function cT(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,l=n.endsWith("?"),h=n.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let p=cT(a.join("/")),y=[];return y.push(...p.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...p),y.map(v=>r.startsWith("/")&&v===""?"/":v)}function kb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Fb(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Vb=/^:[\w-]+$/,zb=3,Ub=2,Bb=1,jb=10,Hb=-2,Rv=r=>r==="*";function qb(r,t){let n=r.split("/"),a=n.length;return n.some(Rv)&&(a+=Hb),t&&(a+=Ub),n.filter(l=>!Rv(l)).reduce((l,h)=>l+(Vb.test(h)?zb:h===""?Bb:jb),a)}function Fb(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function Gb(r,t,n=!1){let{routesMeta:a}=r,l={},h="/",p=[];for(let y=0;y<a.length;++y){let v=a[y],T=y===a.length-1,R=h==="/"?t:t.slice(h.length)||"/",P=uf({path:v.relativePath,caseSensitive:v.caseSensitive,end:T},R),x=v.route;if(!P&&T&&n&&!a[a.length-1].route.index&&(P=uf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},R)),!P)return null;Object.assign(l,P.params),p.push({params:l,pathname:bs([h,P.pathname]),pathnameBase:Wb(bs([h,P.pathnameBase])),route:x}),P.pathnameBase!=="/"&&(h=bs([h,P.pathnameBase]))}return p}function uf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=Zb(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let h=l[0],p=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((T,{paramName:R,isOptional:P},x)=>{if(R==="*"){let W=y[x]||"";p=h.slice(0,h.length-W.length).replace(/(.)\/+$/,"$1")}const G=y[x];return P&&!G?T[R]=void 0:T[R]=(G||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:p,pattern:r}}function Zb(r,t=!1,n=!0){Gr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,y,v)=>(a.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function Kb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Cs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function Yb(r,t="/"){let{pathname:n,search:a="",hash:l=""}=typeof r=="string"?$l(r):r;return{pathname:n?n.startsWith("/")?n:Qb(n,t):t,search:$b(a),hash:Jb(l)}}function Qb(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function jm(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hT(r){let t=Xb(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function fT(r,t,n,a=!1){let l;typeof r=="string"?l=$l(r):(l={...r},je(!l.pathname||!l.pathname.includes("?"),jm("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),jm("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),jm("#","search","hash",l)));let h=r===""||l.pathname==="",p=h?"/":l.pathname,y;if(p==null)y=n;else{let P=t.length-1;if(!a&&p.startsWith("..")){let x=p.split("/");for(;x[0]==="..";)x.shift(),P-=1;l.pathname=x.join("/")}y=P>=0?t[P]:"/"}let v=Yb(l,y),T=p&&p!=="/"&&p.endsWith("/"),R=(h||p===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(T||R)&&(v.pathname+="/"),v}var bs=r=>r.join("/").replace(/\/\/+/g,"/"),Wb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dT=["POST","PUT","PATCH","DELETE"];new Set(dT);var eA=["GET",...dT];new Set(eA);var Jl=Z.createContext(null);Jl.displayName="DataRouter";var Lf=Z.createContext(null);Lf.displayName="DataRouterState";Z.createContext(!1);var mT=Z.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var nA=Z.createContext(new Map);nA.displayName="Fetchers";var iA=Z.createContext(null);iA.displayName="Await";var Yr=Z.createContext(null);Yr.displayName="Navigation";var Ac=Z.createContext(null);Ac.displayName="Location";var Ls=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ls.displayName="Route";var Mp=Z.createContext(null);Mp.displayName="RouteError";function rA(r,{relative:t}={}){je(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Z.useContext(Yr),{hash:l,pathname:h,search:p}=Cc(r,{relative:t}),y=h;return n!=="/"&&(y=h==="/"?n:bs([n,h])),a.createHref({pathname:y,search:p,hash:l})}function Rc(){return Z.useContext(Ac)!=null}function qo(){return je(Rc(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Ac).location}var pT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gT(r){Z.useContext(Yr).static||Z.useLayoutEffect(r)}function Mf(){let{isDataRoute:r}=Z.useContext(Ls);return r?_A():sA()}function sA(){je(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Jl),{basename:t,navigator:n}=Z.useContext(Yr),{matches:a}=Z.useContext(Ls),{pathname:l}=qo(),h=JSON.stringify(hT(a)),p=Z.useRef(!1);return gT(()=>{p.current=!0}),Z.useCallback((v,T={})=>{if(Gr(p.current,pT),!p.current)return;if(typeof v=="number"){n.go(v);return}let R=fT(v,JSON.parse(h),l,T.relative==="path");r==null&&t!=="/"&&(R.pathname=R.pathname==="/"?t:bs([t,R.pathname])),(T.replace?n.replace:n.push)(R,T.state,T)},[t,n,h,l,r])}Z.createContext(null);function Cc(r,{relative:t}={}){let{matches:n}=Z.useContext(Ls),{pathname:a}=qo(),l=JSON.stringify(hT(n));return Z.useMemo(()=>fT(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function aA(r,t){return _T(r,t)}function _T(r,t,n,a){je(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Z.useContext(Yr),{matches:h}=Z.useContext(Ls),p=h[h.length-1],y=p?p.params:{},v=p?p.pathname:"/",T=p?p.pathnameBase:"/",R=p&&p.route;{let at=R&&R.path||"";yT(v,!R||at.endsWith("*")||at.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${at}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${at}"> to <Route path="${at==="/"?"*":`${at}/*`}">.`)}let P=qo(),x;if(t){let at=typeof t=="string"?$l(t):t;je(T==="/"||at.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${at.pathname}" was given in the \`location\` prop.`),x=at}else x=P;let G=x.pathname||"/",W=G;if(T!=="/"){let at=T.replace(/^\//,"").split("/");W="/"+G.replace(/^\//,"").split("/").slice(at.length).join("/")}let tt=lT(r,{pathname:W});Gr(R||tt!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gr(tt==null||tt[tt.length-1].route.element!==void 0||tt[tt.length-1].route.Component!==void 0||tt[tt.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=hA(tt&&tt.map(at=>Object.assign({},at,{params:Object.assign({},y,at.params),pathname:bs([T,l.encodeLocation?l.encodeLocation(at.pathname).pathname:at.pathname]),pathnameBase:at.pathnameBase==="/"?T:bs([T,l.encodeLocation?l.encodeLocation(at.pathnameBase).pathname:at.pathnameBase])})),h,n,a);return t&&J?Z.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},J):J}function oA(){let r=gA(),t=tA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},p=null;return console.error("Error handled by React Router default ErrorBoundary:",r),p=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:h},"ErrorBoundary")," or"," ",Z.createElement("code",{style:h},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),n?Z.createElement("pre",{style:l},n):null,p)}var lA=Z.createElement(oA,null),uA=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Z.createElement(Ls.Provider,{value:this.props.routeContext},Z.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cA({routeContext:r,match:t,children:n}){let a=Z.useContext(Jl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Ls.Provider,{value:r},n)}function hA(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,h=n?.errors;if(h!=null){let v=l.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);je(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,y=-1;if(n)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=v),T.route.id){let{loaderData:R,errors:P}=n,x=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||x){p=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,T,R)=>{let P,x=!1,G=null,W=null;n&&(P=h&&T.route.id?h[T.route.id]:void 0,G=T.route.errorElement||lA,p&&(y<0&&R===0?(yT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,W=null):y===R&&(x=!0,W=T.route.hydrateFallbackElement||null)));let tt=t.concat(l.slice(0,R+1)),J=()=>{let at;return P?at=G:x?at=W:T.route.Component?at=Z.createElement(T.route.Component,null):T.route.element?at=T.route.element:at=v,Z.createElement(cA,{match:T,routeContext:{outlet:v,matches:tt,isDataRoute:n!=null},children:at})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?Z.createElement(uA,{location:n.location,revalidation:n.revalidation,component:G,error:P,children:J(),routeContext:{outlet:null,matches:tt,isDataRoute:!0}}):J()},null)}function Dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fA(r){let t=Z.useContext(Jl);return je(t,Dp(r)),t}function dA(r){let t=Z.useContext(Lf);return je(t,Dp(r)),t}function mA(r){let t=Z.useContext(Ls);return je(t,Dp(r)),t}function Np(r){let t=mA(r),n=t.matches[t.matches.length-1];return je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function pA(){return Np("useRouteId")}function gA(){let r=Z.useContext(Mp),t=dA("useRouteError"),n=Np("useRouteError");return r!==void 0?r:t.errors?.[n]}function _A(){let{router:r}=fA("useNavigate"),t=Np("useNavigate"),n=Z.useRef(!1);return gT(()=>{n.current=!0}),Z.useCallback(async(l,h={})=>{Gr(n.current,pT),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...h}))},[r,t])}var Cv={};function yT(r,t,n){!t&&!Cv[r]&&(Cv[r]=!0,Gr(!1,n))}Z.memo(yA);function yA({routes:r,future:t,state:n}){return _T(r,void 0,n,t)}function Lo(r){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vA({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:l,static:h=!1}){je(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),y=Z.useMemo(()=>({basename:p,navigator:l,static:h,future:{}}),[p,l,h]);typeof n=="string"&&(n=$l(n));let{pathname:v="/",search:T="",hash:R="",state:P=null,key:x="default"}=n,G=Z.useMemo(()=>{let W=Cs(v,p);return W==null?null:{location:{pathname:W,search:T,hash:R,state:P,key:x},navigationType:a}},[p,v,T,R,P,x,a]);return Gr(G!=null,`<Router basename="${p}"> is not able to match the URL "${v}${T}${R}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:Z.createElement(Yr.Provider,{value:y},Z.createElement(Ac.Provider,{children:t,value:G}))}function EA({children:r,location:t}){return aA(rp(r),t)}function rp(r,t=[]){let n=[];return Z.Children.forEach(r,(a,l)=>{if(!Z.isValidElement(a))return;let h=[...t,l];if(a.type===Z.Fragment){n.push.apply(n,rp(a.props.children,h));return}je(a.type===Lo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!a.props.index||!a.props.children,"An index route cannot have child routes.");let p={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=rp(a.props.children,h)),n.push(p)}),n}var Qh="get",Xh="application/x-www-form-urlencoded";function Df(r){return r!=null&&typeof r.tagName=="string"}function TA(r){return Df(r)&&r.tagName.toLowerCase()==="button"}function wA(r){return Df(r)&&r.tagName.toLowerCase()==="form"}function SA(r){return Df(r)&&r.tagName.toLowerCase()==="input"}function bA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function AA(r,t){return r.button===0&&(!t||t==="_self")&&!bA(r)}var jh=null;function RA(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(r){return r!=null&&!CA.has(r)?(Gr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):r}function IA(r,t){let n,a,l,h,p;if(wA(r)){let y=r.getAttribute("action");a=y?Cs(y,t):null,n=r.getAttribute("method")||Qh,l=Hm(r.getAttribute("enctype"))||Xh,h=new FormData(r)}else if(TA(r)||SA(r)&&(r.type==="submit"||r.type==="image")){let y=r.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=r.getAttribute("formaction")||y.getAttribute("action");if(a=v?Cs(v,t):null,n=r.getAttribute("formmethod")||y.getAttribute("method")||Qh,l=Hm(r.getAttribute("formenctype"))||Hm(y.getAttribute("enctype"))||Xh,h=new FormData(y,r),!RA()){let{name:T,type:R,value:P}=r;if(R==="image"){let x=T?`${T}.`:"";h.append(`${x}x`,"0"),h.append(`${x}y`,"0")}else T&&h.append(T,P)}}else{if(Df(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qh,a=null,l=Xh,p=r}return h&&l==="text/plain"&&(p=h,h=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:h,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xA(r,t,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&Cs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function PA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function LA(r,t,n){let a=await Promise.all(r.map(async l=>{let h=t.routes[l.route.id];if(h){let p=await PA(h,n);return p.links?p.links():[]}return[]}));return kA(a.flat(1).filter(OA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Iv(r,t,n,a,l,h){let p=(v,T)=>n[T]?v.route.id!==n[T].route.id:!0,y=(v,T)=>n[T].pathname!==v.pathname||n[T].route.path?.endsWith("*")&&n[T].params["*"]!==v.params["*"];return h==="assets"?t.filter((v,T)=>p(v,T)||y(v,T)):h==="data"?t.filter((v,T)=>{let R=a.routes[v.route.id];if(!R||!R.hasLoader)return!1;if(p(v,T)||y(v,T))return!0;if(v.route.shouldRevalidate){let P=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function MA(r,t,{includeHydrateFallback:n}={}){return DA(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function DA(r){return[...new Set(r)]}function NA(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function kA(r,t){let n=new Set;return new Set(t),r.reduce((a,l)=>{let h=JSON.stringify(NA(l));return n.has(h)||(n.add(h),a.push({key:h,link:l})),a},[])}function vT(){let r=Z.useContext(Jl);return kp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function VA(){let r=Z.useContext(Lf);return kp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vp=Z.createContext(void 0);Vp.displayName="FrameworkContext";function ET(){let r=Z.useContext(Vp);return kp(r,"You must render this element inside a <HydratedRouter> element"),r}function zA(r,t){let n=Z.useContext(Vp),[a,l]=Z.useState(!1),[h,p]=Z.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:T,onMouseLeave:R,onTouchStart:P}=t,x=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&p(!0),r==="viewport"){let tt=at=>{at.forEach(vt=>{p(vt.isIntersecting)})},J=new IntersectionObserver(tt,{threshold:.5});return x.current&&J.observe(x.current),()=>{J.disconnect()}}},[r]),Z.useEffect(()=>{if(a){let tt=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(tt)}}},[a]);let G=()=>{l(!0)},W=()=>{l(!1),p(!1)};return n?r!=="intent"?[h,x,{}]:[h,x,{onFocus:$u(y,G),onBlur:$u(v,W),onMouseEnter:$u(T,G),onMouseLeave:$u(R,W),onTouchStart:$u(P,G)}]:[!1,x,{}]}function $u(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function UA({page:r,...t}){let{router:n}=vT(),a=Z.useMemo(()=>lT(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Z.createElement(jA,{page:r,matches:a,...t}):null}function BA(r){let{manifest:t,routeModules:n}=ET(),[a,l]=Z.useState([]);return Z.useEffect(()=>{let h=!1;return LA(r,t,n).then(p=>{h||l(p)}),()=>{h=!0}},[r,t,n]),a}function jA({page:r,matches:t,...n}){let a=qo(),{manifest:l,routeModules:h}=ET(),{basename:p}=vT(),{loaderData:y,matches:v}=VA(),T=Z.useMemo(()=>Iv(r,t,v,l,a,"data"),[r,t,v,l,a]),R=Z.useMemo(()=>Iv(r,t,v,l,a,"assets"),[r,t,v,l,a]),P=Z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let W=new Set,tt=!1;if(t.forEach(at=>{let vt=l.routes[at.route.id];!vt||!vt.hasLoader||(!T.some(ut=>ut.route.id===at.route.id)&&at.route.id in y&&h[at.route.id]?.shouldRevalidate||vt.hasClientLoader?tt=!0:W.add(at.route.id))}),W.size===0)return[];let J=xA(r,p,"data");return tt&&W.size>0&&J.searchParams.set("_routes",t.filter(at=>W.has(at.route.id)).map(at=>at.route.id).join(",")),[J.pathname+J.search]},[p,y,a,l,T,t,r,h]),x=Z.useMemo(()=>MA(R,l),[R,l]),G=BA(R);return Z.createElement(Z.Fragment,null,P.map(W=>Z.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),x.map(W=>Z.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),G.map(({key:W,link:tt})=>Z.createElement("link",{key:W,nonce:n.nonce,...tt})))}function HA(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var TT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TT&&(window.__reactRouterVersion="7.8.0")}catch{}function qA({basename:r,children:t,window:n}){let a=Z.useRef();a.current==null&&(a.current=Ob({window:n,v5Compat:!0}));let l=a.current,[h,p]=Z.useState({action:l.action,location:l.location}),y=Z.useCallback(v=>{Z.startTransition(()=>p(v))},[p]);return Z.useLayoutEffect(()=>l.listen(y),[l,y]),Z.createElement(vA,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:l})}var wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=Z.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:l,reloadDocument:h,replace:p,state:y,target:v,to:T,preventScrollReset:R,viewTransition:P,...x},G){let{basename:W}=Z.useContext(Yr),tt=typeof T=="string"&&wT.test(T),J,at=!1;if(typeof T=="string"&&tt&&(J=T,TT))try{let D=new URL(window.location.href),B=T.startsWith("//")?new URL(D.protocol+T):new URL(T),z=Cs(B.pathname,W);B.origin===D.origin&&z!=null?T=z+B.search+B.hash:at=!0}catch{Gr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let vt=rA(T,{relative:l}),[ut,Nt,It]=zA(a,x),Kt=KA(T,{replace:p,state:y,target:v,preventScrollReset:R,relative:l,viewTransition:P});function j(D){t&&t(D),D.defaultPrevented||Kt(D)}let O=Z.createElement("a",{...x,...It,href:J||vt,onClick:at||h?t:j,ref:HA(G,Nt),target:v,"data-discover":!tt&&n==="render"?"true":void 0});return ut&&!tt?Z.createElement(Z.Fragment,null,O,Z.createElement(UA,{page:vt})):O});ST.displayName="Link";var FA=Z.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:l=!1,style:h,to:p,viewTransition:y,children:v,...T},R){let P=Cc(p,{relative:T.relative}),x=qo(),G=Z.useContext(Lf),{navigator:W,basename:tt}=Z.useContext(Yr),J=G!=null&&$A(P)&&y===!0,at=W.encodeLocation?W.encodeLocation(P).pathname:P.pathname,vt=x.pathname,ut=G&&G.navigation&&G.navigation.location?G.navigation.location.pathname:null;n||(vt=vt.toLowerCase(),ut=ut?ut.toLowerCase():null,at=at.toLowerCase()),ut&&tt&&(ut=Cs(ut,tt)||ut);const Nt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let It=vt===at||!l&&vt.startsWith(at)&&vt.charAt(Nt)==="/",Kt=ut!=null&&(ut===at||!l&&ut.startsWith(at)&&ut.charAt(at.length)==="/"),j={isActive:It,isPending:Kt,isTransitioning:J},O=It?t:void 0,D;typeof a=="function"?D=a(j):D=[a,It?"active":null,Kt?"pending":null,J?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(j):h;return Z.createElement(ST,{...T,"aria-current":O,className:D,ref:R,style:B,to:p,viewTransition:y},typeof v=="function"?v(j):v)});FA.displayName="NavLink";var GA=Z.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:l,state:h,method:p=Qh,action:y,onSubmit:v,relative:T,preventScrollReset:R,viewTransition:P,...x},G)=>{let W=XA(),tt=WA(y,{relative:T}),J=p.toLowerCase()==="get"?"get":"post",at=typeof y=="string"&&wT.test(y),vt=ut=>{if(v&&v(ut),ut.defaultPrevented)return;ut.preventDefault();let Nt=ut.nativeEvent.submitter,It=Nt?.getAttribute("formmethod")||p;W(Nt||ut.currentTarget,{fetcherKey:t,method:It,navigate:n,replace:l,state:h,relative:T,preventScrollReset:R,viewTransition:P})};return Z.createElement("form",{ref:G,method:J,action:tt,onSubmit:a?v:vt,...x,"data-discover":!at&&r==="render"?"true":void 0})});GA.displayName="Form";function ZA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(r){let t=Z.useContext(Jl);return je(t,ZA(r)),t}function KA(r,{target:t,replace:n,state:a,preventScrollReset:l,relative:h,viewTransition:p}={}){let y=Mf(),v=qo(),T=Cc(r,{relative:h});return Z.useCallback(R=>{if(AA(R,t)){R.preventDefault();let P=n!==void 0?n:dc(v)===dc(T);y(r,{replace:P,state:a,preventScrollReset:l,relative:h,viewTransition:p})}},[v,y,T,n,a,t,r,l,h,p])}var YA=0,QA=()=>`__${String(++YA)}__`;function XA(){let{router:r}=bT("useSubmit"),{basename:t}=Z.useContext(Yr),n=pA();return Z.useCallback(async(a,l={})=>{let{action:h,method:p,encType:y,formData:v,body:T}=IA(a,t);if(l.navigate===!1){let R=l.fetcherKey||QA();await r.fetch(R,n,l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||p,formEncType:l.encType||y,flushSync:l.flushSync})}else await r.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||p,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function WA(r,{relative:t}={}){let{basename:n}=Z.useContext(Yr),a=Z.useContext(Ls);je(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Cc(r||".",{relative:t})},p=qo();if(r==null){h.search=p.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(R=>R==="")){y.delete("index"),v.filter(P=>P).forEach(P=>y.append("index",P));let R=y.toString();h.search=R?`?${R}`:""}}return(!r||r===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(h.pathname=h.pathname==="/"?n:bs([n,h.pathname])),dc(h)}function $A(r,{relative:t}={}){let n=Z.useContext(mT);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=bT("useViewTransitionState"),l=Cc(r,{relative:t});if(!n.isTransitioning)return!1;let h=Cs(n.currentLocation.pathname,a)||n.currentLocation.pathname,p=Cs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return uf(l.pathname,p)!=null||uf(l.pathname,h)!=null}var JA=oT();const t1=()=>{};var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},e1=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=r[n++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=r[n++],p=r[n++],y=r[n++],v=((l&7)<<18|(h&63)<<12|(p&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[n++],p=r[n++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|p&63)}}return t.join("")},RT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const h=r[l],p=l+1<r.length,y=p?r[l+1]:0,v=l+2<r.length,T=v?r[l+2]:0,R=h>>2,P=(h&3)<<4|y>>4;let x=(y&15)<<2|T>>6,G=T&63;v||(G=64,p||(x=64)),a.push(n[R],n[P],n[x],n[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(AT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):e1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const h=n[r.charAt(l++)],y=l<r.length?n[r.charAt(l)]:0;++l;const T=l<r.length?n[r.charAt(l)]:64;++l;const P=l<r.length?n[r.charAt(l)]:64;if(++l,h==null||y==null||T==null||P==null)throw new n1;const x=h<<2|y>>4;if(a.push(x),T!==64){const G=y<<4&240|T>>2;if(a.push(G),P!==64){const W=T<<6&192|P;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(r){const t=AT(r);return RT.encodeByteArray(t,!0)},cf=function(r){return i1(r).replace(/\./g,"")},CT=function(r){try{return RT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=()=>r1().__FIREBASE_DEFAULTS__,a1=()=>{if(typeof process>"u"||typeof xv>"u")return;const r=xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},o1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&CT(r[1]);return t&&JSON.parse(t)},Nf=()=>{try{return t1()||s1()||a1()||o1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},IT=r=>Nf()?.emulatorHosts?.[r],l1=r=>{const t=IT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},xT=()=>Nf()?.config,PT=r=>Nf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[cf(JSON.stringify(n)),cf(JSON.stringify(p)),""].join(".")}const ac={};function h1(){const r={prod:[],emulator:[]};for(const t of Object.keys(ac))ac[t]?r.emulator.push(t):r.prod.push(t);return r}function f1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Pv=!1;function LT(r,t){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||ac[r]===t||ac[r]||Pv)return;ac[r]=t;function n(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=h1().prod.length>0;function p(){const x=document.getElementById(a);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function T(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Pv=!0,p()},x}function R(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function P(){const x=f1(a),G=n("text"),W=document.getElementById(G)||document.createElement("span"),tt=n("learnmore"),J=document.getElementById(tt)||document.createElement("a"),at=n("preprendIcon"),vt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ut=x.element;y(ut),R(J,tt);const Nt=T();v(vt,at),ut.append(vt,W,J,Nt),document.body.appendChild(ut)}h?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",P):P()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function m1(){const r=Nf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y1(){const r=Hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function v1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FirebaseError";class Ms extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=w1,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},l=`${this.service}/${t}`,h=this.errors[t],p=h?S1(h,a):"Error",y=`${this.serviceName}: ${p} (${l}).`;return new Ms(l,y,a)}}function S1(r,t){return r.replace(b1,(n,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const b1=/\{\$([^}]+)}/g;function A1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vo(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const l of n){if(!a.includes(l))return!1;const h=r[l],p=t[l];if(Ov(h)&&Ov(p)){if(!Vo(h,p))return!1}else if(h!==p)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Ov(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Ju(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,h]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(h)}}),t}function tc(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function R1(r,t){const n=new C1(r,t);return n.subscribe.bind(n)}class C1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let l;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");I1(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r){return r&&r._delegate?r._delegate:r}class zo{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new u1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(O1(t))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Mo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Mo){return this.instances.has(t)}getOptions(t=Mo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[h,p]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&p.resolve(l)}return l}onInit(t,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:P1(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Mo){return this.component?this.component.multipleInstances?t:Mo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(r){return r===Mo?void 0:r}function O1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new x1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ee||(ee={}));const M1={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},D1=ee.INFO,N1={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},k1=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=N1[t];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zp{constructor(t){this.name=t,this._logLevel=D1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?M1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}}const V1=(r,t)=>t.some(n=>r instanceof n);let Lv,Mv;function z1(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,sp=new WeakMap,DT=new WeakMap,Fm=new WeakMap,Up=new WeakMap;function B1(r){const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",h),r.removeEventListener("error",p)},h=()=>{n(Da(r.result)),l()},p=()=>{a(r.error),l()};r.addEventListener("success",h),r.addEventListener("error",p)});return t.then(n=>{n instanceof IDBCursor&&MT.set(n,r)}).catch(()=>{}),Up.set(t,r),t}function j1(r){if(sp.has(r))return;const t=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",p),r.removeEventListener("abort",p)},h=()=>{n(),l()},p=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",h),r.addEventListener("error",p),r.addEventListener("abort",p)});sp.set(r,t)}let ap={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return sp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||DT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function H1(r){ap=r(ap)}function q1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(Gm(this),t,...n);return DT.set(a,t.sort?t.sort():[t]),Da(a)}:U1().includes(r)?function(...t){return r.apply(Gm(this),t),Da(MT.get(this))}:function(...t){return Da(r.apply(Gm(this),t))}}function F1(r){return typeof r=="function"?q1(r):(r instanceof IDBTransaction&&j1(r),V1(r,z1())?new Proxy(r,ap):r)}function Da(r){if(r instanceof IDBRequest)return B1(r);if(Fm.has(r))return Fm.get(r);const t=F1(r);return t!==r&&(Fm.set(r,t),Up.set(t,r)),t}const Gm=r=>Up.get(r);function G1(r,t,{blocked:n,upgrade:a,blocking:l,terminated:h}={}){const p=indexedDB.open(r,t),y=Da(p);return a&&p.addEventListener("upgradeneeded",v=>{a(Da(p.result),v.oldVersion,v.newVersion,Da(p.transaction),v)}),n&&p.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const Z1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Zm=new Map;function Dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,l=K1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Z1.includes(n)))return;const h=async function(p,...y){const v=this.transaction(p,l?"readwrite":"readonly");let T=v.store;return a&&(T=T.index(y.shift())),(await Promise.all([T[n](...y),l&&v.done]))[0]};return Zm.set(t,h),h}H1(r=>({...r,get:(t,n,a)=>Dv(t,n)||r.get(t,n,a),has:(t,n)=>!!Dv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Q1(r){return r.getComponent()?.type==="VERSION"}const op="@firebase/app",Nv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new zp("@firebase/app"),X1="@firebase/app-compat",W1="@firebase/analytics-compat",$1="@firebase/analytics",J1="@firebase/app-check-compat",tR="@firebase/app-check",eR="@firebase/auth",nR="@firebase/auth-compat",iR="@firebase/database",rR="@firebase/data-connect",sR="@firebase/database-compat",aR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",uR="@firebase/installations-compat",cR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",mR="@firebase/remote-config",pR="@firebase/remote-config-compat",gR="@firebase/storage",_R="@firebase/storage-compat",yR="@firebase/firestore",vR="@firebase/ai",ER="@firebase/firestore-compat",TR="firebase",wR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",SR={[op]:"fire-core",[X1]:"fire-core-compat",[$1]:"fire-analytics",[W1]:"fire-analytics-compat",[tR]:"fire-app-check",[J1]:"fire-app-check-compat",[eR]:"fire-auth",[nR]:"fire-auth-compat",[iR]:"fire-rtdb",[rR]:"fire-data-connect",[sR]:"fire-rtdb-compat",[aR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[uR]:"fire-iid-compat",[cR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[mR]:"fire-rc",[pR]:"fire-rc-compat",[gR]:"fire-gcs",[_R]:"fire-gcs-compat",[yR]:"fire-fst",[ER]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[TR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,bR=new Map,up=new Map;function kv(r,t){try{r.container.addComponent(t)}catch(n){Is.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Gl(r){const t=r.name;if(up.has(t))return Is.debug(`There were multiple attempts to register component ${t}.`),!1;up.set(t,r);for(const n of hf.values())kv(n,r);for(const n of bR.values())kv(n,r);return!0}function Bp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Yi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Ic("app","Firebase",AR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n,a){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=wR;function NT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a={name:lp,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Na.create("bad-app-name",{appName:String(l)});if(n||(n=xT()),!n)throw Na.create("no-options");const h=hf.get(l);if(h){if(Vo(n,h.options)&&Vo(a,h.config))return h;throw Na.create("duplicate-app",{appName:l})}const p=new L1(l);for(const v of up.values())p.addComponent(v);const y=new RR(n,a,p);return hf.set(l,y),y}function kT(r=lp){const t=hf.get(r);if(!t&&r===lp&&xT())return NT();if(!t)throw Na.create("no-app",{appName:r});return t}function ka(r,t,n){let a=SR[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const p=[`Unable to register library "${a}" with version "${t}":`];l&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&p.push("and"),h&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Is.warn(p.join(" "));return}Gl(new zo(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="firebase-heartbeat-database",IR=1,mc="firebase-heartbeat-store";let Km=null;function VT(){return Km||(Km=G1(CR,IR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(mc)}catch(n){console.warn(n)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),Km}async function xR(r){try{const n=(await VT()).transaction(mc),a=await n.objectStore(mc).get(zT(r));return await n.done,a}catch(t){if(t instanceof Ms)Is.warn(t.message);else{const n=Na.create("idb-get",{originalErrorMessage:t?.message});Is.warn(n.message)}}}async function Vv(r,t){try{const a=(await VT()).transaction(mc,"readwrite");await a.objectStore(mc).put(t,zT(r)),await a.done}catch(n){if(n instanceof Ms)Is.warn(n.message);else{const a=Na.create("idb-set",{originalErrorMessage:n?.message});Is.warn(a.message)}}}function zT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1024,OR=30;class LR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=zv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>OR){const l=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zv(),{heartbeatsToSend:n,unsentEntries:a}=MR(this._heartbeatsCache.heartbeats),l=cf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Is.warn(t),""}}}function zv(){return new Date().toISOString().substring(0,10)}function MR(r,t=PR){const n=[];let a=r.slice();for(const l of r){const h=n.find(p=>p.agent===l.agent);if(h){if(h.dates.push(l.date),Uv(n)>t){h.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Uv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class DR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Uv(r){return cf(JSON.stringify({version:2,heartbeats:r})).length}function NR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){Gl(new zo("platform-logger",t=>new Y1(t),"PRIVATE")),Gl(new zo("heartbeat",t=>new LR(t),"PRIVATE")),ka(op,Nv,r),ka(op,Nv,"esm2020"),ka("fire-js","")}kR("");function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VR=UT,BT=new Ic("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new zp("@firebase/auth");function zR(r,...t){ff.logLevel<=ee.WARN&&ff.warn(`Auth (${eu}): ${r}`,...t)}function Wh(r,...t){ff.logLevel<=ee.ERROR&&ff.error(`Auth (${eu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,...t){throw jp(r,...t)}function Ur(r,...t){return jp(r,...t)}function jT(r,t,n){const a={...VR(),[t]:n};return new Ic("auth","Firebase",a).create(t,{appName:r.name})}function As(r){return jT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return BT.create(r,...t)}function zt(r,t,...n){if(!r)throw jp(t,...n)}function ws(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Wh(t),new Error(t)}function xs(r,t){r||ws(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){return typeof self<"u"&&self.location?.href||""}function UR(){return Bv()==="http:"||Bv()==="https:"}function Bv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||g1()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,n){this.shortDelay=t,this.longDelay=n,xs(n>t,"Short delay should be less than long delay!"),this.isMobile=d1()||_1()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r,t){xs(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FR=new Pc(3e4,6e4);function Ka(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ya(r,t,n,a,l={}){return qT(r,l,async()=>{let h={},p={};a&&(t==="GET"?p=a:h={body:JSON.stringify(a)});const y=xc({key:r.config.apiKey,...p}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const T={method:t,headers:v,...h};return p1()||(T.referrerPolicy="no-referrer"),r.emulatorConfig&&tu(r.emulatorConfig.host)&&(T.credentials="include"),HT.fetch()(await FT(r,r.config.apiHost,n,y),T)})}async function qT(r,t,n){r._canInitEmulator=!1;const a={...HR,...t};try{const l=new ZR(r),h=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw Hh(r,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const y=h.ok?p.errorMessage:p.error.message,[v,T]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(r,"credential-already-in-use",p);if(v==="EMAIL_EXISTS")throw Hh(r,"email-already-in-use",p);if(v==="USER_DISABLED")throw Hh(r,"user-disabled",p);const R=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw jT(r,R,T);yr(r,R)}}catch(l){if(l instanceof Ms)throw l;yr(r,"network-request-failed",{message:String(l)})}}async function Oc(r,t,n,a,l={}){const h=await Ya(r,t,n,a,l);return"mfaPendingCredential"in h&&yr(r,"multi-factor-auth-required",{_serverResponse:h}),h}async function FT(r,t,n,a){const l=`${t}${n}?${a}`,h=r,p=h.config.emulator?Hp(r.config,l):`${r.config.apiScheme}://${l}`;return qR.includes(n)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(p).toString():p}function GR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ur(this.auth,"network-request-failed")),FR.get())})}}function Hh(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Ur(r,t,a);return l.customData._tokenResponse=n,l}function jv(r){return r!==void 0&&r.enterprise!==void 0}class KR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return GR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YR(r,t){return Ya(r,"GET","/v2/recaptchaConfig",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,t){return Ya(r,"POST","/v1/accounts:delete",t)}async function df(r,t){return Ya(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XR(r,t=!1){const n=si(r),a=await n.getIdToken(t),l=qp(a);zt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,p=h?.sign_in_provider;return{claims:l,token:a,authTime:oc(Ym(l.auth_time)),issuedAtTime:oc(Ym(l.iat)),expirationTime:oc(Ym(l.exp)),signInProvider:p||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Ym(r){return Number(r)*1e3}function qp(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const l=CT(n);return l?JSON.parse(l):(Wh("Failed to decode base64 JWT payload"),null)}catch(l){return Wh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Hv(r){const t=qp(r);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Ms&&WR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(r){const t=r.auth,n=await r.getIdToken(),a=await pc(r,df(t,{idToken:n}));zt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const h=l.providerUserInfo?.length?GT(l.providerUserInfo):[],p=tC(r.providerData,h),y=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!p?.length,T=y?v:!1,R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new hp(l.createdAt,l.lastLoginAt),isAnonymous:T};Object.assign(r,R)}async function JR(r){const t=si(r);await mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function GT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,t){const n=await qT(r,{},async()=>{const a=xc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=r.config,p=await FT(r,l,"/v1/token",`key=${h}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return r.emulatorConfig&&tu(r.emulatorConfig.host)&&(v.credentials="include"),HT.fetch()(p,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nC(r,t){return Ya(r,"POST","/v2/accounts:revokeToken",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const n=Hv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:l,expiresIn:h}=await eC(t,n);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:l,expirationTime:h}=n,p=new Bl;return a&&(zt(typeof a=="string","internal-error",{appName:t}),p.refreshToken=a),l&&(zt(typeof l=="string","internal-error",{appName:t}),p.accessToken=l),h&&(zt(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(r,t){zt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class gr{constructor({uid:t,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await pc(this,this.stsTokenManager.getToken(this.auth,t));return zt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return XR(this,t)}reload(){return JR(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new gr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yi(this.auth.app))return Promise.reject(As(this.auth));const t=await this.getIdToken();return await pc(this,QR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const a=n.displayName??void 0,l=n.email??void 0,h=n.phoneNumber??void 0,p=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,T=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:P,emailVerified:x,isAnonymous:G,providerData:W,stsTokenManager:tt}=n;zt(P&&tt,t,"internal-error");const J=Bl.fromJSON(this.name,tt);zt(typeof P=="string",t,"internal-error"),Ia(a,t.name),Ia(l,t.name),zt(typeof x=="boolean",t,"internal-error"),zt(typeof G=="boolean",t,"internal-error"),Ia(h,t.name),Ia(p,t.name),Ia(y,t.name),Ia(v,t.name),Ia(T,t.name),Ia(R,t.name);const at=new gr({uid:P,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:G,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:J,createdAt:T,lastLoginAt:R});return W&&Array.isArray(W)&&(at.providerData=W.map(vt=>({...vt}))),v&&(at._redirectEventId=v),at}static async _fromIdTokenResponse(t,n,a=!1){const l=new Bl;l.updateFromServerResponse(n);const h=new gr({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await mf(h),h}static async _fromGetAccountInfoResponse(t,n,a){const l=n.users[0];zt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?GT(l.providerUserInfo):[],p=!(l.email&&l.passwordHash)&&!h?.length,y=new Bl;y.updateFromIdToken(a);const v=new gr({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:p}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new hp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,T),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function Ss(r){xs(r instanceof Function,"Expected a class definition");let t=qv.get(r);return t?(xs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,qv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZT.type="NONE";const Fv=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r,t,n){return`firebase:${r}:${t}:${n}`}class jl{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=$h(this.userKey,l.apiKey,h),this.fullPersistenceKey=$h("persistence",l.apiKey,h),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await df(this.auth,{idToken:t}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,t):null}return gr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new jl(Ss(Fv),t,a);const l=(await Promise.all(n.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Ss(Fv);const p=$h(a,t.config.apiKey,t.name);let y=null;for(const T of n)try{const R=await T._get(p);if(R){let P;if(typeof R=="string"){const x=await df(t,{idToken:R}).catch(()=>{});if(!x)break;P=await gr._fromGetAccountInfoResponse(t,x,R)}else P=gr._fromJSON(t,R);T!==h&&(y=P),h=T;break}}catch{}const v=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new jl(h,t,a):(h=v[0],y&&await h._set(p,y.toJSON()),await Promise.all(n.map(async T=>{if(T!==h)try{await T._remove(p)}catch{}})),new jl(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($T(t))return"Blackberry";if(JT(t))return"Webos";if(YT(t))return"Safari";if((t.includes("chrome/")||QT(t))&&!t.includes("edge/"))return"Chrome";if(WT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function KT(r=Hn()){return/firefox\//i.test(r)}function YT(r=Hn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QT(r=Hn()){return/crios\//i.test(r)}function XT(r=Hn()){return/iemobile/i.test(r)}function WT(r=Hn()){return/android/i.test(r)}function $T(r=Hn()){return/blackberry/i.test(r)}function JT(r=Hn()){return/webos/i.test(r)}function Fp(r=Hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iC(r=Hn()){return Fp(r)&&!!window.navigator?.standalone}function rC(){return y1()&&document.documentMode===10}function t0(r=Hn()){return Fp(r)||WT(r)||JT(r)||$T(r)||/windows phone/i.test(r)||XT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r,t=[]){let n;switch(r){case"Browser":n=Gv(Hn());break;case"Worker":n=`${Gv(Hn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=h=>new Promise((p,y)=>{try{const v=t(h);p(v)}catch(v){y(v)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,t={}){return Ya(r,"GET","/v2/passwordPolicy",Ka(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class lC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n,a,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await df(this,{idToken:t}),a=await gr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,p=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===p)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yi(this.app))return Promise.reject(As(this));const n=t?si(t):null;return n&&zt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yi(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yi(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aC(this),n=new lC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ic("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await nC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ss(t)||this._popupRedirectResolver;zt(n,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,l){if(this._deleted)return()=>{};const h=typeof n=="function"?n:n.next.bind(n);let p=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(y,this,"internal-error"),y.then(()=>{p||h(this.currentUser)}),typeof n=="function"){const v=t.addObserver(n,a,l);return()=>{p=!0,v()}}else{const v=t.addObserver(n);return()=>{p=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=e0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&zR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fo(r){return si(r)}class Zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=R1(n=>this.observer=n)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(r){kf=r}function n0(r){return kf.loadJS(r)}function hC(){return kf.recaptchaEnterpriseScript}function fC(){return kf.gapiScript}function dC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mC{constructor(){this.enterprise=new pC}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class pC{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const gC="recaptcha-enterprise",i0="NO_RECAPTCHA";class _C{constructor(t){this.type=gC,this.auth=Fo(t)}async verify(t="verify",n=!1){async function a(h){if(!n){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(p,y)=>{YR(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)y(new Error("recaptcha Enterprise site key undefined"));else{const T=new KR(v);return h.tenantId==null?h._agentRecaptchaConfig=T:h._tenantRecaptchaConfigs[h.tenantId]=T,p(T.siteKey)}}).catch(v=>{y(v)})})}function l(h,p,y){const v=window.grecaptcha;jv(v)?v.enterprise.ready(()=>{v.enterprise.execute(h,{action:t}).then(T=>{p(T)}).catch(()=>{p(i0)})}):y(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mC().execute("siteKey",{action:"verify"}):new Promise((h,p)=>{a(this.auth).then(y=>{if(!n&&jv(window.grecaptcha))l(y,h,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let v=hC();v.length!==0&&(v+=y),n0(v).then(()=>{l(y,h,p)}).catch(T=>{p(T)})}}).catch(y=>{p(y)})})}}async function Kv(r,t,n,a=!1,l=!1){const h=new _C(r);let p;if(l)p=i0;else try{p=await h.verify(n)}catch{p=await h.verify(n,!0)}const y={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in y){const v=y.phoneEnrollmentInfo.phoneNumber,T=y.phoneEnrollmentInfo.recaptchaToken;Object.assign(y,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:T,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in y){const v=y.phoneSignInInfo.recaptchaToken;Object.assign(y,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:p,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return y}return a?Object.assign(y,{captchaResp:p}):Object.assign(y,{captchaResponse:p}),Object.assign(y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),y}async function fp(r,t,n,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Kv(r,t,n,n==="getOobCode");return a(r,h)}else return a(r,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Kv(r,t,n,n==="getOobCode");return a(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r,t){const n=Bp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),h=n.getOptions();if(Vo(h,t??{}))return l;yr(l,"already-initialized")}return n.initialize({options:t})}function vC(r,t){const n=t?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ss);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function EC(r,t,n){const a=Fo(r);zt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=r0(t),{host:p,port:y}=TC(t),v=y===null?"":`:${y}`,T={url:`${h}//${p}${v}/`},R=Object.freeze({host:p,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){zt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),zt(Vo(T,a.config.emulator)&&Vo(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,tu(p)?(OT(`${h}//${p}${v}`),LT("Auth",!0)):wC()}function r0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function TC(r){const t=r0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:Yv(a.substr(h.length+1))}}else{const[h,p]=a.split(":");return{host:h,port:Yv(p)}}}function Yv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ws("not implemented")}_getIdTokenResponse(t){return ws("not implemented")}_linkToIdToken(t,n){return ws("not implemented")}_getReauthenticationResolver(t){return ws("not implemented")}}async function SC(r,t){return Ya(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t){return Oc(r,"POST","/v1/accounts:signInWithPassword",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,t){return Oc(r,"POST","/v1/accounts:signInWithEmailLink",Ka(r,t))}async function RC(r,t){return Oc(r,"POST","/v1/accounts:signInWithEmailLink",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Gp{constructor(t,n,a,l=null){super("password",a),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new gc(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new gc(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(t,n,"signInWithPassword",bC);case"emailLink":return AC(t,{email:this._email,oobCode:this._password});default:yr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(t,a,"signUpPassword",SC);case"emailLink":return RC(t,{idToken:n,email:this._email,oobCode:this._password});default:yr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(r,t){return Oc(r,"POST","/v1/accounts:signInWithIdp",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class Uo extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Uo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=n;if(!a||!l)return null;const p=new Uo(a,l);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const n=this.buildRequest();return Hl(t,n)}_linkToIdToken(t,n){const a=this.buildRequest();return a.idToken=n,Hl(t,a)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Hl(t,n)}buildRequest(){const t={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=xc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(r){const t=Ju(tc(r)).link,n=t?Ju(tc(t)).deep_link_id:null,a=Ju(tc(r)).deep_link_id;return(a?Ju(tc(a)).link:null)||a||n||t||r}class Zp{constructor(t){const n=Ju(tc(t)),a=n.apiKey??null,l=n.oobCode??null,h=IC(n.mode??null);zt(a&&l&&h,"argument-error"),this.apiKey=a,this.operation=h,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=xC(t);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(t,n){return gc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=Zp.parseLink(n);return zt(a,"argument-error"),gc._fromEmailAndCode(t,a.code,a.tenantId)}}nu.PROVIDER_ID="password";nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Lc{constructor(){super("facebook.com")}static credential(t){return Uo._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xa.credentialFromTaggedObject(t)}static credentialFromError(t){return xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xa.credential(t.oauthAccessToken)}catch{return null}}}xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Uo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:a}=t;if(!n&&!a)return null;try{return Pa.credential(n,a)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends Lc{constructor(){super("github.com")}static credential(t){return Uo._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oa.credentialFromTaggedObject(t)}static credentialFromError(t){return Oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oa.credential(t.oauthAccessToken)}catch{return null}}}Oa.GITHUB_SIGN_IN_METHOD="github.com";Oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Lc{constructor(){super("twitter.com")}static credential(t,n){return Uo._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=t;if(!n||!a)return null;try{return La.credential(n,a)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,t){return Oc(r,"POST","/v1/accounts:signUp",Ka(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,l=!1){const h=await gr._fromIdTokenResponse(t,a,l),p=Qv(a);return new Bo({user:h,providerId:p,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const l=Qv(a);return new Bo({user:t,providerId:l,_tokenResponse:a,operationType:n})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends Ms{constructor(t,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,l){return new pf(t,n,a,l)}}function a0(r,t,n,a){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(r,h,t,a):h})}async function OC(r,t,n=!1){const a=await pc(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Bo._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,t,n=!1){const{auth:a}=r;if(Yi(a.app))return Promise.reject(As(a));const l="reauthenticate";try{const h=await pc(r,a0(a,l,t,r),n);zt(h.idToken,a,"internal-error");const p=qp(h.idToken);zt(p,a,"internal-error");const{sub:y}=p;return zt(r.uid===y,a,"user-mismatch"),Bo._forOperation(r,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&yr(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(r,t,n=!1){if(Yi(r.app))return Promise.reject(As(r));const a="signIn",l=await a0(r,a,t),h=await Bo._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(h.user),h}async function MC(r,t){return o0(Fo(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(r){const t=Fo(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DC(r,t,n){if(Yi(r.app))return Promise.reject(As(r));const a=Fo(r),p=await fp(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PC).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&l0(r),v}),y=await Bo._fromIdTokenResponse(a,"signIn",p);return await a._updateCurrentUser(y.user),y}function NC(r,t,n){return Yi(r.app)?Promise.reject(As(r)):MC(si(r),nu.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&l0(r),a})}function kC(r,t,n,a){return si(r).onIdTokenChanged(t,n,a)}function VC(r,t,n){return si(r).beforeAuthStateChanged(t,n)}function zC(r){return si(r).signOut()}const gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,BC=10;class c0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&t(n,l,a)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((p,y,v)=>{this.notifyListeners(p,v)});return}const a=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const p=this.storage.getItem(a);!n&&this.localCache[a]===p||this.notifyListeners(a,p)},h=this.storage.getItem(a);rC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,BC):l()}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:a}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}c0.type="LOCAL";const jC=c0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}h0.type="SESSION";const f0=h0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const a=new Vf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:l,data:h}=n.data,p=this.handlersMap[l];if(!p?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(p).map(async T=>T(n.origin,h)),v=await HC(y);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,p;return new Promise((y,v)=>{const T=Kp("",20);l.port1.start();const R=setTimeout(()=>{v(new Error("unsupported_event"))},a);p={messageChannel:l,onMessage(P){const x=P;if(x.data.eventId===T)switch(x.data.status){case"ack":clearTimeout(R),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(x.data.response);break;default:clearTimeout(R),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(p),l.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:T,data:n},[l.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function FC(r){Br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function GC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function KC(){return d0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",YC=1,_f="firebaseLocalStorage",p0="fbase_key";class Mc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zf(r,t){return r.transaction([_f],t?"readwrite":"readonly").objectStore(_f)}function QC(){const r=indexedDB.deleteDatabase(m0);return new Mc(r).toPromise()}function dp(){const r=indexedDB.open(m0,YC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(_f,{keyPath:p0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(_f)?t(a):(a.close(),await QC(),t(await dp()))})})}async function Xv(r,t,n){const a=zf(r,!0).put({[p0]:t,value:n});return new Mc(a).toPromise()}async function XC(r,t){const n=zf(r,!1).get(t),a=await new Mc(n).toPromise();return a===void 0?null:a.value}function Wv(r,t){const n=zf(r,!0).delete(t);return new Mc(n).toPromise()}const WC=800,$C=3;class g0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>$C)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(KC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await Xv(t,gf,"1"),await Wv(t,gf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Xv(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>XC(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Wv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=zf(l,!1).getAll();return new Mc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g0.type="LOCAL";const JC=g0;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r,t){return t?Ss(t):(zt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Gp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Hl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Hl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Hl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eI(r){return o0(r.auth,new Yp(r),r.bypassAuthState)}function nI(r){const{auth:t,user:n}=r;return zt(n,t,"internal-error"),LC(n,new Yp(r),r.bypassAuthState)}async function iI(r){const{auth:t,user:n}=r;return zt(n,t,"internal-error"),OC(n,new Yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,n,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:a,postBody:l,tenantId:h,error:p,type:y}=t;if(p){this.reject(p);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return iI;case"reauthViaPopup":case"reauthViaRedirect":return nI;default:yr(this.auth,"internal-error")}}resolve(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Pc(2e3,1e4);class Ul extends _0{constructor(t,n,a,l,h){super(t,n,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const t=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rI.get())};t()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="pendingRedirect",Jh=new Map;class aI extends _0{constructor(t,n,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let t=Jh.get(this.auth._key());if(!t){try{const a=await oI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(n){t=()=>Promise.reject(n)}Jh.set(this.auth._key(),t)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oI(r,t){const n=cI(t),a=uI(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function lI(r,t){Jh.set(r._key(),t)}function uI(r){return Ss(r._redirectPersistence)}function cI(r){return $h(sI,r.config.apiKey,r.name)}async function hI(r,t,n=!1){if(Yi(r.app))return Promise.reject(As(r));const a=Fo(r),l=tI(a,t),p=await new aI(a,l,n).execute();return p&&!n&&(delete p.user._redirectEventId,await a._persistUserIfCurrent(p.user),await a._setRedirectUser(null,t)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=600*1e3;class dI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(n=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!y0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ur(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const a=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fI&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(t))}saveEventToCache(t){this.cachedEventUids.add($v(t)),this.lastProcessedEventTime=Date.now()}}function $v(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function y0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function mI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,t={}){return Ya(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_I=/^https?/;async function yI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pI(r);for(const n of t)try{if(vI(n))return}catch{}yr(r,"unauthorized-domain")}function vI(r){const t=cp(),{protocol:n,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const p=new URL(r);return p.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&p.hostname===a}if(!_I.test(n))return!1;if(gI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Pc(3e4,6e4);function Jv(){const r=Br().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function TI(r){return new Promise((t,n)=>{function a(){Jv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jv(),n(Ur(r,"network-request-failed"))},timeout:EI.get()})}if(Br().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Br().gapi?.load)a();else{const l=dC("iframefcb");return Br()[l]=()=>{gapi.load?a():n(Ur(r,"network-request-failed"))},n0(`${fC()}?onload=${l}`).catch(h=>n(h))}}).catch(t=>{throw tf=null,t})}let tf=null;function wI(r){return tf=tf||TI(r),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Pc(5e3,15e3),bI="__/auth/iframe",AI="emulator/auth/iframe",RI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function II(r){const t=r.config;zt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Hp(t,AI):`https://${r.config.authDomain}/${bI}`,a={apiKey:t.apiKey,appName:r.name,v:eu},l=CI.get(r.config.apiHost);l&&(a.eid=l);const h=r._getFrameworks();return h.length&&(a.fw=h.join(",")),`${n}?${xc(a).slice(1)}`}async function xI(r){const t=await wI(r),n=Br().gapi;return zt(n,r,"internal-error"),t.open({where:document.body,url:II(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RI,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const p=Ur(r,"network-request-failed"),y=Br().setTimeout(()=>{h(p)},SI.get());function v(){Br().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{h(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OI=500,LI=600,MI="_blank",DI="http://localhost";class tE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NI(r,t,n,a=OI,l=LI){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),p=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...PI,width:a.toString(),height:l.toString(),top:h,left:p},T=Hn().toLowerCase();n&&(y=QT(T)?MI:n),KT(T)&&(t=t||DI,v.scrollbars="yes");const R=Object.entries(v).reduce((x,[G,W])=>`${x}${G}=${W},`,"");if(iC(T)&&y!=="_self")return kI(t||"",y),new tE(null);const P=window.open(t||"",y,R);zt(P,r,"popup-blocked");try{P.focus()}catch{}return new tE(P)}function kI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__/auth/handler",zI="emulator/auth/handler",UI=encodeURIComponent("fac");async function eE(r,t,n,a,l,h){zt(r.config.authDomain,r,"auth-domain-config-required"),zt(r.config.apiKey,r,"invalid-api-key");const p={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:eu,eventId:l};if(t instanceof s0){t.setDefaultLanguage(r.languageCode),p.providerId=t.providerId||"",A1(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[R,P]of Object.entries({}))p[R]=P}if(t instanceof Lc){const R=t.getScopes().filter(P=>P!=="");R.length>0&&(p.scopes=R.join(","))}r.tenantId&&(p.tid=r.tenantId);const y=p;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const v=await r._getAppCheckToken(),T=v?`#${UI}=${encodeURIComponent(v)}`:"";return`${BI(r)}?${xc(y).slice(1)}${T}`}function BI({config:r}){return r.emulator?Hp(r,zI):`https://${r.authDomain}/${VI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class jI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f0,this._completeRedirectFn=hI,this._overrideRedirectResult=lI}async _openPopup(t,n,a,l){xs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await eE(t,n,a,cp(),l);return NI(t,h,Kp())}async _openRedirect(t,n,a,l){await this._originValidation(t);const h=await eE(t,n,a,cp(),l);return FC(h),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:h}=this.eventManagers[n];return l?Promise.resolve(l):(xs(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(t){const n=await xI(t),a=new dI(t);return n.register("authEvent",l=>(zt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=n,a}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Qm,{type:Qm},l=>{const h=l?.[0]?.[Qm];h!==void 0&&n(!!h),yr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return t0()||YT()||Fp()}}const HI=jI;var nE="@firebase/auth",iE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GI(r){Gl(new zo("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:y}=a.options;zt(p&&!p.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:p,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e0(r)},T=new uC(a,l,h,v);return vC(T,n),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Gl(new zo("auth-internal",t=>{const n=Fo(t.getProvider("auth").getImmediate());return(a=>new qI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(nE,iE,FI(r)),ka(nE,iE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=300,KI=PT("authIdTokenMaxAge")||ZI;let rE=null;const YI=r=>async t=>{const n=t&&await t.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>KI)return;const l=n?.token;rE!==l&&(rE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yf(r=kT()){const t=Bp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=yC(r,{popupRedirectResolver:HI,persistence:[JC,jC,f0]}),a=PT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const p=YI(h.toString());VC(n,p,()=>p(n.currentUser)),kC(n,y=>p(y))}}const l=IT("auth");return l&&EC(n,`http://${l}`),n}function QI(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const h=Ur("internal-error");h.customData=l,n(h)},a.type="text/javascript",a.charset="UTF-8",QI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GI("Browser");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,v0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,O){function D(){}D.prototype=O.prototype,j.D=O.prototype,j.prototype=new D,j.prototype.constructor=j,j.C=function(B,z,H){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return O.prototype[z].apply(B,V)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(j,O,D){D||(D=0);var B=Array(16);if(typeof O=="string")for(var z=0;16>z;++z)B[z]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(z=0;16>z;++z)B[z]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=j.g[0],D=j.g[1],z=j.g[2];var H=j.g[3],V=O+(H^D&(z^H))+B[0]+3614090360&4294967295;O=D+(V<<7&4294967295|V>>>25),V=H+(z^O&(D^z))+B[1]+3905402710&4294967295,H=O+(V<<12&4294967295|V>>>20),V=z+(D^H&(O^D))+B[2]+606105819&4294967295,z=H+(V<<17&4294967295|V>>>15),V=D+(O^z&(H^O))+B[3]+3250441966&4294967295,D=z+(V<<22&4294967295|V>>>10),V=O+(H^D&(z^H))+B[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=H+(z^O&(D^z))+B[5]+1200080426&4294967295,H=O+(V<<12&4294967295|V>>>20),V=z+(D^H&(O^D))+B[6]+2821735955&4294967295,z=H+(V<<17&4294967295|V>>>15),V=D+(O^z&(H^O))+B[7]+4249261313&4294967295,D=z+(V<<22&4294967295|V>>>10),V=O+(H^D&(z^H))+B[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=H+(z^O&(D^z))+B[9]+2336552879&4294967295,H=O+(V<<12&4294967295|V>>>20),V=z+(D^H&(O^D))+B[10]+4294925233&4294967295,z=H+(V<<17&4294967295|V>>>15),V=D+(O^z&(H^O))+B[11]+2304563134&4294967295,D=z+(V<<22&4294967295|V>>>10),V=O+(H^D&(z^H))+B[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=H+(z^O&(D^z))+B[13]+4254626195&4294967295,H=O+(V<<12&4294967295|V>>>20),V=z+(D^H&(O^D))+B[14]+2792965006&4294967295,z=H+(V<<17&4294967295|V>>>15),V=D+(O^z&(H^O))+B[15]+1236535329&4294967295,D=z+(V<<22&4294967295|V>>>10),V=O+(z^H&(D^z))+B[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=H+(D^z&(O^D))+B[6]+3225465664&4294967295,H=O+(V<<9&4294967295|V>>>23),V=z+(O^D&(H^O))+B[11]+643717713&4294967295,z=H+(V<<14&4294967295|V>>>18),V=D+(H^O&(z^H))+B[0]+3921069994&4294967295,D=z+(V<<20&4294967295|V>>>12),V=O+(z^H&(D^z))+B[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=H+(D^z&(O^D))+B[10]+38016083&4294967295,H=O+(V<<9&4294967295|V>>>23),V=z+(O^D&(H^O))+B[15]+3634488961&4294967295,z=H+(V<<14&4294967295|V>>>18),V=D+(H^O&(z^H))+B[4]+3889429448&4294967295,D=z+(V<<20&4294967295|V>>>12),V=O+(z^H&(D^z))+B[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=H+(D^z&(O^D))+B[14]+3275163606&4294967295,H=O+(V<<9&4294967295|V>>>23),V=z+(O^D&(H^O))+B[3]+4107603335&4294967295,z=H+(V<<14&4294967295|V>>>18),V=D+(H^O&(z^H))+B[8]+1163531501&4294967295,D=z+(V<<20&4294967295|V>>>12),V=O+(z^H&(D^z))+B[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=H+(D^z&(O^D))+B[2]+4243563512&4294967295,H=O+(V<<9&4294967295|V>>>23),V=z+(O^D&(H^O))+B[7]+1735328473&4294967295,z=H+(V<<14&4294967295|V>>>18),V=D+(H^O&(z^H))+B[12]+2368359562&4294967295,D=z+(V<<20&4294967295|V>>>12),V=O+(D^z^H)+B[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=H+(O^D^z)+B[8]+2272392833&4294967295,H=O+(V<<11&4294967295|V>>>21),V=z+(H^O^D)+B[11]+1839030562&4294967295,z=H+(V<<16&4294967295|V>>>16),V=D+(z^H^O)+B[14]+4259657740&4294967295,D=z+(V<<23&4294967295|V>>>9),V=O+(D^z^H)+B[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=H+(O^D^z)+B[4]+1272893353&4294967295,H=O+(V<<11&4294967295|V>>>21),V=z+(H^O^D)+B[7]+4139469664&4294967295,z=H+(V<<16&4294967295|V>>>16),V=D+(z^H^O)+B[10]+3200236656&4294967295,D=z+(V<<23&4294967295|V>>>9),V=O+(D^z^H)+B[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=H+(O^D^z)+B[0]+3936430074&4294967295,H=O+(V<<11&4294967295|V>>>21),V=z+(H^O^D)+B[3]+3572445317&4294967295,z=H+(V<<16&4294967295|V>>>16),V=D+(z^H^O)+B[6]+76029189&4294967295,D=z+(V<<23&4294967295|V>>>9),V=O+(D^z^H)+B[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=H+(O^D^z)+B[12]+3873151461&4294967295,H=O+(V<<11&4294967295|V>>>21),V=z+(H^O^D)+B[15]+530742520&4294967295,z=H+(V<<16&4294967295|V>>>16),V=D+(z^H^O)+B[2]+3299628645&4294967295,D=z+(V<<23&4294967295|V>>>9),V=O+(z^(D|~H))+B[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=H+(D^(O|~z))+B[7]+1126891415&4294967295,H=O+(V<<10&4294967295|V>>>22),V=z+(O^(H|~D))+B[14]+2878612391&4294967295,z=H+(V<<15&4294967295|V>>>17),V=D+(H^(z|~O))+B[5]+4237533241&4294967295,D=z+(V<<21&4294967295|V>>>11),V=O+(z^(D|~H))+B[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=H+(D^(O|~z))+B[3]+2399980690&4294967295,H=O+(V<<10&4294967295|V>>>22),V=z+(O^(H|~D))+B[10]+4293915773&4294967295,z=H+(V<<15&4294967295|V>>>17),V=D+(H^(z|~O))+B[1]+2240044497&4294967295,D=z+(V<<21&4294967295|V>>>11),V=O+(z^(D|~H))+B[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=H+(D^(O|~z))+B[15]+4264355552&4294967295,H=O+(V<<10&4294967295|V>>>22),V=z+(O^(H|~D))+B[6]+2734768916&4294967295,z=H+(V<<15&4294967295|V>>>17),V=D+(H^(z|~O))+B[13]+1309151649&4294967295,D=z+(V<<21&4294967295|V>>>11),V=O+(z^(D|~H))+B[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=H+(D^(O|~z))+B[11]+3174756917&4294967295,H=O+(V<<10&4294967295|V>>>22),V=z+(O^(H|~D))+B[2]+718787259&4294967295,z=H+(V<<15&4294967295|V>>>17),V=D+(H^(z|~O))+B[9]+3951481745&4294967295,j.g[0]=j.g[0]+O&4294967295,j.g[1]=j.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,j.g[2]=j.g[2]+z&4294967295,j.g[3]=j.g[3]+H&4294967295}a.prototype.u=function(j,O){O===void 0&&(O=j.length);for(var D=O-this.blockSize,B=this.B,z=this.h,H=0;H<O;){if(z==0)for(;H<=D;)l(this,j,H),H+=this.blockSize;if(typeof j=="string"){for(;H<O;)if(B[z++]=j.charCodeAt(H++),z==this.blockSize){l(this,B),z=0;break}}else for(;H<O;)if(B[z++]=j[H++],z==this.blockSize){l(this,B),z=0;break}}this.h=z,this.o+=O},a.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var O=1;O<j.length-8;++O)j[O]=0;var D=8*this.o;for(O=j.length-8;O<j.length;++O)j[O]=D&255,D/=256;for(this.u(j),j=Array(16),O=D=0;4>O;++O)for(var B=0;32>B;B+=8)j[D++]=this.g[O]>>>B&255;return j};function h(j,O){var D=y;return Object.prototype.hasOwnProperty.call(D,j)?D[j]:D[j]=O(j)}function p(j,O){this.h=O;for(var D=[],B=!0,z=j.length-1;0<=z;z--){var H=j[z]|0;B&&H==O||(D[z]=H,B=!1)}this.g=D}var y={};function v(j){return-128<=j&&128>j?h(j,function(O){return new p([O|0],0>O?-1:0)}):new p([j|0],0>j?-1:0)}function T(j){if(isNaN(j)||!isFinite(j))return P;if(0>j)return J(T(-j));for(var O=[],D=1,B=0;j>=D;B++)O[B]=j/D|0,D*=4294967296;return new p(O,0)}function R(j,O){if(j.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(j.charAt(0)=="-")return J(R(j.substring(1),O));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=T(Math.pow(O,8)),B=P,z=0;z<j.length;z+=8){var H=Math.min(8,j.length-z),V=parseInt(j.substring(z,z+H),O);8>H?(H=T(Math.pow(O,H)),B=B.j(H).add(T(V))):(B=B.j(D),B=B.add(T(V)))}return B}var P=v(0),x=v(1),G=v(16777216);r=p.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var j=0,O=1,D=0;D<this.g.length;D++){var B=this.i(D);j+=(0<=B?B:4294967296+B)*O,O*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(W(this))return"0";if(tt(this))return"-"+J(this).toString(j);for(var O=T(Math.pow(j,6)),D=this,B="";;){var z=Nt(D,O).g;D=at(D,z.j(O));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(j);if(D=z,W(D))return H+B;for(;6>H.length;)H="0"+H;B=H+B}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function W(j){if(j.h!=0)return!1;for(var O=0;O<j.g.length;O++)if(j.g[O]!=0)return!1;return!0}function tt(j){return j.h==-1}r.l=function(j){return j=at(this,j),tt(j)?-1:W(j)?0:1};function J(j){for(var O=j.g.length,D=[],B=0;B<O;B++)D[B]=~j.g[B];return new p(D,~j.h).add(x)}r.abs=function(){return tt(this)?J(this):this},r.add=function(j){for(var O=Math.max(this.g.length,j.g.length),D=[],B=0,z=0;z<=O;z++){var H=B+(this.i(z)&65535)+(j.i(z)&65535),V=(H>>>16)+(this.i(z)>>>16)+(j.i(z)>>>16);B=V>>>16,H&=65535,V&=65535,D[z]=V<<16|H}return new p(D,D[D.length-1]&-2147483648?-1:0)};function at(j,O){return j.add(J(O))}r.j=function(j){if(W(this)||W(j))return P;if(tt(this))return tt(j)?J(this).j(J(j)):J(J(this).j(j));if(tt(j))return J(this.j(J(j)));if(0>this.l(G)&&0>j.l(G))return T(this.m()*j.m());for(var O=this.g.length+j.g.length,D=[],B=0;B<2*O;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(var z=0;z<j.g.length;z++){var H=this.i(B)>>>16,V=this.i(B)&65535,Se=j.i(z)>>>16,Ne=j.i(z)&65535;D[2*B+2*z]+=V*Ne,vt(D,2*B+2*z),D[2*B+2*z+1]+=H*Ne,vt(D,2*B+2*z+1),D[2*B+2*z+1]+=V*Se,vt(D,2*B+2*z+1),D[2*B+2*z+2]+=H*Se,vt(D,2*B+2*z+2)}for(B=0;B<O;B++)D[B]=D[2*B+1]<<16|D[2*B];for(B=O;B<2*O;B++)D[B]=0;return new p(D,0)};function vt(j,O){for(;(j[O]&65535)!=j[O];)j[O+1]+=j[O]>>>16,j[O]&=65535,O++}function ut(j,O){this.g=j,this.h=O}function Nt(j,O){if(W(O))throw Error("division by zero");if(W(j))return new ut(P,P);if(tt(j))return O=Nt(J(j),O),new ut(J(O.g),J(O.h));if(tt(O))return O=Nt(j,J(O)),new ut(J(O.g),O.h);if(30<j.g.length){if(tt(j)||tt(O))throw Error("slowDivide_ only works with positive integers.");for(var D=x,B=O;0>=B.l(j);)D=It(D),B=It(B);var z=Kt(D,1),H=Kt(B,1);for(B=Kt(B,2),D=Kt(D,2);!W(B);){var V=H.add(B);0>=V.l(j)&&(z=z.add(D),H=V),B=Kt(B,1),D=Kt(D,1)}return O=at(j,z.j(O)),new ut(z,O)}for(z=P;0<=j.l(O);){for(D=Math.max(1,Math.floor(j.m()/O.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),H=T(D),V=H.j(O);tt(V)||0<V.l(j);)D-=B,H=T(D),V=H.j(O);W(H)&&(H=x),z=z.add(H),j=at(j,V)}return new ut(z,j)}r.A=function(j){return Nt(this,j).h},r.and=function(j){for(var O=Math.max(this.g.length,j.g.length),D=[],B=0;B<O;B++)D[B]=this.i(B)&j.i(B);return new p(D,this.h&j.h)},r.or=function(j){for(var O=Math.max(this.g.length,j.g.length),D=[],B=0;B<O;B++)D[B]=this.i(B)|j.i(B);return new p(D,this.h|j.h)},r.xor=function(j){for(var O=Math.max(this.g.length,j.g.length),D=[],B=0;B<O;B++)D[B]=this.i(B)^j.i(B);return new p(D,this.h^j.h)};function It(j){for(var O=j.g.length+1,D=[],B=0;B<O;B++)D[B]=j.i(B)<<1|j.i(B-1)>>>31;return new p(D,j.h)}function Kt(j,O){var D=O>>5;O%=32;for(var B=j.g.length-D,z=[],H=0;H<B;H++)z[H]=0<O?j.i(H+D)>>>O|j.i(H+D+1)<<32-O:j.i(H+D);return new p(z,j.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,v0=a,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=T,p.fromString=R,Va=p}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,ec,T0,ef,mp,w0,S0,b0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,S){return f==Array.prototype||f==Object.prototype||(f[E]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var E=0;E<f.length;++E){var S=f[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function l(f,E){if(E)t:{var S=a;f=f.split(".");for(var I=0;I<f.length-1;I++){var K=f[I];if(!(K in S))break t;S=S[K]}f=f[f.length-1],I=S[f],E=E(I),E!=I&&E!=null&&t(S,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var S=0,I=!1,K={next:function(){if(!I&&S<f.length){var it=S++;return{value:E(it,f[it]),done:!1}}return I=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},y=this||self;function v(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function R(f,E,S){return f.call.apply(f.bind,arguments)}function P(f,E,S){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,I),f.apply(E,K)}}return function(){return f.apply(E,arguments)}}function x(f,E,S){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:P,x.apply(null,arguments)}function G(f,E){var S=Array.prototype.slice.call(arguments,1);return function(){var I=S.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function W(f,E){function S(){}S.prototype=E.prototype,f.aa=E.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(I,K,it){for(var _t=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)_t[Jt-2]=arguments[Jt];return E.prototype[K].apply(I,_t)}}function tt(f){const E=f.length;if(0<E){const S=Array(E);for(let I=0;I<E;I++)S[I]=f[I];return S}return[]}function J(f,E){for(let S=1;S<arguments.length;S++){const I=arguments[S];if(v(I)){const K=f.length||0,it=I.length||0;f.length=K+it;for(let _t=0;_t<it;_t++)f[K+_t]=I[_t]}else f.push(I)}}class at{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function vt(f){return/^[\s\xa0]*$/.test(f)}function ut(){var f=y.navigator;return f&&(f=f.userAgent)?f:""}function Nt(f){return Nt[" "](f),f}Nt[" "]=function(){};var It=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Kt(f,E,S){for(const I in f)E.call(S,f[I],I,f)}function j(f,E){for(const S in f)E.call(void 0,f[S],S,f)}function O(f){const E={};for(const S in f)E[S]=f[S];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let S,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(S in I)f[S]=I[S];for(let it=0;it<D.length;it++)S=D[it],Object.prototype.hasOwnProperty.call(I,S)&&(f[S]=I[S])}}function z(f){var E=1;f=f.split(":");const S=[];for(;0<E&&f.length;)S.push(f.shift()),E--;return f.length&&S.push(f.join(":")),S}function H(f){y.setTimeout(()=>{throw f},0)}function V(){var f=se;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class Se{constructor(){this.h=this.g=null}add(E,S){const I=Ne.get();I.set(E,S),this.h?this.h.next=I:this.g=I,this.h=I}}var Ne=new at(()=>new rt,f=>f.reset());class rt{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,pt=!1,se=new Se,M=()=>{const f=y.Promise.resolve(void 0);yt=()=>{f.then(st)}};var st=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(S){H(S)}var E=Ne;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}pt=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};y.addEventListener("test",S,E),y.removeEventListener("test",S,E)}catch{}return f}();function bt(f,E){if(dt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(It){t:{try{Nt(E.nodeName);var K=!0;break t}catch{}K=!1}K||(E=null)}}else S=="mouseover"?E=f.fromElement:S=="mouseout"&&(E=f.toElement);this.relatedTarget=E,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&bt.aa.h.call(this)}}W(bt,dt);var Et={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),re=0;function ai(f,E,S,I,K){this.listener=f,this.proxy=null,this.src=E,this.type=S,this.capture=!!I,this.ha=K,this.key=++re,this.da=this.fa=!1}function Ii(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function oi(f){this.src=f,this.g={},this.h=0}oi.prototype.add=function(f,E,S,I,K){var it=f.toString();f=this.g[it],f||(f=this.g[it]=[],this.h++);var _t=Wi(f,E,I,K);return-1<_t?(E=f[_t],S||(E.fa=!1)):(E=new ai(E,this.src,it,!!I,K),E.fa=S,f.push(E)),E};function li(f,E){var S=E.type;if(S in f.g){var I=f.g[S],K=Array.prototype.indexOf.call(I,E,void 0),it;(it=0<=K)&&Array.prototype.splice.call(I,K,1),it&&(Ii(E),f.g[S].length==0&&(delete f.g[S],f.h--))}}function Wi(f,E,S,I){for(var K=0;K<f.length;++K){var it=f[K];if(!it.da&&it.listener==E&&it.capture==!!S&&it.ha==I)return K}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),Ds={};function Qa(f,E,S,I,K){if(Array.isArray(E)){for(var it=0;it<E.length;it++)Qa(f,E[it],S,I,K);return null}return S=Xo(S),f&&f[ye]?f.K(E,S,T(I)?!!I.capture:!1,K):Pn(f,E,S,!1,I,K)}function Pn(f,E,S,I,K,it){if(!E)throw Error("Invalid event type");var _t=T(K)?!!K.capture:!!K,Jt=Wr(f);if(Jt||(f[Qr]=Jt=new oi(f)),S=Jt.add(E,S,I,_t,it),S.proxy)return S;if(I=Ns(),S.proxy=I,I.src=f,I.listener=S,f.addEventListener)Tt||(K=_t),K===void 0&&(K=!1),f.addEventListener(E.toString(),I,K);else if(f.attachEvent)f.attachEvent($i(E.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ns(){function f(S){return E.call(f.src,f.listener,S)}const E=Qo;return f}function Xa(f,E,S,I,K){if(Array.isArray(E))for(var it=0;it<E.length;it++)Xa(f,E[it],S,I,K);else I=T(I)?!!I.capture:!!I,S=Xo(S),f&&f[ye]?(f=f.i,E=String(E).toString(),E in f.g&&(it=f.g[E],S=Wi(it,S,I,K),-1<S&&(Ii(it[S]),Array.prototype.splice.call(it,S,1),it.length==0&&(delete f.g[E],f.h--)))):f&&(f=Wr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Wi(E,S,I,K)),(S=-1<f?E[f]:null)&&Xr(S))}function Xr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[ye])li(E.i,f);else{var S=f.type,I=f.proxy;E.removeEventListener?E.removeEventListener(S,I,f.capture):E.detachEvent?E.detachEvent($i(S),I):E.addListener&&E.removeListener&&E.removeListener(I),(S=Wr(E))?(li(S,f),S.h==0&&(S.src=null,E[Qr]=null)):Ii(f)}}}function $i(f){return f in Ds?Ds[f]:Ds[f]="on"+f}function Qo(f,E){if(f.da)f=!0;else{E=new bt(E,this);var S=f.listener,I=f.ha||f.src;f.fa&&Xr(f),f=S.call(I,E)}return f}function Wr(f){return f=f[Qr],f instanceof oi?f:null}var Wa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(f){return typeof f=="function"?f:(f[Wa]||(f[Wa]=function(E){return f.handleEvent(E)}),f[Wa])}function Re(){gt.call(this),this.i=new oi(this),this.M=this,this.F=null}W(Re,gt),Re.prototype[ye]=!0,Re.prototype.removeEventListener=function(f,E,S,I){Xa(this,f,E,S,I)};function ue(f,E){var S,I=f.F;if(I)for(S=[];I;I=I.F)S.push(I);if(f=f.M,I=E.type||E,typeof E=="string")E=new dt(E,f);else if(E instanceof dt)E.target=E.target||f;else{var K=E;E=new dt(I,f),B(E,K)}if(K=!0,S)for(var it=S.length-1;0<=it;it--){var _t=E.g=S[it];K=On(_t,I,!0,E)&&K}if(_t=E.g=f,K=On(_t,I,!0,E)&&K,K=On(_t,I,!1,E)&&K,S)for(it=0;it<S.length;it++)_t=E.g=S[it],K=On(_t,I,!1,E)&&K}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var S=f.g[E],I=0;I<S.length;I++)Ii(S[I]);delete f.g[E],f.h--}}this.F=null},Re.prototype.K=function(f,E,S,I){return this.i.add(String(f),E,!1,S,I)},Re.prototype.L=function(f,E,S,I){return this.i.add(String(f),E,!0,S,I)};function On(f,E,S,I){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var K=!0,it=0;it<E.length;++it){var _t=E[it];if(_t&&!_t.da&&_t.capture==S){var Jt=_t.listener,Fe=_t.ha||_t.src;_t.fa&&li(f.i,_t),K=Jt.call(Fe,I)!==!1&&K}}return K&&!I.defaultPrevented}function hn(f,E,S){if(typeof f=="function")S&&(f=x(f,S));else if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:y.setTimeout(f,E||0)}function $a(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,$a(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Wo extends gt{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:$a(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(f){gt.call(this),this.h=f,this.g={}}W($r,gt);var vr=[];function Ji(f){Kt(f.g,function(E,S){this.g.hasOwnProperty(S)&&Xr(E)},f),f.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Ji(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=y.JSON.stringify,ks=y.JSON.parse,ui=class{stringify(f){return y.JSON.stringify(f,void 0)}parse(f){return y.JSON.parse(f,void 0)}};function Ja(){}Ja.prototype.h=null;function to(f){return f.h||(f.h=f.i())}function Vs(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){dt.call(this,"d")}W(Pi,dt);function eo(){dt.call(this,"c")}W(eo,dt);var Oi={},no=null;function Er(){return no=no||new Re}Oi.La="serverreachability";function zs(f){dt.call(this,Oi.La,f)}W(zs,dt);function Tr(f){const E=Er();ue(E,new zs(E))}Oi.STAT_EVENT="statevent";function Us(f,E){dt.call(this,Oi.STAT_EVENT,f),this.stat=E}W(Us,dt);function Ce(f){const E=Er();ue(E,new Us(E,f))}Oi.Ma="timingevent";function Ze(f,E){dt.call(this,Oi.Ma,f),this.size=E}W(Ze,dt);function qe(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){f()},E)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Ln(f,E,S,I,K,it){f.info(function(){if(f.g)if(it)for(var _t="",Jt=it.split("&"),Fe=0;Fe<Jt.length;Fe++){var te=Jt[Fe].split("=");if(1<te.length){var de=te[0];te=te[1];var xe=de.split("_");_t=2<=xe.length&&xe[1]=="type"?_t+(de+"="+te+"&"):_t+(de+"=redacted&")}}else _t=null;else _t=it;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+E+`
`+S+`
`+_t})}function xt(f,E,S,I,K,it,_t){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+E+`
`+S+`
`+it+" "+_t})}function tr(f,E,S,I){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+wr(f,S)+(I?" "+I:"")})}function io(f,E){f.info(function(){return"TIMEOUT: "+E})}Wn.prototype.info=function(){};function wr(f,E){if(!f.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var I=S[f];if(!(2>I.length)){var K=I[1];if(Array.isArray(K)&&!(1>K.length)){var it=K[0];if(it!="noop"&&it!="stop"&&it!="close")for(var _t=1;_t<K.length;_t++)K[_t]=""}}}}return Xn(S)}catch{return E}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function Tn(){}W(Tn,Ja),Tn.prototype.g=function(){return new XMLHttpRequest},Tn.prototype.i=function(){return{}},hi=new Tn;function fn(f,E,S,I){this.j=f,this.i=E,this.l=S,this.R=I||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}var ro={},Bs={};function fi(f,E,S){f.L=1,f.v=qn(Ie(E)),f.m=S,f.P=!0,Li(f,null)}function Li(f,E){f.F=Date.now(),ts(f),f.A=Ie(f.v);var S=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),oo(S.i,"t",I),f.C=0,S=f.j.J,f.h=new ze,f.g=il(f.j,S?E:null,!f.m),0<f.O&&(f.M=new Wo(x(f.Y,f,f.g),f.O)),E=f.U,S=f.g,I=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(vr[0]=K.toString()),K=vr);for(var it=0;it<K.length;it++){var _t=Qa(S,K[it],I||E.handleEvent,!1,E.h||E);if(!_t)break;E.g[_t.key]=_t}E=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Tr(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const E=this.M;E&&pn(f)==3?E.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const xe=pn(this.g);var E=this.g.Ba();const ur=this.g.Z();if(!(3>xe)&&(xe!=3||this.g&&(this.h.h||this.g.oa()||lo(this.g)))){this.J||xe!=4||E==7||(E==8||0>=ur?Tr(3):Tr(2)),Sr(this);var S=this.g.Z();this.X=S;e:if($o(this)){var I=lo(this.g);f="";var K=I.length,it=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Mi(this);var _t="";break e}this.h.i=new y.TextDecoder}for(E=0;E<K;E++)this.h.h=!0,f+=this.h.i.decode(I[E],{stream:!(it&&E==K-1)});I.length=0,this.h.g+=f,this.C=0,_t=this.h.g}else _t=this.g.oa();if(this.o=S==200,xt(this.i,this.u,this.A,this.l,this.R,xe,S),this.o){if(this.T&&!this.K){e:{if(this.g){var Jt,Fe=this.g;if((Jt=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Jt)){var te=Jt;break e}}te=null}if(S=te)tr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,S);else{this.o=!1,this.s=3,Ce(12),sn(this),Mi(this);break t}}if(this.P){S=!0;let be;for(;!this.J&&this.C<_t.length;)if(be=Jr(this,_t),be==Bs){xe==4&&(this.s=4,Ce(14),S=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(be==ro){this.s=4,Ce(15),tr(this.i,this.l,_t,"[Invalid Chunk]"),S=!1;break}else tr(this.i,this.l,be,null),nr(this,be);if($o(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_t.length!=0||this.h.h||(this.s=1,Ce(16),S=!1),this.o=this.o&&S,!S)tr(this.i,this.l,_t,"[Invalid Chunked Response]"),sn(this),Mi(this);else if(0<_t.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+_t.length),xr(de),de.M=!0,Ce(11))}}else tr(this.i,this.l,_t,null),nr(this,_t);xe==4&&sn(this),this.o&&!this.J&&(xe==4?co(this.j,this):(this.o=!1,ts(this)))}else lu(this.g),S==400&&0<_t.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),sn(this),Mi(this)}}}catch{}finally{}};function $o(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Jr(f,E){var S=f.C,I=E.indexOf(`
`,S);return I==-1?Bs:(S=Number(E.substring(S,I)),isNaN(S)?ro:(I+=1,I+S>E.length?Bs:(E=E.slice(I,I+S),f.C=I+S,E)))}fn.prototype.cancel=function(){this.J=!0,sn(this)};function ts(f){f.S=Date.now()+f.I,Jo(f,f.I)}function Jo(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qe(x(f.ba,f),E)}function Sr(f){f.B&&(y.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(io(this.i,this.A),this.L!=2&&(Tr(),Ce(17)),sn(this),this.s=2,Mi(this)):Jo(this,this.S-f)};function Mi(f){f.j.G==0||f.J||co(f.j,f)}function sn(f){Sr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,Ji(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function nr(f,E){try{var S=f.j;if(S.G!=0&&(S.g==f||Qt(S.h,f))){if(!f.K&&Qt(S.h,f)&&S.G==3){try{var I=S.Da.g.parse(E)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){t:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Qs(S),Zs(S);else break t;Ks(S),Ce(18)}}else S.za=K[1],0<S.za-S.T&&37500>K[2]&&S.F&&S.v==0&&!S.C&&(S.C=qe(x(S.Za,S),6e3));if(1>=Ni(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else lr(S,11)}else if((f.K||S.g==f)&&Qs(S),!vt(E))for(K=S.Da.g.parse(E),E=0;E<K.length;E++){let te=K[E];if(S.T=te[0],te=te[1],S.G==2)if(te[0]=="c"){S.K=te[1],S.ia=te[2];const de=te[3];de!=null&&(S.la=de,S.j.info("VER="+S.la));const xe=te[4];xe!=null&&(S.Aa=xe,S.j.info("SVER="+S.Aa));const ur=te[5];ur!=null&&typeof ur=="number"&&0<ur&&(I=1.5*ur,S.L=I,S.j.info("backChannelRequestTimeoutMs_="+I)),I=S;const be=f.g;if(be){const Bi=be.g?be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var it=I.h;it.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(fe(it,it.h),it.h=null))}if(I.D){const ji=be.g?be.g.getResponseHeader("X-HTTP-Session-Id"):null;ji&&(I.ya=ji,Vt(I.I,I.D,ji))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),I=S;var _t=f;if(I.qa=Ws(I,I.J?I.ia:null,I.W),_t.K){We(I.h,_t);var Jt=_t,Fe=I.L;Fe&&(Jt.I=Fe),Jt.B&&(Sr(Jt),ts(Jt)),I.g=_t}else yi(I);0<S.i.length&&Ir(S)}else te[0]!="stop"&&te[0]!="close"||lr(S,7);else S.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?lr(S,7):Gs(S):te[0]!="noop"&&S.l&&S.l.ta(te),S.v=0)}}Tr(4)}catch{}}var br=class{constructor(f,E){this.g=f,this.map=E}};function Di(f){this.l=f||10,y.PerformanceNavigationTiming?(f=y.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function es(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ni(f){return f.h?1:f.g?f.g.size:0}function Qt(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function We(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Di.prototype.cancel=function(){if(this.i=ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ki(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const S of f.g.values())E=E.concat(S.D);return E}return tt(f.i)}function Ar(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(v(f)){for(var E=[],S=f.length,I=0;I<S;I++)E.push(f[I]);return E}E=[],S=0;for(I in f)E[S++]=f[I];return E}function Rr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(v(f)||typeof f=="string"){var E=[];f=f.length;for(var S=0;S<f;S++)E.push(S);return E}E=[],S=0;for(const I in f)E[S++]=I;return E}}}function Ht(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(v(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var S=Rr(f),I=Ar(f),K=I.length,it=0;it<K;it++)E.call(void 0,I[it],S&&S[it],f)}var pe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(f,E){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var I=f[S].indexOf("="),K=null;if(0<=I){var it=f[S].substring(0,I);K=f[S].substring(I+1)}else it=f[S];E(it,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Le(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Le){this.h=f.h,ns(this,f.j),this.o=f.o,this.g=f.g,di(this,f.s),this.l=f.l;var E=f.i,S=new pi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),wn(this,S),this.m=f.m}else f&&(E=String(f).match(pe))?(this.h=!1,ns(this,E[1]||"",!0),this.o=dn(E[2]||""),this.g=dn(E[3]||"",!0),di(this,E[4]),this.l=dn(E[5]||"",!0),wn(this,E[6]||"",!0),this.m=dn(E[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Le.prototype.toString=function(){var f=[],E=this.j;E&&f.push(mi(E,ir,!0),":");var S=this.g;return(S||E=="file")&&(f.push("//"),(E=this.o)&&f.push(mi(E,ir,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(mi(S,S.charAt(0)=="/"?ao:is,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",mi(S,Cr)),f.join("")};function Ie(f){return new Le(f)}function ns(f,E,S){f.j=S?dn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function di(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function wn(f,E,S){E instanceof pi?(f.i=E,Fn(f.i,f.h)):(S||(E=mi(E,Hs)),f.i=new pi(E,f.h))}function Vt(f,E,S){f.i.set(E,S)}function qn(f){return Vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function mi(f,E,S){return typeof f=="string"?(f=encodeURI(f).replace(E,js),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function js(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ir=/[#\/\?@]/g,is=/[#\?:]/g,ao=/[#\?]/g,Hs=/[#\?@]/g,Cr=/#/g;function pi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&so(f.i,function(E,S){f.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}r=pi.prototype,r.add=function(f,E){Sn(this),this.i=null,f=Lt(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(E),this.h+=1,this};function Vi(f,E){Sn(f),E=Lt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function gi(f,E){return Sn(f),E=Lt(f,E),f.g.has(E)}r.forEach=function(f,E){Sn(this),this.g.forEach(function(S,I){S.forEach(function(K){f.call(E,K,I,this)},this)},this)},r.na=function(){Sn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let I=0;I<E.length;I++){const K=f[I];for(let it=0;it<K.length;it++)S.push(E[I])}return S},r.V=function(f){Sn(this);let E=[];if(typeof f=="string")gi(this,f)&&(E=E.concat(this.g.get(Lt(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)E=E.concat(f[S])}return E},r.set=function(f,E){return Sn(this),this.i=null,f=Lt(this,f),gi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},r.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function oo(f,E,S){Vi(f,E),0<S.length&&(f.i=null,f.g.set(Lt(f,E),tt(S)),f.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var I=E[S];const it=encodeURIComponent(String(I)),_t=this.V(I);for(I=0;I<_t.length;I++){var K=it;_t[I]!==""&&(K+="="+encodeURIComponent(String(_t[I]))),f.push(K)}}return this.i=f.join("&")};function Lt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Fn(f,E){E&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(S,I){var K=I.toLowerCase();I!=K&&(Vi(this,I),oo(this,K,S))},f)),f.j=E}function ae(f,E){const S=new Wn;if(y.Image){const I=new Image;I.onload=G(Mn,S,"TestLoadImage: loaded",!0,E,I),I.onerror=G(Mn,S,"TestLoadImage: error",!1,E,I),I.onabort=G(Mn,S,"TestLoadImage: abort",!1,E,I),I.ontimeout=G(Mn,S,"TestLoadImage: timeout",!1,E,I),y.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else E(!1)}function $n(f,E){const S=new Wn,I=new AbortController,K=setTimeout(()=>{I.abort(),Mn(S,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:I.signal}).then(it=>{clearTimeout(K),it.ok?Mn(S,"TestPingServer: ok",!0,E):Mn(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(K),Mn(S,"TestPingServer: error",!1,E)})}function Mn(f,E,S,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(S)}catch{}}function rr(){this.g=new ui}function Jn(f,E,S){const I=S||"";try{Ht(f,function(K,it){let _t=K;T(K)&&(_t=Xn(K)),E.push(I+it+"="+encodeURIComponent(_t))})}catch(K){throw E.push(I+"type="+encodeURIComponent("_badmap")),K}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}W(Dn,Ja),Dn.prototype.g=function(){return new _i(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function _i(f,E){Re.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}W(_i,Re),r=_i.prototype,r.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,mn(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||y).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ve(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function sr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ve(this):mn(this),this.readyState==3&&sr(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ve(this))},r.Qa=function(f){this.g&&(this.response=f,ve(this))},r.ga=function(){this.g&&ve(this)};function ve(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mn(f)}r.setRequestHeader=function(f,E){this.u.append(f,E)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=E.next();return f.join(`\r
`)};function mn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qs(f){let E="";return Kt(f,function(S,I){E+=I,E+=":",E+=S,E+=`\r
`}),E}function Ke(f,E,S){t:{for(I in S){var I=!1;break t}I=!0}I||(S=qs(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):Vt(f,E,S))}function ce(f){Re.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}W(ce,Re);var rs=/^https?$/i,ar=["POST","PUT"];r=ce.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,E,S,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?to(this.o):to(hi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(it){tl(this,it);return}if(f=S||"",S=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)S.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const it of I.keys())S.set(it,I.get(it));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(S.keys()).find(it=>it.toLowerCase()=="content-type"),K=y.FormData&&f instanceof y.FormData,!(0<=Array.prototype.indexOf.call(ar,E,void 0))||I||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,_t]of S)this.g.setRequestHeader(it,_t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(it){tl(this,it)}};function tl(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,ss(f),zi(f)}function ss(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ce.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},r.bb=function(){Gt(this)};function Gt(f){if(f.h&&typeof p<"u"&&(!f.v[1]||pn(f)!=4||f.Z()!=2)){if(f.u&&pn(f)==4)hn(f.Ea,0,f);else if(ue(f,"readystatechange"),pn(f)==4){f.h=!1;try{const _t=f.Z();t:switch(_t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var S;if(!(S=E)){var I;if(I=_t===0){var K=String(f.D).match(pe)[1]||null;!K&&y.self&&y.self.location&&(K=y.self.location.protocol.slice(0,-1)),I=!rs.test(K?K.toLowerCase():"")}S=I}if(S)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var it=2<pn(f)?f.g.statusText:""}catch{it=""}f.l=it+" ["+f.Z()+"]",ss(f)}}finally{zi(f)}}}}function zi(f,E){if(f.g){an(f);const S=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{S.onreadystatechange=I}catch{}}}function an(f){f.I&&(y.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function pn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),ks(E)}};function lo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lu(f){const E={};f=(f.g&&2<=pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(vt(f[I]))continue;var S=z(f[I]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const it=E[K]||[];E[K]=it,it.push(S)}j(E,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(f,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||E}function Fs(f){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,f),this.cb=or("retryDelaySeedMs",1e4,f),this.Wa=or("forwardChannelMaxRetries",2,f),this.wa=or("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(f&&f.concurrentRequestLimit),this.Da=new rr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fs.prototype,r.la=8,r.G=1,r.connect=function(f,E,S,I){Ce(0),this.W=f,this.H=E||{},S&&I!==void 0&&(this.H.OSID=S,this.H.OAID=I),this.F=this.X,this.I=Ws(this,null,this.W),Ir(this)};function Gs(f){if(el(f),f.G==3){var E=f.U++,S=Ie(f.I);if(Vt(S,"SID",f.K),Vt(S,"RID",E),Vt(S,"TYPE","terminate"),as(f,S),E=new fn(f,f.j,E),E.L=2,E.v=qn(Ie(S)),S=!1,y.navigator&&y.navigator.sendBeacon)try{S=y.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&y.Image&&(new Image().src=E.v,S=!0),S||(E.g=il(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ts(E)}nl(f)}function Zs(f){f.g&&(xr(f),f.g.cancel(),f.g=null)}function el(f){Zs(f),f.u&&(y.clearTimeout(f.u),f.u=null),Qs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&y.clearTimeout(f.s),f.s=null)}function Ir(f){if(!es(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||M(),pt||(yt(),pt=!0),se.add(E,f),f.B=0}}function uu(f,E){return Ni(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qe(x(f.Ga,f,E),Xs(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new fn(this,this.j,f);let it=this.o;if(this.S&&(it?(it=O(it),B(it,this.S)):it=this.S),this.m!==null||this.O||(K.H=it,it=null),this.P)t:{for(var E=0,S=0;S<this.i.length;S++){e:{var I=this.i[S];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(E+=I,4096<E){E=S;break t}if(E===4096||S===this.i.length-1){E=S+1;break t}}E=1e3}else E=1e3;E=uo(this,K,E),S=Ie(this.I),Vt(S,"RID",f),Vt(S,"CVER",22),this.D&&Vt(S,"X-HTTP-Session-Id",this.D),as(this,S),it&&(this.O?E="headers="+encodeURIComponent(String(qs(it)))+"&"+E:this.m&&Ke(S,this.m,it)),fe(this.h,K),this.Ua&&Vt(S,"TYPE","init"),this.P?(Vt(S,"$req",E),Vt(S,"SID","null"),K.T=!0,fi(K,S,null)):fi(K,S,E),this.G=2}}else this.G==3&&(f?Nn(this,f):this.i.length==0||es(this.h)||Nn(this))};function Nn(f,E){var S;E?S=E.l:S=f.U++;const I=Ie(f.I);Vt(I,"SID",f.K),Vt(I,"RID",S),Vt(I,"AID",f.T),as(f,I),f.m&&f.o&&Ke(I,f.m,f.o),S=new fn(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),E&&(f.i=E.D.concat(f.i)),E=uo(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,S),fi(S,I,E)}function as(f,E){f.H&&Kt(f.H,function(S,I){Vt(E,I,S)}),f.l&&Ht({},function(S,I){Vt(E,I,S)})}function uo(f,E,S){S=Math.min(f.i.length,S);var I=f.l?x(f.l.Na,f.l,f):null;t:{var K=f.i;let it=-1;for(;;){const _t=["count="+S];it==-1?0<S?(it=K[0].g,_t.push("ofs="+it)):it=0:_t.push("ofs="+it);let Jt=!0;for(let Fe=0;Fe<S;Fe++){let te=K[Fe].g;const de=K[Fe].map;if(te-=it,0>te)it=Math.max(0,K[Fe].g-100),Jt=!1;else try{Jn(de,_t,"req"+te+"_")}catch{I&&I(de)}}if(Jt){I=_t.join("&");break t}}}return f=f.i.splice(0,S),E.D=f,I}function yi(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||M(),pt||(yt(),pt=!0),se.add(E,f),f.v=0}}function Ks(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qe(x(f.Fa,f),Xs(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,Ys(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qe(x(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Zs(this),Ys(this))};function xr(f){f.A!=null&&(y.clearTimeout(f.A),f.A=null)}function Ys(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Ie(f.qa);Vt(E,"RID","rpc"),Vt(E,"SID",f.K),Vt(E,"AID",f.T),Vt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vt(E,"TO",f.ja),Vt(E,"TYPE","xmlhttp"),as(f,E),f.m&&f.o&&Ke(E,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=qn(Ie(E)),S.m=null,S.P=!0,Li(S,f)}r.Za=function(){this.C!=null&&(this.C=null,Zs(this),Ks(this),Ce(19))};function Qs(f){f.C!=null&&(y.clearTimeout(f.C),f.C=null)}function co(f,E){var S=null;if(f.g==E){Qs(f),xr(f),f.g=null;var I=2}else if(Qt(f.h,E))S=E.D,We(f.h,E),I=1;else return;if(f.G!=0){if(E.o)if(I==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var K=f.B;I=Er(),ue(I,new Ze(I,S)),Ir(f)}else yi(f);else if(K=E.s,K==3||K==0&&0<E.X||!(I==1&&uu(f,E)||I==2&&Ks(f)))switch(S&&0<S.length&&(E=f.h,E.i=E.i.concat(S)),K){case 1:lr(f,5);break;case 4:lr(f,10);break;case 3:lr(f,6);break;default:lr(f,2)}}}function Xs(f,E){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*E}function lr(f,E){if(f.j.info("Error code "+E),E==2){var S=x(f.fb,f),I=f.Xa;const K=!I;I=new Le(I||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||ns(I,"https"),qn(I),K?ae(I.toString(),S):$n(I.toString(),S)}else Ce(2);f.G=0,f.l&&f.l.sa(E),nl(f),el(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function nl(f){if(f.G=0,f.ka=[],f.l){const E=ki(f.h);(E.length!=0||f.i.length!=0)&&(J(f.ka,E),J(f.ka,f.i),f.h.i.length=0,tt(f.i),f.i.length=0),f.l.ra()}}function Ws(f,E,S){var I=S instanceof Le?Ie(S):new Le(S);if(I.g!="")E&&(I.g=E+"."+I.g),di(I,I.s);else{var K=y.location;I=K.protocol,E=E?E+"."+K.hostname:K.hostname,K=+K.port;var it=new Le(null);I&&ns(it,I),E&&(it.g=E),K&&di(it,K),S&&(it.l=S),I=it}return S=f.D,E=f.ya,S&&E&&Vt(I,S,E),Vt(I,"VER",f.la),as(f,I),I}function il(f,E,S){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:S})):new ce(f.pa),E.Ha(f.J),E}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ho(){}r=ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function os(){}os.prototype.g=function(f,E){return new $e(f,E)};function $e(f,E){Re.call(this),this.g=new Fs(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!vt(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!vt(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}W($e,Re),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Gs(this.g)},$e.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Xn(f),f=S);E.i.push(new br(E.Ya++,f)),E.G==3&&Ir(E)},$e.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,$e.aa.N.call(this)};function Ui(f){Pi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const S in E){f=S;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}W(Ui,Pi);function rl(){eo.call(this),this.status=1}W(rl,eo);function kn(f){this.g=f}W(kn,ho),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new Ui(f))},kn.prototype.sa=function(f){ue(this.g,new rl)},kn.prototype.ra=function(){ue(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,b0=function(){return new os},S0=function(){return Er()},w0=Oi,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,ef=er,ci.COMPLETE="complete",T0=ci,Vs.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",Re.prototype.listen=Re.prototype.K,ec=Vs,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,E0=ce}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new zp("@firebase/firestore");function Nl(){return jo.logLevel}function St(r,...t){if(jo.logLevel<=ee.DEBUG){const n=t.map(Qp);jo.debug(`Firestore (${iu}): ${r}`,...n)}}function Ps(r,...t){if(jo.logLevel<=ee.ERROR){const n=t.map(Qp);jo.error(`Firestore (${iu}): ${r}`,...n)}}function Zl(r,...t){if(jo.logLevel<=ee.WARN){const n=t.map(Qp);jo.warn(`Firestore (${iu}): ${r}`,...n)}}function Qp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,A0(r,a,n)}function A0(r,t,n){let a=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ps(a),new Error(a)}function me(r,t,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||A0(t,l,a)}function Ft(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends Ms{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class WI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $I{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){me(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let h=new za;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new za,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const v=h;t.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},y=v=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new za)}},0),p()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(me(typeof a.accessToken=="string",31837,{l:a}),new R0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}}class JI{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tx{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new JI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ex{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){me(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=nx(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<n&&(a+=t.charAt(l[h]%62))}return a}}function ne(r,t){return r<t?-1:r>t?1:0}function pp(r,t){const n=Math.min(r.length,t.length);for(let a=0;a<n;a++){const l=r.charAt(a),h=t.charAt(a);if(l!==h)return Xm(l)===Xm(h)?ne(l,h):Xm(l)?1:-1}return ne(r.length,t.length)}const ix=55296,rx=57343;function Xm(r){const t=r.charCodeAt(0);return t>=ix&&t<=rx}function Kl(r,t,n){return r.length===t.length&&r.every((a,l)=>n(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class zr{constructor(t,n,a){n===void 0?n=0:n>t.length&&Ut(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&Ut(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return zr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zr?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let l=0;l<a;l++){const h=zr.compareSegments(t.get(l),n.get(l));if(h!==0)return h}return ne(t.length,n.length)}static compareSegments(t,n){const a=zr.isNumericId(t),l=zr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?zr.extractNumericId(t).compare(zr.extractNumericId(n)):pp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Va.fromString(t.substring(4,t.length-2))}}class Me extends zr{construct(t,n,a){return new Me(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new Pt(mt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(l=>l.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const sx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends zr{construct(t,n,a){return new In(t,n,a)}static isValidIdentifier(t){return sx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new In([uE])}static fromServerFormat(t){const n=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Pt(mt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let p=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new Pt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Pt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(p=!p,l++):y!=="."||p?(a+=y,l++):(h(),l++)}if(h(),p)throw new Pt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(Me.fromString(t))}static fromName(t){return new Mt(Me.fromString(t).popFirst(5))}static empty(){return new Mt(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new Me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(r,t,n){if(!n)throw new Pt(mt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ax(r,t,n,a){if(t===!0&&a===!0)throw new Pt(mt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cE(r){if(!Mt.isDocumentKey(r))throw new Pt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hE(r){if(Mt.isDocumentKey(r))throw new Pt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function I0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Ut(12329,{type:typeof r})}function Ua(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Pt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wp(r);throw new Pt(mt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r,t){const n={typeString:r};return t&&(n.value=t),n}function Dc(r,t){if(!I0(r))throw new Pt(mt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const p=r[a];if(l&&typeof p!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&p!==h.value){n=`Expected '${a}' field to equal '${h.value}'`;break}}if(n)throw new Pt(mt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=-62135596800,dE=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*dE);return new De(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Pt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<fE)throw new Pt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dE}_compareTo(t){return this.seconds===t.seconds?ne(this.nanoseconds,t.nanoseconds):ne(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Dc(t,De._jsonSchema))return new De(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:nn("string",De._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static fromTimestamp(t){return new qt(t)}static min(){return new qt(new De(0,0))}static max(){return new qt(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function ox(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=qt.fromTimestamp(a===1e9?new De(n+1,0):new De(n,a));return new ja(l,Mt.empty(),t)}function lx(r){return new ja(r.readTime,r.key,_c)}class ja{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new ja(qt.min(),Mt.empty(),_c)}static max(){return new ja(qt.max(),Mt.empty(),_c)}}function ux(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Mt.comparator(r.documentKey,t.documentKey),n!==0?n:ne(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(r){if(r.code!==mt.FAILED_PRECONDITION||r.message!==cx)throw r;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ht((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(n,h).next(a,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ht?n:ht.resolve(n)}catch(n){return ht.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ht.reject(n)}static resolve(t){return new ht((n,a)=>{n(t)})}static reject(t){return new ht((n,a)=>{a(t)})}static waitFor(t){return new ht((n,a)=>{let l=0,h=0,p=!1;t.forEach(y=>{++l,y.next(()=>{++h,p&&h===l&&n()},v=>a(v))}),p=!0,h===l&&n()})}static or(t){let n=ht.resolve(!1);for(const a of t)n=n.next(l=>l?ht.resolve(l):a());return n}static forEach(t,n){const a=[];return t.forEach((l,h)=>{a.push(n.call(this,l,h))}),this.waitFor(a)}static mapArray(t,n){return new ht((a,l)=>{const h=t.length,p=new Array(h);let y=0;for(let v=0;v<h;v++){const T=v;n(t[T]).next(R=>{p[T]=R,++y,y===h&&a(p)},R=>l(R))}})}static doWhile(t,n){return new ht((a,l)=>{const h=()=>{t()===!0?n().next(()=>{h()},l):a()};h()})}}function fx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Uf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function Bf(r){return r==null}function vf(r){return r===0&&1/r==-1/0}function dx(r){return typeof r=="number"&&Number.isInteger(r)&&!vf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="";function mx(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=mE(t)),t=px(r.get(n),t);return mE(t)}function px(r,t){let n=t;const a=r.length;for(let l=0;l<a;l++){const h=r.charAt(l);switch(h){case"\0":n+="";break;case x0:n+="";break;default:n+=h}}return n}function mE(r){return r+x0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Go(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function P0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t,n){this.comparator=t,this.root=n||Cn.EMPTY}insert(t,n){return new He(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(t){return new He(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fh(this.root,t,this.comparator,!0)}}class Fh{constructor(t,n,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=n?a(t.key,n):1,n&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Cn{constructor(t,n,a,l,h){this.key=t,this.value=n,this.color=a??Cn.RED,this.left=l??Cn.EMPTY,this.right=h??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,l,h){return new Cn(t??this.key,n??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,n,a),null):h===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Cn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,n,a,l,h){return this}insert(t,n,a){return new Cn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new He(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(t){return new gE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new cn(this.comparator);return n.data=t,n}}class gE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.fields=t,t.sort(In.comparator)}static empty(){return new _r([])}unionWith(t){let n=new cn(In.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new _r(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kl(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new O0("Invalid base64 string: "+h):h}}(t);return new xn(n)}static fromUint8Array(t){const n=function(l){let h="";for(let p=0;p<l.length;++p)h+=String.fromCharCode(l[p]);return h}(t);return new xn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ne(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ha(r){if(me(!!r,39018),typeof r=="string"){let t=0;const n=gx.exec(r);if(me(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Xe(r.seconds),nanos:Xe(r.nanos)}}function Xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?xn.fromBase64String(r):xn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="server_timestamp",M0="__type__",D0="__previous_value__",N0="__local_write_time__";function Jp(r){return(r?.mapValue?.fields||{})[M0]?.stringValue===L0}function jf(r){const t=r.mapValue.fields[D0];return Jp(t)?jf(t):t}function yc(r){const t=Ha(r.mapValue.fields[N0].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n,a,l,h,p,y,v,T,R){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=R}}const Ef="(default)";class vc{constructor(t,n){this.projectId=t,this.database=n||Ef}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof vc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__type__",yx="__max__",Gh={mapValue:{}},V0="__vector__",Tf="value";function Fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jp(r)?4:Ex(r)?9007199254740991:vx(r)?10:11:Ut(28295,{value:r})}function Zr(r,t){if(r===t)return!0;const n=Fa(r);if(n!==Fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return yc(r).isEqual(yc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const p=Ha(l.timestampValue),y=Ha(h.timestampValue);return p.seconds===y.seconds&&p.nanos===y.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,h){return qa(l.bytesValue).isEqual(qa(h.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,h){return Xe(l.geoPointValue.latitude)===Xe(h.geoPointValue.latitude)&&Xe(l.geoPointValue.longitude)===Xe(h.geoPointValue.longitude)}(r,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Xe(l.integerValue)===Xe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const p=Xe(l.doubleValue),y=Xe(h.doubleValue);return p===y?vf(p)===vf(y):isNaN(p)&&isNaN(y)}return!1}(r,t);case 9:return Kl(r.arrayValue.values||[],t.arrayValue.values||[],Zr);case 10:case 11:return function(l,h){const p=l.mapValue.fields||{},y=h.mapValue.fields||{};if(pE(p)!==pE(y))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(y[v]===void 0||!Zr(p[v],y[v])))return!1;return!0}(r,t);default:return Ut(52216,{left:r})}}function Ec(r,t){return(r.values||[]).find(n=>Zr(n,t))!==void 0}function Yl(r,t){if(r===t)return 0;const n=Fa(r),a=Fa(t);if(n!==a)return ne(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(r.booleanValue,t.booleanValue);case 2:return function(h,p){const y=Xe(h.integerValue||h.doubleValue),v=Xe(p.integerValue||p.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(r,t);case 3:return _E(r.timestampValue,t.timestampValue);case 4:return _E(yc(r),yc(t));case 5:return pp(r.stringValue,t.stringValue);case 6:return function(h,p){const y=qa(h),v=qa(p);return y.compareTo(v)}(r.bytesValue,t.bytesValue);case 7:return function(h,p){const y=h.split("/"),v=p.split("/");for(let T=0;T<y.length&&T<v.length;T++){const R=ne(y[T],v[T]);if(R!==0)return R}return ne(y.length,v.length)}(r.referenceValue,t.referenceValue);case 8:return function(h,p){const y=ne(Xe(h.latitude),Xe(p.latitude));return y!==0?y:ne(Xe(h.longitude),Xe(p.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return yE(r.arrayValue,t.arrayValue);case 10:return function(h,p){const y=h.fields||{},v=p.fields||{},T=y[Tf]?.arrayValue,R=v[Tf]?.arrayValue,P=ne(T?.values?.length||0,R?.values?.length||0);return P!==0?P:yE(T,R)}(r.mapValue,t.mapValue);case 11:return function(h,p){if(h===Gh.mapValue&&p===Gh.mapValue)return 0;if(h===Gh.mapValue)return 1;if(p===Gh.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),T=p.fields||{},R=Object.keys(T);v.sort(),R.sort();for(let P=0;P<v.length&&P<R.length;++P){const x=pp(v[P],R[P]);if(x!==0)return x;const G=Yl(y[v[P]],T[R[P]]);if(G!==0)return G}return ne(v.length,R.length)}(r.mapValue,t.mapValue);default:throw Ut(23264,{he:n})}}function _E(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return ne(r,t);const n=Ha(r),a=Ha(t),l=ne(n.seconds,a.seconds);return l!==0?l:ne(n.nanos,a.nanos)}function yE(r,t){const n=r.values||[],a=t.values||[];for(let l=0;l<n.length&&l<a.length;++l){const h=Yl(n[l],a[l]);if(h)return h}return ne(n.length,a.length)}function Ql(r){return gp(r)}function gp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Ha(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return qa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",l=!0;for(const h of n.values||[])l?l=!1:a+=",",a+=gp(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let l="{",h=!0;for(const p of a)h?h=!1:l+=",",l+=`${p}:${gp(n.fields[p])}`;return l+"}"}(r.mapValue):Ut(61005,{value:r})}function nf(r){switch(Fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(r);return t?16+nf(t):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+nf(h),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return Go(a.fields,(h,p)=>{l+=h.length+nf(p)}),l}(r.mapValue);default:throw Ut(13486,{value:r})}}function _p(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function vE(r){return!!r&&"nullValue"in r}function EE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rf(r){return!!r&&"mapValue"in r}function vx(r){return(r?.mapValue?.fields||{})[k0]?.stringValue===V0}function lc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Go(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=lc(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=lc(r.arrayValue.values[n]);return t}return{...r}}function Ex(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.value=t}static empty(){return new Qi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!rf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=lc(n)}setAll(t){let n=In.emptyPath(),a={},l=[];t.forEach((p,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,a,l),a={},l=[],n=y.popLast()}p?a[y.lastSegment()]=lc(p):l.push(y.lastSegment())});const h=this.getFieldsMap(n);this.applyChanges(h,a,l)}delete(t){const n=this.field(t.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Zr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=n.mapValue.fields[t.get(a)];rf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,a){Go(n,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new Qi(lc(this.value))}}function z0(r){const t=[];return Go(r.fields,(n,a)=>{const l=new In([n]);if(rf(a)){const h=z0(a.mapValue).fields;if(h.length===0)t.push(l);else for(const p of h)t.push(l.child(p))}else t.push(l)}),new _r(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,n,a,l,h,p,y){this.key=t,this.documentType=n,this.version=a,this.readTime=l,this.createTime=h,this.data=p,this.documentState=y}static newInvalidDocument(t){return new jn(t,0,qt.min(),qt.min(),qt.min(),Qi.empty(),0)}static newFoundDocument(t,n,a,l){return new jn(t,1,n,qt.min(),a,l,0)}static newNoDocument(t,n){return new jn(t,2,n,qt.min(),qt.min(),Qi.empty(),0)}static newUnknownDocument(t,n){return new jn(t,3,n,qt.min(),qt.min(),Qi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n){this.position=t,this.inclusive=n}}function TE(r,t,n){let a=0;for(let l=0;l<r.position.length;l++){const h=t[l],p=r.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(p.referenceValue),n.key):a=Yl(p,n.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function wE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Zr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n="asc"){this.field=t,this.dir=n}}function Tx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class un extends U0{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new Sx(t,n,a):n==="array-contains"?new Rx(t,a):n==="in"?new Cx(t,a):n==="not-in"?new Ix(t,a):n==="array-contains-any"?new xx(t,a):new un(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new bx(t,a):new Ax(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yl(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(Yl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends U0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Kr(t,n)}matches(t){return B0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B0(r){return r.op==="and"}function j0(r){return wx(r)&&B0(r)}function wx(r){for(const t of r.filters)if(t instanceof Kr)return!1;return!0}function yp(r){if(r instanceof un)return r.field.canonicalString()+r.op.toString()+Ql(r.value);if(j0(r))return r.filters.map(t=>yp(t)).join(",");{const t=r.filters.map(n=>yp(n)).join(",");return`${r.op}(${t})`}}function H0(r,t){return r instanceof un?function(a,l){return l instanceof un&&a.op===l.op&&a.field.isEqual(l.field)&&Zr(a.value,l.value)}(r,t):r instanceof Kr?function(a,l){return l instanceof Kr&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,p,y)=>h&&H0(p,l.filters[y]),!0):!1}(r,t):void Ut(19439)}function q0(r){return r instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${Ql(n.value)}`}(r):r instanceof Kr?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(r):"Filter"}class Sx extends un{constructor(t,n,a){super(t,n,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const n=Mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class bx extends un{constructor(t,n){super(t,"in",n),this.keys=F0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ax extends un{constructor(t,n){super(t,"not-in",n),this.keys=F0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function F0(r,t){return(t.arrayValue?.values||[]).map(n=>Mt.fromName(n.referenceValue))}class Rx extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return tg(n)&&Ec(n.arrayValue,this.value)}}class Cx extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class Ix extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class xx extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>Ec(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(t,n=null,a=[],l=[],h=null,p=null,y=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=p,this.endAt=y,this.Te=null}}function SE(r,t=null,n=[],a=[],l=null,h=null,p=null){return new Px(r,t,n,a,l,h,p)}function eg(r){const t=Ft(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>yp(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Ql(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Ql(a)).join(",")),t.Te=n}return t.Te}function ng(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Tx(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!H0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!wE(r.startAt,t.startAt)&&wE(r.endAt,t.endAt)}function vp(r){return Mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n=null,a=[],l=[],h=null,p="F",y=null,v=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=p,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ox(r,t,n,a,l,h,p,y){return new Hf(r,t,n,a,l,h,p,y)}function qf(r){return new Hf(r)}function bE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Lx(r){return r.collectionGroup!==null}function uc(r){const t=Ft(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),n.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let y=new cn(In.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(T=>{T.isInequality()&&(y=y.add(T.field))})}),y})(t).forEach(h=>{n.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Sf(h,a))}),n.has(In.keyField().canonicalString())||t.Ie.push(new Sf(In.keyField(),a))}return t.Ie}function jr(r){const t=Ft(r);return t.Ee||(t.Ee=Mx(t,uc(r))),t.Ee}function Mx(r,t){if(r.limitType==="F")return SE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Sf(l.field,h)});const n=r.endAt?new wf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new wf(r.startAt.position,r.startAt.inclusive):null;return SE(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function Ep(r,t,n){return new Hf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ff(r,t){return ng(jr(r),jr(t))&&r.limitType===t.limitType}function G0(r){return`${eg(jr(r))}|lt:${r.limitType}`}function kl(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(l=>q0(l)).join(", ")}]`),Bf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(l=>Ql(l)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(l=>Ql(l)).join(",")),`Target(${a})`}(jr(r))}; limitType=${r.limitType})`}function Gf(r,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,t)&&function(a,l){for(const h of uc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(p,y,v){const T=TE(p,y,v);return p.inclusive?T<=0:T<0}(a.startAt,uc(a),l)||a.endAt&&!function(p,y,v){const T=TE(p,y,v);return p.inclusive?T>=0:T>0}(a.endAt,uc(a),l))}(r,t)}function Dx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Z0(r){return(t,n)=>{let a=!1;for(const l of uc(r)){const h=Nx(l,t,n);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function Nx(r,t,n){const a=r.field.isKeyField()?Mt.comparator(t.key,n.key):function(h,p,y){const v=p.data.field(h),T=y.data.field(h);return v!==null&&T!==null?Yl(v,T):Ut(42886)}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ut(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Go(this.inner,(n,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new He(Mt.comparator);function Os(){return kx}const K0=new He(Mt.comparator);function nc(...r){let t=K0;for(const n of r)t=t.insert(n.key,n);return t}function Y0(r){let t=K0;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Do(){return cc()}function Q0(){return cc()}function cc(){return new Zo(r=>r.toString(),(r,t)=>r.isEqual(t))}const Vx=new He(Mt.comparator),zx=new cn(Mt.comparator);function ie(...r){let t=zx;for(const n of r)t=t.add(n);return t}const Ux=new cn(ne);function Bx(){return Ux}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(t)?"-0":t}}function X0(r){return{integerValue:""+r}}function jx(r,t){return dx(t)?X0(t):ig(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function Hx(r,t,n){return r instanceof bf?function(l,h){const p={fields:{[M0]:{stringValue:L0},[N0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Jp(h)&&(h=jf(h)),h&&(p.fields[D0]=h),{mapValue:p}}(n,t):r instanceof Tc?$0(r,t):r instanceof wc?J0(r,t):function(l,h){const p=W0(l,h),y=AE(p)+AE(l.Ae);return _p(p)&&_p(l.Ae)?X0(y):ig(l.serializer,y)}(r,t)}function qx(r,t,n){return r instanceof Tc?$0(r,t):r instanceof wc?J0(r,t):n}function W0(r,t){return r instanceof Af?function(a){return _p(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class bf extends Zf{}class Tc extends Zf{constructor(t){super(),this.elements=t}}function $0(r,t){const n=tw(t);for(const a of r.elements)n.some(l=>Zr(l,a))||n.push(a);return{arrayValue:{values:n}}}class wc extends Zf{constructor(t){super(),this.elements=t}}function J0(r,t){let n=tw(t);for(const a of r.elements)n=n.filter(l=>!Zr(l,a));return{arrayValue:{values:n}}}class Af extends Zf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function AE(r){return Xe(r.integerValue||r.doubleValue)}function tw(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Fx(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof Tc&&l instanceof Tc||a instanceof wc&&l instanceof wc?Kl(a.elements,l.elements,Zr):a instanceof Af&&l instanceof Af?Zr(a.Ae,l.Ae):a instanceof bf&&l instanceof bf}(r.transform,t.transform)}class Gx{constructor(t,n){this.version=t,this.transformResults=n}}class Rs{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Rs}static exists(t){return new Rs(void 0,t)}static updateTime(t){return new Rs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kf{}function ew(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new iw(r.key,Rs.none()):new Nc(r.key,r.data,Rs.none());{const n=r.data,a=Qi.empty();let l=new cn(In.comparator);for(let h of t.fields)if(!l.has(h)){let p=n.field(h);p===null&&h.length>1&&(h=h.popLast(),p=n.field(h)),p===null?a.delete(h):a.set(h,p),l=l.add(h)}return new Ko(r.key,a,new _r(l.toArray()),Rs.none())}}function Zx(r,t,n){r instanceof Nc?function(l,h,p){const y=l.value.clone(),v=CE(l.fieldTransforms,h,p.transformResults);y.setAll(v),h.convertToFoundDocument(p.version,y).setHasCommittedMutations()}(r,t,n):r instanceof Ko?function(l,h,p){if(!sf(l.precondition,h))return void h.convertToUnknownDocument(p.version);const y=CE(l.fieldTransforms,h,p.transformResults),v=h.data;v.setAll(nw(l)),v.setAll(y),h.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(r,t,n):function(l,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,n)}function hc(r,t,n,a){return r instanceof Nc?function(h,p,y,v){if(!sf(h.precondition,p))return y;const T=h.value.clone(),R=IE(h.fieldTransforms,v,p);return T.setAll(R),p.convertToFoundDocument(p.version,T).setHasLocalMutations(),null}(r,t,n,a):r instanceof Ko?function(h,p,y,v){if(!sf(h.precondition,p))return y;const T=IE(h.fieldTransforms,v,p),R=p.data;return R.setAll(nw(h)),R.setAll(T),p.convertToFoundDocument(p.version,R).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(P=>P.field))}(r,t,n,a):function(h,p,y){return sf(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):y}(r,t,n)}function Kx(r,t){let n=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),h=W0(a.transform,l||null);h!=null&&(n===null&&(n=Qi.empty()),n.set(a.field,h))}return n||null}function RE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Kl(a,l,(h,p)=>Fx(h,p))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Nc extends Kf{constructor(t,n,a,l=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ko extends Kf{constructor(t,n,a,l,h=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nw(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function CE(r,t,n){const a=new Map;me(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const h=r[l],p=h.transform,y=t.data.field(h.field);a.set(h.field,qx(p,y,n[l]))}return a}function IE(r,t,n){const a=new Map;for(const l of r){const h=l.transform,p=n.data.field(l.field);a.set(l.field,Hx(h,p,t))}return a}class iw extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Kf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,n,a,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Zx(h,t,a[l])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=hc(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=hc(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=Q0();return this.mutations.forEach(l=>{const h=t.get(l.key),p=h.overlayedDocument;let y=this.applyToLocalView(p,h.mutatedFields);y=n.has(l.key)?null:y;const v=ew(p,y);v!==null&&a.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(qt.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ie())}isEqual(t){return this.batchId===t.batchId&&Kl(this.mutations,t.mutations,(n,a)=>RE(n,a))&&Kl(this.baseMutations,t.baseMutations,(n,a)=>RE(n,a))}}class rg{constructor(t,n,a,l){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(t,n,a){me(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=function(){return Vx}();const h=t.mutations;for(let p=0;p<h.length;p++)l=l.insert(h[p].key,a[p].version);return new rg(t,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,le;function $x(r){switch(r){case mt.OK:return Ut(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return Ut(15467,{code:r})}}function rw(r){if(r===void 0)return Ps("GRPC error has no .code"),mt.UNKNOWN;switch(r){case en.OK:return mt.OK;case en.CANCELLED:return mt.CANCELLED;case en.UNKNOWN:return mt.UNKNOWN;case en.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case en.INTERNAL:return mt.INTERNAL;case en.UNAVAILABLE:return mt.UNAVAILABLE;case en.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case en.NOT_FOUND:return mt.NOT_FOUND;case en.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case en.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case en.ABORTED:return mt.ABORTED;case en.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case en.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case en.DATA_LOSS:return mt.DATA_LOSS;default:return Ut(39323,{code:r})}}(le=en||(en={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Va([4294967295,4294967295],0);function xE(r){const t=Jx().encode(r),n=new v0;return n.update(t),new Uint8Array(n.digest())}function PE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Va([n,a],0),new Va([l,h],0)]}class sg{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(a<0)throw new ic(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Va.fromNumber(this.ge)}ye(t,n,a){let l=t.add(n.multiply(Va.fromNumber(a)));return l.compare(tP)===1&&(l=new Va([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=xE(t),[a,l]=PE(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);if(!this.we(p))return!1}return!0}static create(t,n,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new sg(h,l,n);return a.forEach(y=>p.insert(y)),p}insert(t){if(this.ge===0)return;const n=xE(t),[a,l]=PE(n);for(let h=0;h<this.hashCount;h++){const p=this.ye(a,l,h);this.Se(p)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n,a,l,h){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const l=new Map;return l.set(t,kc.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new Yf(qt.min(),l,new He(ne),Os(),ie())}}class kc{constructor(t,n,a,l,h){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new kc(a,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,n,a,l){this.be=t,this.removedTargetIds=n,this.key=a,this.De=l}}class sw{constructor(t,n){this.targetId=t,this.Ce=n}}class aw{constructor(t,n,a=xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=l}}class OE{constructor(){this.ve=0,this.Fe=LE(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ie(),n=ie(),a=ie();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ut(38017,{changeType:h})}}),new kc(this.Me,this.xe,t,n,a)}qe(){this.Oe=!1,this.Fe=LE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Os(),this.Je=Zh(),this.He=Zh(),this.Ye=new He(ne)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const a=this.nt(n);switch(t.state){case 0:this.rt(n)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((a,l)=>{this.rt(l)&&n(l)})}st(t){const n=t.targetId,a=t.Ce.count,l=this.ot(n);if(l){const h=l.target;if(vp(h))if(a===0){const p=new Mt(h.path);this.et(n,p,jn.newNoDocument(p,qt.min()))}else me(a===1,20013,{expectedCount:a});else{const p=this._t(n);if(p!==a){const y=this.ut(t),v=y?this.ct(y,t,p):1;if(v!==0){this.it(n);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,T)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=n;let p,y;try{p=qa(a).toUint8Array()}catch(v){if(v instanceof O0)return Zl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new sg(p,l,h)}catch(v){return Zl(v instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(t,n,a){return n.Ce.count===a-this.Pt(t,n.targetId)?0:2}Pt(t,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach(h=>{const p=this.Ge.ht(),y=`projects/${p.projectId}/databases/${p.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.et(n,h,null),l++)}),l}Tt(t){const n=new Map;this.ze.forEach((h,p)=>{const y=this.ot(p);if(y){if(h.current&&vp(y.target)){const v=new Mt(y.target.path);this.It(v).has(p)||this.Et(p,v)||this.et(p,v,jn.newNoDocument(v,t))}h.Be&&(n.set(p,h.ke()),h.qe())}});let a=ie();this.He.forEach((h,p)=>{let y=!0;p.forEachWhile(v=>{const T=this.ot(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.je.forEach((h,p)=>p.setReadTime(t));const l=new Yf(t,n,this.Ye,this.je,a);return this.je=Os(),this.Je=Zh(),this.He=Zh(),this.Ye=new He(ne),l}Xe(t,n){if(!this.rt(t))return;const a=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),a&&(this.je=this.je.insert(n,a))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new OE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new cn(ne),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new cn(ne),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||St("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new OE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Zh(){return new He(Mt.comparator)}function LE(){return new He(Mt.comparator)}const nP={asc:"ASCENDING",desc:"DESCENDING"},iP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rP={and:"AND",or:"OR"};class sP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tp(r,t){return r.useProto3Json||Bf(t)?t:{value:t}}function Rf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ow(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aP(r,t){return Rf(r,t.toTimestamp())}function Hr(r){return me(!!r,49232),qt.fromTimestamp(function(n){const a=Ha(n);return new De(a.seconds,a.nanos)}(r))}function ag(r,t){return wp(r,t).canonicalString()}function wp(r,t){const n=function(l){return new Me(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function lw(r){const t=Me.fromString(r);return me(dw(t),10190,{key:t.toString()}),t}function Sp(r,t){return ag(r.databaseId,t.path)}function Wm(r,t){const n=lw(t);if(n.get(1)!==r.databaseId.projectId)throw new Pt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Pt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Mt(cw(n))}function uw(r,t){return ag(r.databaseId,t)}function oP(r){const t=lw(r);return t.length===4?Me.emptyPath():cw(t)}function bp(r){return new Me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cw(r){return me(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,t,n){return{name:Sp(r,t),fields:n.value.mapValue.fields}}function lP(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Ut(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(T,R){return T.useProto3Json?(me(R===void 0||typeof R=="string",58123),xn.fromBase64String(R||"")):(me(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),xn.fromUint8Array(R||new Uint8Array))}(r,t.targetChange.resumeToken),p=t.targetChange.cause,y=p&&function(T){const R=T.code===void 0?mt.UNKNOWN:rw(T.code);return new Pt(R,T.message||"")}(p);n=new aw(a,l,h,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wm(r,a.document.name),h=Hr(a.document.updateTime),p=a.document.createTime?Hr(a.document.createTime):qt.min(),y=new Qi({mapValue:{fields:a.document.fields}}),v=jn.newFoundDocument(l,h,p,y),T=a.targetIds||[],R=a.removedTargetIds||[];n=new af(T,R,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wm(r,a.document),h=a.readTime?Hr(a.readTime):qt.min(),p=jn.newNoDocument(l,h),y=a.removedTargetIds||[];n=new af([],y,p.key,p)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wm(r,a.document),h=a.removedTargetIds||[];n=new af([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,p=new Wx(l,h),y=a.targetId;n=new sw(y,p)}}return n}function uP(r,t){let n;if(t instanceof Nc)n={update:ME(r,t.key,t.value)};else if(t instanceof iw)n={delete:Sp(r,t.key)};else if(t instanceof Ko)n={update:ME(r,t.key,t.data),updateMask:yP(t.fieldMask)};else{if(!(t instanceof Yx))return Ut(16599,{Vt:t.type});n={verify:Sp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(h,p){const y=p.transform;if(y instanceof bf)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Tc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof wc)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Af)return{fieldPath:p.field.canonicalString(),increment:y.Ae};throw Ut(20930,{transform:p.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:aP(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)}(r,t.precondition)),n}function cP(r,t){return r&&r.length>0?(me(t!==void 0,14353),r.map(n=>function(l,h){let p=l.updateTime?Hr(l.updateTime):Hr(h);return p.isEqual(qt.min())&&(p=Hr(h)),new Gx(p,l.transformResults||[])}(n,t))):[]}function hP(r,t){return{documents:[uw(r,t.path)]}}function fP(r,t){const n={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=uw(r,l);const h=function(T){if(T.length!==0)return fw(Kr.create(T,"and"))}(t.filters);h&&(n.structuredQuery.where=h);const p=function(T){if(T.length!==0)return T.map(R=>function(x){return{field:Vl(x.field),direction:pP(x.dir)}}(R))}(t.orderBy);p&&(n.structuredQuery.orderBy=p);const y=Tp(r,t.limit);return y!==null&&(n.structuredQuery.limit=y),t.startAt&&(n.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{ft:n,parent:l}}function dP(r){let t=oP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){me(a===1,65062);const R=n.from[0];R.allDescendants?l=R.collectionId:t=t.child(R.collectionId)}let h=[];n.where&&(h=function(P){const x=hw(P);return x instanceof Kr&&j0(x)?x.getFilters():[x]}(n.where));let p=[];n.orderBy&&(p=function(P){return P.map(x=>function(W){return new Sf(zl(W.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction))}(x))}(n.orderBy));let y=null;n.limit&&(y=function(P){let x;return x=typeof P=="object"?P.value:P,Bf(x)?null:x}(n.limit));let v=null;n.startAt&&(v=function(P){const x=!!P.before,G=P.values||[];return new wf(G,x)}(n.startAt));let T=null;return n.endAt&&(T=function(P){const x=!P.before,G=P.values||[];return new wf(G,x)}(n.endAt)),Ox(t,l,p,h,y,"F",v,T)}function mP(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function hw(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=zl(n.unaryFilter.field);return un.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=zl(n.unaryFilter.field);return un.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=zl(n.unaryFilter.field);return un.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=zl(n.unaryFilter.field);return un.create(p,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(r):r.fieldFilter!==void 0?function(n){return un.create(zl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kr.create(n.compositeFilter.filters.map(a=>hw(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(r):Ut(30097,{filter:r})}function pP(r){return nP[r]}function gP(r){return iP[r]}function _P(r){return rP[r]}function Vl(r){return{fieldPath:r.canonicalString()}}function zl(r){return In.fromServerFormat(r.fieldPath)}function fw(r){return r instanceof un?function(n){if(n.op==="=="){if(EE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(vE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(vE(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:gP(n.op),value:n.value}}}(r):r instanceof Kr?function(n){const a=n.getFilters().map(l=>fw(l));return a.length===1?a[0]:{compositeFilter:{op:_P(n.op),filters:a}}}(r):Ut(54877,{filter:r})}function yP(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function dw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,a,l,h=qt.min(),p=qt.min(),y=xn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Ma(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.yt=t}}function EP(r){const t=dP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ep(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.Cn=new wP}addToCollectionParentIndex(t,n){return this.Cn.add(n),ht.resolve()}getCollectionParents(t,n){return ht.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return ht.resolve()}deleteFieldIndex(t,n){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,n){return ht.resolve()}getDocumentsMatchingTarget(t,n){return ht.resolve(null)}getIndexType(t,n){return ht.resolve(0)}getFieldIndexes(t,n){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,n){return ht.resolve(ja.min())}getMinOffsetFromCollectionGroup(t,n){return ht.resolve(ja.min())}updateCollectionGroup(t,n,a){return ht.resolve()}updateIndexEntries(t,n){return ht.resolve()}}class wP{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n]||new cn(Me.comparator),h=!l.has(a);return this.index[n]=l.add(a),h}has(t){const n=t.lastSegment(),a=t.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(t){return(this.index[t]||new cn(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mw=41943040;class ri{static withCacheSize(t){return new ri(t,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(mw,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Xl(0)}static cr(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",SP=1048576;function kE([r,t],[n,a]){const l=ne(r,n);return l===0?ne(t,a):l}class bP{constructor(t){this.Ir=t,this.buffer=new cn(kE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();kE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(NE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?St(NE,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Vr(3e5)})}}class RP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return ht.resolve(Uf.ce);const a=new bP(n);return this.mr.forEachTarget(t,l=>a.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>a.Ar(l))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.mr.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(DE)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let a,l,h,p,y,v,T;const R=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),l=this.params.maximumSequenceNumbersToCollect):l=P,p=Date.now(),this.nthSequenceNumber(t,l))).next(P=>(a=P,y=Date.now(),this.removeTargets(t,a,n))).next(P=>(h=P,v=Date.now(),this.removeOrphanedDocuments(t,a))).next(P=>(T=Date.now(),Nl()<=ee.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-R}ms
	Determined least recently used ${l} in `+(y-p)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${P} documents in `+(T-v)+`ms
Total Duration: ${T-R}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:P})))}}function CP(r,t){return new RP(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.changes=new Zo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ht.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t,n,a,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(a!==null&&hc(a.mutation,l,_r.empty(),De.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,ie()).next(()=>a))}getLocalViewOfDocuments(t,n,a=ie()){const l=Do();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,a).next(h=>{let p=nc();return h.forEach((y,v)=>{p=p.insert(y,v.overlayedDocument)}),p}))}getOverlayedDocuments(t,n){const a=Do();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,ie()))}populateOverlays(t,n,a){const l=[];return a.forEach(h=>{n.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((p,y)=>{n.set(p,y)})})}computeViews(t,n,a,l){let h=Os();const p=cc(),y=function(){return cc()}();return n.forEach((v,T)=>{const R=a.get(T.key);l.has(T.key)&&(R===void 0||R.mutation instanceof Ko)?h=h.insert(T.key,T):R!==void 0?(p.set(T.key,R.mutation.getFieldMask()),hc(R.mutation,T,R.mutation.getFieldMask(),De.now())):p.set(T.key,_r.empty())}),this.recalculateAndSaveOverlays(t,h).next(v=>(v.forEach((T,R)=>p.set(T,R)),n.forEach((T,R)=>y.set(T,new xP(R,p.get(T)??null))),y))}recalculateAndSaveOverlays(t,n){const a=cc();let l=new He((p,y)=>p-y),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(p=>{for(const y of p)y.keys().forEach(v=>{const T=n.get(v);if(T===null)return;let R=a.get(v)||_r.empty();R=y.applyToLocalView(T,R),a.set(v,R);const P=(l.get(y.batchId)||ie()).add(v);l=l.insert(y.batchId,P)})}).next(()=>{const p=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),T=v.key,R=v.value,P=Q0();R.forEach(x=>{if(!h.has(x)){const G=ew(n.get(x),a.get(x));G!==null&&P.set(x,G),h=h.add(x)}}),p.push(this.documentOverlayCache.saveOverlays(t,T,P))}return ht.waitFor(p)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,l){return function(p){return Mt.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Lx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,l):this.getDocumentsMatchingCollectionQuery(t,n,a,l)}getNextDocuments(t,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,l).next(h=>{const p=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,l-h.size):ht.resolve(Do());let y=_c,v=h;return p.next(T=>ht.forEach(T,(R,P)=>(y<P.largestBatchId&&(y=P.largestBatchId),h.get(R)?ht.resolve():this.remoteDocumentCache.getEntry(t,R).next(x=>{v=v.insert(R,x)}))).next(()=>this.populateOverlays(t,T,h)).next(()=>this.computeViews(t,v,T,ie())).next(R=>({batchId:y,changes:Y0(R)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Mt(n)).next(a=>{let l=nc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,a,l){const h=n.collectionGroup;let p=nc();return this.indexManager.getCollectionParents(t,h).next(y=>ht.forEach(y,v=>{const T=function(P,x){return new Hf(x,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next(R=>{R.forEach((P,x)=>{p=p.insert(P,x)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,n,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(p=>(h=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,h,l))).next(p=>{h.forEach((v,T)=>{const R=T.getKey();p.get(R)===null&&(p=p.insert(R,jn.newInvalidDocument(R)))});let y=nc();return p.forEach((v,T)=>{const R=h.get(v);R!==void 0&&hc(R.mutation,T,_r.empty(),De.now()),Gf(n,T)&&(y=y.insert(v,T))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return ht.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Hr(l.createTime)}}(n)),ht.resolve()}getNamedQuery(t,n){return ht.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(l){return{name:l.name,query:EP(l.bundledQuery),readTime:Hr(l.readTime)}}(n)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.overlays=new He(Mt.comparator),this.qr=new Map}getOverlay(t,n){return ht.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Do();return ht.forEach(n,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((l,h)=>{this.St(t,n,h)}),ht.resolve()}removeOverlaysForBatchId(t,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),ht.resolve()}getOverlaysForCollection(t,n,a){const l=Do(),h=n.length+1,p=new Mt(n.child("")),y=this.overlays.getIteratorFrom(p);for(;y.hasNext();){const v=y.getNext().value,T=v.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,n,a,l){let h=new He((T,R)=>T-R);const p=this.overlays.getIterator();for(;p.hasNext();){const T=p.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>a){let R=h.get(T.largestBatchId);R===null&&(R=Do(),h=h.insert(T.largestBatchId,R)),R.set(T.getKey(),T)}}const y=Do(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,R)=>y.set(T,R)),!(y.size()>=l)););return ht.resolve(y)}St(t,n,a){const l=this.overlays.get(a.key);if(l!==null){const p=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(a.key,new Xx(n,a));let h=this.qr.get(n);h===void 0&&(h=ie(),this.qr.set(n,h)),this.qr.set(n,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Qr=new cn(En.$r),this.Ur=new cn(En.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const a=new En(t,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.Gr(new En(t,n))}zr(t,n){t.forEach(a=>this.removeReference(a,n))}jr(t){const n=new Mt(new Me([])),a=new En(n,t),l=new En(n,t+1),h=[];return this.Ur.forEachInRange([a,l],p=>{this.Gr(p),h.push(p.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Mt(new Me([])),a=new En(n,t),l=new En(n,t+1);let h=ie();return this.Ur.forEachInRange([a,l],p=>{h=h.add(p.key)}),h}containsKey(t){const n=new En(t,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class En{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Mt.comparator(t.key,n.key)||ne(t.Yr,n.Yr)}static Kr(t,n){return ne(t.Yr,n.Yr)||Mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new cn(En.$r)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Qx(h,n,a,l);this.mutationQueue.push(p);for(const y of l)this.Zr=this.Zr.add(new En(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return ht.resolve(p)}lookupMutationBatch(t,n){return ht.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,l=this.ei(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?$p:this.tr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new En(n,0),l=new En(n,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],p=>{const y=this.Xr(p.Yr);h.push(y)}),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new cn(ne);return n.forEach(l=>{const h=new En(l,0),p=new En(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,p],y=>{a=a.add(y.Yr)})}),ht.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const p=new En(new Mt(h),0);let y=new cn(ne);return this.Zr.forEachWhile(v=>{const T=v.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(y=y.add(v.Yr)),!0)},p),ht.resolve(this.ti(y))}ti(t){const n=[];return t.forEach(a=>{const l=this.Xr(a);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ht.forEach(n.mutations,l=>{const h=new En(l.key,n.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,n){const a=new En(n,0),l=this.Zr.firstAfterOrEqual(a);return ht.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t){this.ri=t,this.docs=function(){return new He(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,l=this.docs.get(a),h=l?l.size:0,p=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return ht.resolve(a?a.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(t,n){let a=Os();return n.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():jn.newInvalidDocument(l))}),ht.resolve(a)}getDocumentsMatchingQuery(t,n,a,l){let h=Os();const p=n.path,y=new Mt(p.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:T,value:{document:R}}=v.getNext();if(!p.isPrefixOf(T.path))break;T.path.length>p.length+1||ux(lx(R),a)<=0||(l.has(R.key)||Gf(n,R))&&(h=h.insert(R.key,R.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,n,a,l){Ut(9500)}ii(t,n){return ht.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new kP(this)}getSize(t){return ht.resolve(this.size)}}class kP extends IP{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)}),ht.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(t){this.persistence=t,this.si=new Zo(n=>eg(n),ng),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.oi=0,this._i=new og,this.targetCount=0,this.ai=Xl.ur()}forEachTarget(t,n){return this.si.forEach((a,l)=>n(l)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ht.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Xl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,ht.resolve()}updateTargetData(t,n){return this.Pr(n),ht.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,n,a){let l=0;const h=[];return this.si.forEach((p,y)=>{y.sequenceNumber<=n&&a.get(y.targetId)===null&&(this.si.delete(p),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)}),ht.waitFor(h).next(()=>l)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,n){const a=this.si.get(n)||null;return ht.resolve(a)}addMatchingKeys(t,n,a){return this._i.Wr(n,a),ht.resolve()}removeMatchingKeys(t,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,h=[];return l&&n.forEach(p=>{h.push(l.markPotentiallyOrphaned(t,p))}),ht.waitFor(h)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),ht.resolve()}getMatchingKeysForTargetId(t,n){const a=this._i.Hr(n);return ht.resolve(a)}containsKey(t,n){return ht.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,n){this.ui={},this.overlays={},this.ci=new Uf(0),this.li=!1,this.li=!0,this.hi=new MP,this.referenceDelegate=t(this),this.Pi=new VP(this),this.indexManager=new TP,this.remoteDocumentCache=function(l){return new NP(l)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new vP(n),this.Ii=new OP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new LP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ui[t.toKey()];return a||(a=new DP(n,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,a){St("MemoryPersistence","Starting transaction:",t);const l=new zP(this.ci.next());return this.referenceDelegate.Ei(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,n){return ht.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,n)))}}class zP extends hx{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Ri=new og,this.Vi=null}static mi(t){return new lg(t)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(t,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ht.resolve()}removeReference(t,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),ht.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(l=>this.fi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.fi,a=>{const l=Mt.fromPath(a);return this.gi(t,l).next(h=>{h||n.removeEntry(l,qt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return ht.or([()=>ht.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Cf{constructor(t,n){this.persistence=t,this.pi=new Zo(a=>mx(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=CP(this,n)}static mi(t,n){return new Cf(t,n)}Ei(){}di(t){return ht.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(l=>a+l))}wr(t){let n=0;return this.pr(t,a=>{n++}).next(()=>n)}pr(t,n){return ht.forEach(this.pi,(a,l)=>this.br(t,a,l).next(h=>h?ht.resolve():n(l)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,p=>this.br(t,p,n).next(y=>{y||(a++,h.removeEntry(p,qt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),ht.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,n,a){return this.pi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),ht.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nf(t.data.value)),n}br(t,n,a){return ht.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t,n,a,l){this.targetId=t,this.fromCache=n,this.Es=a,this.ds=l}static As(t,n){let a=ie(),l=ie();for(const h of n.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new ug(t,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return v1()?8:fx(Hn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,a,l){const h={result:null};return this.ys(t,n).next(p=>{h.result=p}).next(()=>{if(!h.result)return this.ws(t,n,l,a).next(p=>{h.result=p})}).next(()=>{if(h.result)return;const p=new UP;return this.Ss(t,n,p).next(y=>{if(h.result=y,this.Vs)return this.bs(t,n,p,y.size)})}).next(()=>h.result)}bs(t,n,a,l){return a.documentReadCount<this.fs?(Nl()<=ee.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ht.resolve()):(Nl()<=ee.DEBUG&&St("QueryEngine","Query:",kl(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Nl()<=ee.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jr(n))):ht.resolve())}ys(t,n){if(bE(n))return ht.resolve(null);let a=jr(n);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Ep(n,null,"F"),a=jr(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const p=ie(...h);return this.ps.getDocuments(t,p).next(y=>this.indexManager.getMinOffset(t,a).next(v=>{const T=this.Ds(n,y);return this.Cs(n,T,p,v.readTime)?this.ys(t,Ep(n,null,"F")):this.vs(t,T,n,v)}))})))}ws(t,n,a,l){return bE(n)||l.isEqual(qt.min())?ht.resolve(null):this.ps.getDocuments(t,a).next(h=>{const p=this.Ds(n,h);return this.Cs(n,p,a,l)?ht.resolve(null):(Nl()<=ee.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),kl(n)),this.vs(t,p,n,ox(l,_c)).next(y=>y))})}Ds(t,n){let a=new cn(Z0(t));return n.forEach((l,h)=>{Gf(t,h)&&(a=a.add(h))}),a}Cs(t,n,a,l){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const h=t.limitType==="F"?n.last():n.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,n,a){return Nl()<=ee.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(t,n,ja.min(),a)}vs(t,n,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next(h=>(n.forEach(p=>{h=h.insert(p.key,p)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",jP=3e8;class HP{constructor(t,n,a,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new He(ne),this.xs=new Zo(h=>eg(h),ng),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function qP(r,t,n,a){return new HP(r,t,n,a)}async function gw(r,t){const n=Ft(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,n.Bs(t),n.mutationQueue.getAllMutationBatches(a))).next(h=>{const p=[],y=[];let v=ie();for(const T of l){p.push(T.batchId);for(const R of T.mutations)v=v.add(R.key)}for(const T of h){y.push(T.batchId);for(const R of T.mutations)v=v.add(R.key)}return n.localDocuments.getDocuments(a,v).next(T=>({Ls:T,removedBatchIds:p,addedBatchIds:y}))})})}function FP(r,t){const n=Ft(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=n.Ns.newChangeBuffer({trackRemovals:!0});return function(y,v,T,R){const P=T.batch,x=P.keys();let G=ht.resolve();return x.forEach(W=>{G=G.next(()=>R.getEntry(v,W)).next(tt=>{const J=T.docVersions.get(W);me(J!==null,48541),tt.version.compareTo(J)<0&&(P.applyToRemoteDocument(tt,T),tt.isValidDocument()&&(tt.setReadTime(T.commitVersion),R.addEntry(tt)))})}),G.next(()=>y.mutationQueue.removeMutationBatch(v,P))}(n,a,t,h).next(()=>h.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let v=ie();for(let T=0;T<y.mutationResults.length;++T)y.mutationResults[T].transformResults.length>0&&(v=v.add(y.batch.mutations[T].key));return v}(t))).next(()=>n.localDocuments.getDocuments(a,l))})}function _w(r){const t=Ft(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function GP(r,t){const n=Ft(r),a=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const p=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const y=[];t.targetChanges.forEach((R,P)=>{const x=l.get(P);if(!x)return;y.push(n.Pi.removeMatchingKeys(h,R.removedDocuments,P).next(()=>n.Pi.addMatchingKeys(h,R.addedDocuments,P)));let G=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(P)!==null?G=G.withResumeToken(xn.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):R.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(R.resumeToken,a)),l=l.insert(P,G),function(tt,J,at){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=jP?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(x,G,R)&&y.push(n.Pi.updateTargetData(h,G))});let v=Os(),T=ie();if(t.documentUpdates.forEach(R=>{t.resolvedLimboDocuments.has(R)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(h,R))}),y.push(ZP(h,p,t.documentUpdates).next(R=>{v=R.ks,T=R.qs})),!a.isEqual(qt.min())){const R=n.Pi.getLastRemoteSnapshotVersion(h).next(P=>n.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(R)}return ht.waitFor(y).next(()=>p.apply(h)).next(()=>n.localDocuments.getLocalViewOfDocuments(h,v,T)).next(()=>v)}).then(h=>(n.Ms=l,h))}function ZP(r,t,n){let a=ie(),l=ie();return n.forEach(h=>a=a.add(h)),t.getEntries(r,a).next(h=>{let p=Os();return n.forEach((y,v)=>{const T=h.get(y);v.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(qt.min())?(t.removeEntry(y,v.readTime),p=p.insert(y,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),p=p.insert(y,v)):St(cg,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",v.version)}),{ks:p,qs:l}})}function KP(r,t){const n=Ft(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=$p),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function YP(r,t){const n=Ft(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return n.Pi.getTargetData(a,t).next(h=>h?(l=h,ht.resolve(l)):n.Pi.allocateTargetId(a).next(p=>(l=new Ma(t,p,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(t,a.targetId)),a})}async function Ap(r,t,n){const a=Ft(r),l=a.Ms.get(t),h=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",h,p=>a.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!su(p))throw p;St(cg,`Failed to update sequence numbers for target ${t}: ${p}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function VE(r,t,n){const a=Ft(r);let l=qt.min(),h=ie();return a.persistence.runTransaction("Execute query","readwrite",p=>function(v,T,R){const P=Ft(v),x=P.xs.get(R);return x!==void 0?ht.resolve(P.Ms.get(x)):P.Pi.getTargetData(T,R)}(a,p,jr(t)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(p,y.targetId).next(v=>{h=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(p,t,n?l:qt.min(),n?h:ie())).next(y=>(QP(a,Dx(t),y),{documents:y,Qs:h})))}function QP(r,t,n){let a=r.Os.get(t)||qt.min();n.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.Os.set(t,a)}class zE{constructor(){this.activeTargetIds=Bx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XP{constructor(){this.Mo=new zE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,a){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zE,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class BE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(UE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(UE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Rp(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",$P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Ef?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,n,a,l,h){const p=Rp(),y=this.zo(t,n.toUriEncodedString());St($m,`Sending RPC '${t}' ${p}:`,y,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:T}=new URL(y),R=tu(T);return this.Jo(t,y,v,a,R).then(P=>(St($m,`Received RPC '${t}' ${p}: `,P),P),P=>{throw Zl($m,`RPC '${t}' ${p} failed with error: `,P,"url: ",y,"request:",a),P})}Ho(t,n,a,l,h,p){return this.Go(t,n,a,l,h)}jo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}zo(t,n){const a=$P[t];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class e2 extends JP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,a,l,h){const p=Rp();return new Promise((y,v)=>{const T=new E0;T.setWithCredentials(!0),T.listenOnce(T0.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case ef.NO_ERROR:const P=T.getResponseJson();St(Un,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(P)),y(P);break;case ef.TIMEOUT:St(Un,`RPC '${t}' ${p} timed out`),v(new Pt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case ef.HTTP_ERROR:const x=T.getStatus();if(St(Un,`RPC '${t}' ${p} failed with status:`,x,"response text:",T.getResponseText()),x>0){let G=T.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const tt=function(at){const vt=at.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(vt)>=0?vt:mt.UNKNOWN}(W.status);v(new Pt(tt,W.message))}else v(new Pt(mt.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new Pt(mt.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:t,streamId:p,h_:T.getLastErrorCode(),P_:T.getLastError()})}}finally{St(Un,`RPC '${t}' ${p} completed.`)}});const R=JSON.stringify(l);St(Un,`RPC '${t}' ${p} sending request:`,l),T.send(n,"POST",R,a,15)})}T_(t,n,a){const l=Rp(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=b0(),y=S0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,n,a),v.encodeInitMessageHeaders=!0;const R=h.join("");St(Un,`Creating RPC '${t}' stream ${l}: ${R}`,v);const P=p.createWebChannel(R,v);this.I_(P);let x=!1,G=!1;const W=new t2({Yo:J=>{G?St(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(x||(St(Un,`Opening RPC '${t}' stream ${l} transport.`),P.open(),x=!0),St(Un,`RPC '${t}' stream ${l} sending:`,J),P.send(J))},Zo:()=>P.close()}),tt=(J,at,vt)=>{J.listen(at,ut=>{try{vt(ut)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return tt(P,ec.EventType.OPEN,()=>{G||(St(Un,`RPC '${t}' stream ${l} transport opened.`),W.o_())}),tt(P,ec.EventType.CLOSE,()=>{G||(G=!0,St(Un,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(P))}),tt(P,ec.EventType.ERROR,J=>{G||(G=!0,Zl(Un,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new Pt(mt.UNAVAILABLE,"The operation could not be completed")))}),tt(P,ec.EventType.MESSAGE,J=>{if(!G){const at=J.data[0];me(!!at,16349);const vt=at,ut=vt?.error||vt[0]?.error;if(ut){St(Un,`RPC '${t}' stream ${l} received error:`,ut);const Nt=ut.status;let It=function(O){const D=en[O];if(D!==void 0)return rw(D)}(Nt),Kt=ut.message;It===void 0&&(It=mt.INTERNAL,Kt="Unknown error status: "+Nt+" with message "+ut.message),G=!0,W.a_(new Pt(It,Kt)),P.close()}else St(Un,`RPC '${t}' stream ${l} received:`,at),W.u_(at)}}),tt(y,w0.STAT_EVENT,J=>{J.stat===mp.PROXY?St(Un,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===mp.NOPROXY&&St(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{W.__()},0),W}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(r){return new sP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,n,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=n,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class vw{constructor(t,n,a,l,h,p,y,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(Ps(n.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.D_===n&&this.G_(a,l)},a=>{t(()=>{const l=new Pt(mt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)})})}G_(t,n){const a=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{a(()=>this.z_(l))}),this.stream.onMessage(l=>{a(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return St(jE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(St(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n2 extends vw{constructor(t,n,a,l,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=lP(this.serializer,t),a=function(h){if(!("targetChange"in h))return qt.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?qt.min():p.readTime?Hr(p.readTime):qt.min()}(t);return this.listener.H_(n,a)}Y_(t){const n={};n.database=bp(this.serializer),n.addTarget=function(h,p){let y;const v=p.target;if(y=vp(v)?{documents:hP(h,v)}:{query:fP(h,v).ft},y.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){y.resumeToken=ow(h,p.resumeToken);const T=Tp(h,p.expectedCount);T!==null&&(y.expectedCount=T)}else if(p.snapshotVersion.compareTo(qt.min())>0){y.readTime=Rf(h,p.snapshotVersion.toTimestamp());const T=Tp(h,p.expectedCount);T!==null&&(y.expectedCount=T)}return y}(this.serializer,t);const a=mP(this.serializer,t);a&&(n.labels=a),this.q_(n)}Z_(t){const n={};n.database=bp(this.serializer),n.removeTarget=t,this.q_(n)}}class i2 extends vw{constructor(t,n,a,l,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,p),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=cP(t.writeResults,t.commitTime),a=Hr(t.commitTime);return this.listener.na(a,n)}ra(){const t={};t.database=bp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>uP(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class s2 extends r2{constructor(t,n,a,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Pt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Go(t,wp(n,a),l,h,p)).catch(h=>{throw h.name==="FirebaseError"?(h.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Pt(mt.UNKNOWN,h.toString())})}Ho(t,n,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Ho(t,wp(n,a),l,p,y,h)).catch(p=>{throw p.name==="FirebaseError"?(p.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Pt(mt.UNKNOWN,p.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class a2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(n),this.aa=!1):St("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RemoteStore";class o2{constructor(t,n,a,l,h){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(p=>{a.enqueueAndForget(async()=>{Yo(this)&&(St(Ho,"Restarting streams for network reachability change."),await async function(v){const T=Ft(v);T.Ea.add(4),await Vc(T),T.Ra.set("Unknown"),T.Ea.delete(4),await Xf(T)}(this))})}),this.Ra=new a2(a,l)}}async function Xf(r){if(Yo(r))for(const t of r.da)await t(!0)}async function Vc(r){for(const t of r.da)await t(!1)}function Ew(r,t){const n=Ft(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mg(n)?dg(n):au(n).O_()&&fg(n,t))}function hg(r,t){const n=Ft(r),a=au(n);n.Ia.delete(t),a.O_()&&Tw(n,t),n.Ia.size===0&&(a.O_()?a.L_():Yo(n)&&n.Ra.set("Unknown"))}function fg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}au(r).Y_(t)}function Tw(r,t){r.Va.Ue(t),au(r).Z_(t)}function dg(r){r.Va=new eP({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),au(r).start(),r.Ra.ua()}function mg(r){return Yo(r)&&!au(r).x_()&&r.Ia.size>0}function Yo(r){return Ft(r).Ea.size===0}function ww(r){r.Va=void 0}async function l2(r){r.Ra.set("Online")}async function u2(r){r.Ia.forEach((t,n)=>{fg(r,t)})}async function c2(r,t){ww(r),mg(r)?(r.Ra.ha(t),dg(r)):r.Ra.set("Unknown")}async function h2(r,t,n){if(r.Ra.set("Online"),t instanceof aw&&t.state===2&&t.cause)try{await async function(l,h){const p=h.cause;for(const y of h.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,p),l.Ia.delete(y),l.Va.removeTarget(y))}(r,t)}catch(a){St(Ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await If(r,a)}else if(t instanceof af?r.Va.Ze(t):t instanceof sw?r.Va.st(t):r.Va.tt(t),!n.isEqual(qt.min()))try{const a=await _w(r.localStore);n.compareTo(a)>=0&&await function(h,p){const y=h.Va.Tt(p);return y.targetChanges.forEach((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const R=h.Ia.get(T);R&&h.Ia.set(T,R.withResumeToken(v.resumeToken,p))}}),y.targetMismatches.forEach((v,T)=>{const R=h.Ia.get(v);if(!R)return;h.Ia.set(v,R.withResumeToken(xn.EMPTY_BYTE_STRING,R.snapshotVersion)),Tw(h,v);const P=new Ma(R.target,v,T,R.sequenceNumber);fg(h,P)}),h.remoteSyncer.applyRemoteEvent(y)}(r,n)}catch(a){St(Ho,"Failed to raise snapshot:",a),await If(r,a)}}async function If(r,t,n){if(!su(t))throw t;r.Ea.add(1),await Vc(r),r.Ra.set("Offline"),n||(n=()=>_w(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{St(Ho,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xf(r)})}function Sw(r,t){return t().catch(n=>If(r,n,t))}async function Wf(r){const t=Ft(r),n=Ga(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$p;for(;f2(t);)try{const l=await KP(t.localStore,a);if(l===null){t.Ta.length===0&&n.L_();break}a=l.batchId,d2(t,l)}catch(l){await If(t,l)}bw(t)&&Aw(t)}function f2(r){return Yo(r)&&r.Ta.length<10}function d2(r,t){r.Ta.push(t);const n=Ga(r);n.O_()&&n.X_&&n.ea(t.mutations)}function bw(r){return Yo(r)&&!Ga(r).x_()&&r.Ta.length>0}function Aw(r){Ga(r).start()}async function m2(r){Ga(r).ra()}async function p2(r){const t=Ga(r);for(const n of r.Ta)t.ea(n.mutations)}async function g2(r,t,n){const a=r.Ta.shift(),l=rg.from(a,t,n);await Sw(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Wf(r)}async function _2(r,t){t&&Ga(r).X_&&await async function(a,l){if(function(p){return $x(p)&&p!==mt.ABORTED}(l.code)){const h=a.Ta.shift();Ga(a).B_(),await Sw(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Wf(a)}}(r,t),bw(r)&&Aw(r)}async function HE(r,t){const n=Ft(r);n.asyncQueue.verifyOperationInProgress(),St(Ho,"RemoteStore received new credentials");const a=Yo(n);n.Ea.add(3),await Vc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xf(n)}async function y2(r,t){const n=Ft(r);t?(n.Ea.delete(2),await Xf(n)):t||(n.Ea.add(2),await Vc(n),n.Ra.set("Unknown"))}function au(r){return r.ma||(r.ma=function(n,a,l){const h=Ft(n);return h.sa(),new n2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Xo:l2.bind(null,r),t_:u2.bind(null,r),r_:c2.bind(null,r),H_:h2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),mg(r)?dg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ww(r))})),r.ma}function Ga(r){return r.fa||(r.fa=function(n,a,l){const h=Ft(n);return h.sa(),new i2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:m2.bind(null,r),r_:_2.bind(null,r),ta:p2.bind(null,r),na:g2.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Wf(r)):(await r.fa.stop(),r.Ta.length>0&&(St(Ho,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,a,l,h){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,l,h){const p=Date.now()+a,y=new pg(t,n,p,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(mt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(r,t){if(Ps("AsyncQueue",`${t}: ${r}`),su(r))return new Pt(mt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{static emptySet(t){return new ql(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||Mt.comparator(n.key,a.key):(n,a)=>Mt.comparator(n.key,a.key),this.keyedMap=nc(),this.sortedSet=new He(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ql)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new ql;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.ga=new He(Mt.comparator)}track(t){const n=t.doc.key,a=this.ga.get(n);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(n,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(n):t.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Ut(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,a)=>{t.push(a)}),t}}class Wl{constructor(t,n,a,l,h,p,y,v,T){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,n,a,l,h){const p=[];return n.forEach(y=>{p.push({type:0,doc:y})}),new Wl(t,n,ql.emptySet(n),p,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ff(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class E2{constructor(){this.queries=FE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ft(n),h=l.queries;l.queries=FE(),h.forEach((p,y)=>{for(const v of y.Sa)v.onError(a)})})(this,new Pt(mt.ABORTED,"Firestore shutting down"))}}function FE(){return new Zo(r=>G0(r),Ff)}async function Rw(r,t){const n=Ft(r);let a=3;const l=t.query;let h=n.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new v2,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await n.onListen(l,!0);break;case 1:h.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(p){const y=gg(p,`Initialization of query '${kl(t.query)}' failed`);return void t.onError(y)}n.queries.set(l,h),h.Sa.push(t),t.va(n.onlineState),h.wa&&t.Fa(h.wa)&&_g(n)}async function Cw(r,t){const n=Ft(r),a=t.query;let l=3;const h=n.queries.get(a);if(h){const p=h.Sa.indexOf(t);p>=0&&(h.Sa.splice(p,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function T2(r,t){const n=Ft(r);let a=!1;for(const l of t){const h=l.query,p=n.queries.get(h);if(p){for(const y of p.Sa)y.Fa(l)&&(a=!0);p.wa=l}}a&&_g(n)}function w2(r,t,n){const a=Ft(r),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(n);a.queries.delete(t)}function _g(r){r.Ca.forEach(t=>{t.next()})}var Cp,GE;(GE=Cp||(Cp={})).Ma="default",GE.Cache="cache";class Iw{constructor(t,n,a){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.key=t}}class Pw{constructor(t){this.key=t}}class S2{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=Z0(t),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(t,n){const a=n?n.iu:new qE,l=n?n.tu:this.tu;let h=n?n.mutatedKeys:this.mutatedKeys,p=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((R,P)=>{const x=l.get(R),G=Gf(this.query,P)?P:null,W=!!x&&this.mutatedKeys.has(x.key),tt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;x&&G?x.data.isEqual(G.data)?W!==tt&&(a.track({type:3,doc:G}),J=!0):this.su(x,G)||(a.track({type:2,doc:G}),J=!0,(v&&this.eu(G,v)>0||T&&this.eu(G,T)<0)&&(y=!0)):!x&&G?(a.track({type:0,doc:G}),J=!0):x&&!G&&(a.track({type:1,doc:x}),J=!0,(v||T)&&(y=!0)),J&&(G?(p=p.add(G),h=tt?h.add(R):h.delete(R)):(p=p.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const R=this.query.limitType==="F"?p.last():p.first();p=p.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{tu:p,iu:a,Cs:y,mutatedKeys:h}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const p=t.iu.ya();p.sort((R,P)=>function(G,W){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:J})}};return tt(G)-tt(W)}(R.type,P.type)||this.eu(R.doc,P.doc)),this.ou(a),l=l??!1;const y=n&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,T=v!==this.Za;return this.Za=v,p.length!==0||T?{snapshot:new Wl(this.query,t.tu,h,p,t.mutatedKeys,v===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ie(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return t.forEach(a=>{this.Xa.has(a)||n.push(new Pw(a))}),this.Xa.forEach(a=>{t.has(a)||n.push(new xw(a))}),n}cu(t){this.Ya=t.Qs,this.Xa=ie();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class b2{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class A2{constructor(t){this.key=t,this.hu=!1}}class R2{constructor(t,n,a,l,h,p){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Pu={},this.Tu=new Zo(y=>G0(y),Ff),this.Iu=new Map,this.Eu=new Set,this.du=new He(Mt.comparator),this.Au=new Map,this.Ru=new og,this.Vu={},this.mu=new Map,this.fu=Xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C2(r,t,n=!0){const a=kw(r);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await Ow(a,t,n,!0),l}async function I2(r,t){const n=kw(r);await Ow(n,t,!0,!1)}async function Ow(r,t,n,a){const l=await YP(r.localStore,jr(t)),h=l.targetId,p=r.sharedClientState.addLocalQueryTarget(h,n);let y;return a&&(y=await x2(r,t,h,p==="current",l.resumeToken)),r.isPrimaryClient&&n&&Ew(r.remoteStore,l),y}async function x2(r,t,n,a,l){r.pu=(P,x,G)=>async function(tt,J,at,vt){let ut=J.view.ru(at);ut.Cs&&(ut=await VE(tt.localStore,J.query,!1).then(({documents:j})=>J.view.ru(j,ut)));const Nt=vt&&vt.targetChanges.get(J.targetId),It=vt&&vt.targetMismatches.get(J.targetId)!=null,Kt=J.view.applyChanges(ut,tt.isPrimaryClient,Nt,It);return KE(tt,J.targetId,Kt.au),Kt.snapshot}(r,P,x,G);const h=await VE(r.localStore,t,!0),p=new S2(t,h.Qs),y=p.ru(h.documents),v=kc.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),T=p.applyChanges(y,r.isPrimaryClient,v);KE(r,n,T.au);const R=new b2(t,n,p);return r.Tu.set(t,R),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),T.snapshot}async function P2(r,t,n){const a=Ft(r),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter(p=>!Ff(p,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ap(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),n&&hg(a.remoteStore,l.targetId),Ip(a,l.targetId)}).catch(ru)):(Ip(a,l.targetId),await Ap(a.localStore,l.targetId,!0))}async function O2(r,t){const n=Ft(r),a=n.Tu.get(t),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),hg(n.remoteStore,a.targetId))}async function L2(r,t,n){const a=U2(r);try{const l=await function(p,y){const v=Ft(p),T=De.now(),R=y.reduce((G,W)=>G.add(W.key),ie());let P,x;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let W=Os(),tt=ie();return v.Ns.getEntries(G,R).next(J=>{W=J,W.forEach((at,vt)=>{vt.isValidDocument()||(tt=tt.add(at))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,W)).next(J=>{P=J;const at=[];for(const vt of y){const ut=Kx(vt,P.get(vt.key).overlayedDocument);ut!=null&&at.push(new Ko(vt.key,ut,z0(ut.value.mapValue),Rs.exists(!0)))}return v.mutationQueue.addMutationBatch(G,T,at,y)}).next(J=>{x=J;const at=J.applyToLocalDocumentSet(P,tt);return v.documentOverlayCache.saveOverlays(G,J.batchId,at)})}).then(()=>({batchId:x.batchId,changes:Y0(P)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(p,y,v){let T=p.Vu[p.currentUser.toKey()];T||(T=new He(ne)),T=T.insert(y,v),p.Vu[p.currentUser.toKey()]=T}(a,l.batchId,n),await zc(a,l.changes),await Wf(a.remoteStore)}catch(l){const h=gg(l,"Failed to persist write");n.reject(h)}}async function Lw(r,t){const n=Ft(r);try{const a=await GP(n.localStore,t);t.targetChanges.forEach((l,h)=>{const p=n.Au.get(h);p&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?p.hu=!0:l.modifiedDocuments.size>0?me(p.hu,14607):l.removedDocuments.size>0&&(me(p.hu,42227),p.hu=!1))}),await zc(n,a,t)}catch(a){await ru(a)}}function ZE(r,t,n){const a=Ft(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach((h,p)=>{const y=p.view.va(t);y.snapshot&&l.push(y.snapshot)}),function(p,y){const v=Ft(p);v.onlineState=y;let T=!1;v.queries.forEach((R,P)=>{for(const x of P.Sa)x.va(y)&&(T=!0)}),T&&_g(v)}(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function M2(r,t,n){const a=Ft(r);a.sharedClientState.updateQueryState(t,"rejected",n);const l=a.Au.get(t),h=l&&l.key;if(h){let p=new He(Mt.comparator);p=p.insert(h,jn.newNoDocument(h,qt.min()));const y=ie().add(h),v=new Yf(qt.min(),new Map,new He(ne),p,y);await Lw(a,v),a.du=a.du.remove(h),a.Au.delete(t),vg(a)}else await Ap(a.localStore,t,!1).then(()=>Ip(a,t,n)).catch(ru)}async function D2(r,t){const n=Ft(r),a=t.batch.batchId;try{const l=await FP(n.localStore,t);Dw(n,a,null),Mw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await zc(n,l)}catch(l){await ru(l)}}async function N2(r,t,n){const a=Ft(r);try{const l=await function(p,y){const v=Ft(p);return v.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let R;return v.mutationQueue.lookupMutationBatch(T,y).next(P=>(me(P!==null,37113),R=P.keys(),v.mutationQueue.removeMutationBatch(T,P))).next(()=>v.mutationQueue.performConsistencyCheck(T)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(T,R,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,R)).next(()=>v.localDocuments.getDocuments(T,R))})}(a.localStore,t);Dw(a,t,n),Mw(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await zc(a,l)}catch(l){await ru(l)}}function Mw(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function Dw(r,t,n){const a=Ft(r);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(n?h.reject(n):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Ip(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(a=>{r.Ru.containsKey(a)||Nw(r,a)})}function Nw(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(hg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),vg(r))}function KE(r,t,n){for(const a of n)a instanceof xw?(r.Ru.addReference(a.key,t),k2(r,a)):a instanceof Pw?(St(yg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||Nw(r,a.key)):Ut(19791,{wu:a})}function k2(r,t){const n=t.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(St(yg,"New document in limbo: "+n),r.Eu.add(a),vg(r))}function vg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new Mt(Me.fromString(t)),a=r.fu.next();r.Au.set(a,new A2(n)),r.du=r.du.insert(n,a),Ew(r.remoteStore,new Ma(jr(qf(n.path)),a,"TargetPurposeLimboResolution",Uf.ce))}}async function zc(r,t,n){const a=Ft(r),l=[],h=[],p=[];a.Tu.isEmpty()||(a.Tu.forEach((y,v)=>{p.push(a.pu(v,t,n).then(T=>{if((T||n)&&a.isPrimaryClient){const R=T?!T.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(T){l.push(T);const R=ug.As(v.targetId,T);h.push(R)}}))}),await Promise.all(p),a.Pu.H_(l),await async function(v,T){const R=Ft(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ht.forEach(T,x=>ht.forEach(x.Es,G=>R.persistence.referenceDelegate.addReference(P,x.targetId,G)).next(()=>ht.forEach(x.ds,G=>R.persistence.referenceDelegate.removeReference(P,x.targetId,G)))))}catch(P){if(!su(P))throw P;St(cg,"Failed to update sequence numbers: "+P)}for(const P of T){const x=P.targetId;if(!P.fromCache){const G=R.Ms.get(x),W=G.snapshotVersion,tt=G.withLastLimboFreeSnapshotVersion(W);R.Ms=R.Ms.insert(x,tt)}}}(a.localStore,h))}async function V2(r,t){const n=Ft(r);if(!n.currentUser.isEqual(t)){St(yg,"User change. New user:",t.toKey());const a=await gw(n.localStore,t);n.currentUser=t,function(h,p){h.mu.forEach(y=>{y.forEach(v=>{v.reject(new Pt(mt.CANCELLED,p))})}),h.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zc(n,a.Ls)}}function z2(r,t){const n=Ft(r),a=n.Au.get(t);if(a&&a.hu)return ie().add(a.key);{let l=ie();const h=n.Iu.get(t);if(!h)return l;for(const p of h){const y=n.Tu.get(p);l=l.unionWith(y.view.nu)}return l}}function kw(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M2.bind(null,t),t.Pu.H_=T2.bind(null,t.eventManager),t.Pu.yu=w2.bind(null,t.eventManager),t}function U2(r){const t=Ft(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,t),t}class xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return qP(this.persistence,new BP,t.initialUser,this.serializer)}Cu(t){return new pw(lg.mi,this.serializer)}Du(t){return new XP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xf.provider={build:()=>new xf};class B2 extends xf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){me(this.persistence.referenceDelegate instanceof Cf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new AP(a,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new pw(a=>Cf.mi(a,n),this.serializer)}}class xp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ZE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=V2.bind(null,this.syncEngine),await y2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new E2}()}createDatastore(t){const n=Qf(t.databaseInfo.databaseId),a=function(h){return new e2(h)}(t.databaseInfo);return function(h,p,y,v){return new s2(h,p,y,v)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,l,h,p,y){return new o2(a,l,h,p,y)}(this.localStore,this.datastore,t.asyncQueue,n=>ZE(this.syncEngine,n,0),function(){return BE.v()?new BE:new WP}())}createSyncEngine(t,n){return function(l,h,p,y,v,T,R){const P=new R2(l,h,p,y,v,T);return R&&(P.gu=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=Ft(n);St(Ho,"RemoteStore shutting down."),a.Ea.add(5),await Vc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ps("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class j2{constructor(t,n,a,l,h){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async p=>{St(Za,"Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(a,p=>(St(Za,"Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=gg(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function tp(r,t){r.asyncQueue.verifyOperationInProgress(),St(Za,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await gw(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function YE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await H2(r);St(Za,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>HE(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>HE(t.remoteStore,l)),r._onlineComponents=t}async function H2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){St(Za,"Using user provided OfflineComponentProvider");try{await tp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===mt.FAILED_PRECONDITION||l.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Zl("Error using user provided cache. Falling back to memory cache: "+n),await tp(r,new xf)}}else St(Za,"Using default OfflineComponentProvider"),await tp(r,new B2(void 0));return r._offlineComponents}async function zw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(St(Za,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(St(Za,"Using default OnlineComponentProvider"),await YE(r,new xp))),r._onlineComponents}function q2(r){return zw(r).then(t=>t.syncEngine)}async function Pp(r){const t=await zw(r),n=t.eventManager;return n.onListen=C2.bind(null,t.syncEngine),n.onUnlisten=P2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=I2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=O2.bind(null,t.syncEngine),n}function F2(r,t,n={}){const a=new za;return r.asyncQueue.enqueueAndForget(async()=>function(h,p,y,v,T){const R=new Vw({next:x=>{R.Nu(),p.enqueueAndForget(()=>Cw(h,P));const G=x.docs.has(y);!G&&x.fromCache?T.reject(new Pt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&v&&v.source==="server"?T.reject(new Pt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(x)},error:x=>T.reject(x)}),P=new Iw(qf(y.path),R,{includeMetadataChanges:!0,qa:!0});return Rw(h,P)}(await Pp(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firestore.googleapis.com",XE=!0;class WE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Pt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bw,this.ssl=XE}else this.host=t.host,this.ssl=t.ssl??XE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SP)throw new Pt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ax("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uw(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $f{constructor(t,n,a,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Pt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new XI;switch(a.type){case"firstParty":return new tx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Pt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=QE.get(n);a&&(St("ComponentProvider","Removing Datastore"),QE.delete(n),a.terminate())}(this),Promise.resolve()}}function G2(r,t,n,a={}){r=Ua(r,$f);const l=tu(t),h=r._getSettings(),p={...h,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${n}`;l&&(OT(`https://${y}`),LT("Firestore",!0)),h.host!==Bw&&h.host!==y&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:l,emulatorOptions:a};if(!Vo(v,p)&&(r._setSettings(v),a.mockUserToken)){let T,R;if(typeof a.mockUserToken=="string")T=a.mockUserToken,R=Bn.MOCK_USER;else{T=c1(a.mockUserToken,r._app?.options.projectId);const P=a.mockUserToken.sub||a.mockUserToken.user_id;if(!P)throw new Pt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Bn(P)}r._authCredentials=new WI(new R0(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Jf(this.firestore,t,this._query)}}class rn{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,a){if(Dc(n,rn._jsonSchema))return new rn(t,a||null,new Mt(Me.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:nn("string",rn._jsonSchemaVersion),referencePath:nn("string")};class Ba extends Jf{constructor(t,n,a){super(t,n,qf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new Mt(t))}withConverter(t){return new Ba(this.firestore,t,this._path)}}function jw(r,t,...n){if(r=si(r),C0("collection","path",t),r instanceof $f){const a=Me.fromString(t,...n);return hE(a),new Ba(r,null,a)}{if(!(r instanceof rn||r instanceof Ba))throw new Pt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Me.fromString(t,...n));return hE(a),new Ba(r.firestore,null,a)}}function fc(r,t,...n){if(r=si(r),arguments.length===1&&(t=Xp.newId()),C0("doc","path",t),r instanceof $f){const a=Me.fromString(t,...n);return cE(a),new rn(r,null,new Mt(a))}{if(!(r instanceof rn||r instanceof Ba))throw new Pt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Me.fromString(t,...n));return cE(a),new rn(r.firestore,r instanceof Ba?r.converter:null,new Mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="AsyncQueue";class JE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yw(this,"async_queue_retry"),this._c=()=>{const a=Jm();a&&St($E,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new za;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!su(t))throw t;St($E,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",tT(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(t,n,a){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=pg.createAndSchedule(this,t,n,a,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&Ut(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(r,["next","error","complete"])}class Sc extends $f{constructor(t,n,a,l){super(t,n,a,l),this.type="firestore",this._queue=new JE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JE(t),this._firestoreClient=void 0,await t}}}function Z2(r,t){const n=typeof r=="object"?r:kT(),a=typeof r=="string"?r:Ef,l=Bp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=l1("firestore");h&&G2(l,...h)}return l}function Eg(r){if(r._terminated)throw new Pt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K2(r),r._firestoreClient}function K2(r){const t=r._freezeSettings(),n=function(l,h,p,y){return new _x(l,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Uw(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new j2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xi(xn.fromBase64String(t))}catch(n){throw new Pt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xi(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Dc(t,Xi._jsonSchema))return Xi.fromBase64String(t.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:nn("string",Xi._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Pt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Pt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Pt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ne(this._lat,t._lat)||ne(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(t){if(Dc(t,qr._jsonSchema))return new qr(t.latitude,t.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:nn("string",qr._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Dc(t,Fr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Fr(t.vectorValues);throw new Pt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fr._jsonSchemaVersion="firestore/vectorValue/1.0",Fr._jsonSchema={type:nn("string",Fr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=/^__.*__$/;class Q2{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Ko(t,this.data,this.fieldMask,n,this.fieldTransforms):new Nc(t,this.data,n,this.fieldTransforms)}}function qw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:r})}}class wg{constructor(t,n,a,l,h,p){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.gc(t),a}yc(t){const n=this.path?.child(t),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(qw(this.Ac)&&Y2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class X2{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||Qf(t)}Cc(t,n,a,l=!1){return new wg({Ac:t,methodName:n,Dc:a,path:In.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W2(r){const t=r._freezeSettings(),n=Qf(r._databaseId);return new X2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function $2(r,t,n,a,l,h={}){const p=r.Cc(h.merge||h.mergeFields?2:0,t,n,l);Kw("Data must be an object, but it was:",p,a);const y=Gw(a,p);let v,T;if(h.merge)v=new _r(p.fieldMask),T=p.fieldTransforms;else if(h.mergeFields){const R=[];for(const P of h.mergeFields){const x=J2(t,P,n);if(!p.contains(x))throw new Pt(mt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);eO(R,x)||R.push(x)}v=new _r(R),T=p.fieldTransforms.filter(P=>v.covers(P.field))}else v=null,T=p.fieldTransforms;return new Q2(new Qi(y),v,T)}function Fw(r,t){if(Zw(r=si(r)))return Kw("Unsupported field value:",t,r),Gw(r,t);if(r instanceof Hw)return function(a,l){if(!qw(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,l){const h=[];let p=0;for(const y of a){let v=Fw(y,l.wc(p));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),p++}return{arrayValue:{values:h}}}(r,t)}return function(a,l){if((a=si(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=De.fromDate(a);return{timestampValue:Rf(l.serializer,h)}}if(a instanceof De){const h=new De(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Rf(l.serializer,h)}}if(a instanceof qr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xi)return{bytesValue:ow(l.serializer,a._byteString)};if(a instanceof rn){const h=l.databaseId,p=a.firestore._databaseId;if(!p.isEqual(h))throw l.Sc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ag(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Fr)return function(p,y){return{mapValue:{fields:{[k0]:{stringValue:V0},[Tf]:{arrayValue:{values:p.toArray().map(T=>{if(typeof T!="number")throw y.Sc("VectorValues must only contain numeric values.");return ig(y.serializer,T)})}}}}}}(a,l);throw l.Sc(`Unsupported field value: ${Wp(a)}`)}(r,t)}function Gw(r,t){const n={};return P0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(r,(a,l)=>{const h=Fw(l,t.mc(a));h!=null&&(n[a]=h)}),{mapValue:{fields:n}}}function Zw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof qr||r instanceof Xi||r instanceof rn||r instanceof Hw||r instanceof Fr)}function Kw(r,t,n){if(!Zw(n)||!I0(n)){const a=Wp(n);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function J2(r,t,n){if((t=si(t))instanceof Tg)return t._internalPath;if(typeof t=="string")return Yw(r,t);throw Pf("Field path arguments must be of type string or ",r,!1,void 0,n)}const tO=new RegExp("[~\\*/\\[\\]]");function Yw(r,t,n){if(t.search(tO)>=0)throw Pf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tg(...t.split("."))._internalPath}catch{throw Pf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Pf(r,t,n,a,l){const h=a&&!a.isEmpty(),p=l!==void 0;let y=`Function ${t}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||p)&&(v+=" (found",h&&(v+=` in field ${a}`),p&&(v+=` in document ${l}`),v+=")"),new Pt(mt.INVALID_ARGUMENT,y+r+v)}function eO(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n,a,l,h){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Xw("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nO extends Qw{data(){return super.data()}}function Xw(r,t){return typeof t=="string"?Yw(r,t):t instanceof Tg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rO{convertValue(t,n="none"){switch(Fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Go(t,(l,h)=>{a[l]=this.convertValue(h,n)}),a}convertVectorValue(t){const n=t.fields?.[Tf].arrayValue?.values?.map(a=>Xe(a.doubleValue));return new Fr(n)}convertGeoPoint(t){return new qr(Xe(t.latitude),Xe(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=jf(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(yc(t));default:return null}}convertTimestamp(t){const n=Ha(t);return new De(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=Me.fromString(t);me(dw(a),9688,{name:t});const l=new vc(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(n)||Ps(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}class rc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class No extends Qw{constructor(t,n,a,l,h,p){super(t,n,a,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(Xw("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:nn("string",No._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class of extends No{data(t={}){return super.data(t)}}class Fl{constructor(t,n,a,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new of(this._firestore,this._userDataWriter,a.key,a,new rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(y=>{const v=new of(l._firestore,l._userDataWriter,y.doc.key,y.doc,new rc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new of(l._firestore,l._userDataWriter,y.doc.key,y.doc,new rc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,R=-1;return y.type!==0&&(T=p.indexOf(y.doc.key),p=p.delete(y.doc.key)),y.type!==1&&(p=p.add(y.doc),R=p.indexOf(y.doc.key)),{type:aO(y.type),doc:v,oldIndex:T,newIndex:R}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(n.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r){r=Ua(r,rn);const t=Ua(r.firestore,Sc);return F2(Eg(t),r._key).then(n=>Jw(t,r,n))}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:nn("string",Fl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class Ww extends rO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function lf(r,t,n){r=Ua(r,rn);const a=Ua(r.firestore,Sc),l=sO(r.converter,t,n);return lO(a,[$2(W2(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Rs.none())])}function $w(r,...t){r=si(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||eT(t[a])||(n=t[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eT(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let h,p,y;if(r instanceof rn)p=Ua(r.firestore,Sc),y=qf(r._key.path),h={next:v=>{t[a]&&t[a](Jw(p,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Ua(r,Jf);p=Ua(v.firestore,Sc),y=v._query;const T=new Ww(p);h={next:R=>{t[a]&&t[a](new Fl(p,T,v,R))},error:t[a+1],complete:t[a+2]},iO(r._query)}return function(T,R,P,x){const G=new Vw(x),W=new Iw(R,G,P);return T.asyncQueue.enqueueAndForget(async()=>Rw(await Pp(T),W)),()=>{G.Nu(),T.asyncQueue.enqueueAndForget(async()=>Cw(await Pp(T),W))}}(Eg(p),y,l,h)}function lO(r,t){return function(a,l){const h=new za;return a.asyncQueue.enqueueAndForget(async()=>L2(await q2(a),l,h)),h.promise}(Eg(r),t)}function Jw(r,t,n){const a=n.docs.get(t._key),l=new Ww(r);return new No(r,l,t._key,a,new rc(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){iu=l})(eu),Gl(new zo("firestore",(a,{instanceIdentifier:l,options:h})=>{const p=a.getProvider("app").getImmediate(),y=new Sc(new $I(a.getProvider("auth-internal")),new ex(p,a.getProvider("app-check-internal")),function(T,R){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Pt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(T.options.projectId,R)}(p,l),p);return h={useFetchStreams:n,...h},y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),ka(aE,oE,t),ka(aE,oE,"esm2020")})();var uO="firebase",cO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(uO,cO,"app");const hO={apiKey:"AIzaSyBekM9OgK8E0h06bTHT9FboLAYwbmfvbFE",authDomain:"location-finder-aabb4.firebaseapp.com",projectId:"location-finder-aabb4",storageBucket:"location-finder-aabb4.appspot.com",messagingSenderId:"329337618595",appId:"1:329337618595:web:3fec4092053ccad9c77f16",measurementId:"G-QWHXHPT5NR"},fO=NT(hO),ko=Z2(fO);function dO(){const[r,t]=Z.useState(!1),[n,a]=Z.useState(""),[l,h]=Z.useState(""),[p,y]=Z.useState(""),[v,T]=Z.useState(""),[R,P]=Z.useState(!1),x=yf(),G=Mf(),W=async J=>{J.preventDefault();try{const vt=(await DC(x,n,l)).user;await lf(fc(ko,"users",vt.uid),{name:p,phone:v,email:n,isVendor:R,createdAt:new Date}),alert("Signup successful!"),G("/home")}catch(at){alert(at.message)}},tt=async J=>{J.preventDefault();try{await NC(x,n,l),alert("Login successful!"),G("/home")}catch(at){alert(at.message)}};return q.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f2f5",padding:"10px"},children:q.jsxs("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",maxWidth:"400px",width:"100%"},children:[q.jsx("h2",{style:{textAlign:"center",marginBottom:"20px"},children:r?"Sign Up":"Login"}),q.jsxs("form",{onSubmit:r?W:tt,children:[r&&q.jsxs(q.Fragment,{children:[q.jsxs("div",{style:{marginBottom:"15px"},children:[q.jsx("label",{children:"Name"}),q.jsx("input",{type:"text",value:p,onChange:J=>y(J.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),q.jsxs("div",{style:{marginBottom:"15px"},children:[q.jsx("label",{children:"Phone Number"}),q.jsx("input",{type:"tel",value:v,onChange:J=>{const at=J.target.value;/^\d{0,10}$/.test(at)&&T(at)},required:!0,maxLength:10,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]})]}),q.jsxs("div",{style:{marginBottom:"15px"},children:[q.jsx("label",{children:"Email"}),q.jsx("input",{type:"email",value:n,onChange:J=>a(J.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),q.jsxs("div",{style:{marginBottom:"15px"},children:[q.jsx("label",{children:"Password"}),q.jsx("input",{type:"password",value:l,onChange:J=>h(J.target.value),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),r&&q.jsxs("div",{style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"8px"},children:[q.jsx("label",{style:{margin:0},children:"Vendor Sign Up"}),q.jsx("input",{type:"checkbox",checked:R,onChange:J=>P(J.target.checked)})]}),q.jsx("button",{type:"submit",style:{width:"100%",padding:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:r?"Sign Up":"Login"})]}),q.jsxs("p",{style:{textAlign:"center",marginTop:"15px"},children:[r?"Already have an account?":"Don't have an account?"," ",q.jsx("span",{className:"toggle",onClick:()=>t(!r),style:{cursor:"pointer",color:"blue"},children:r?"Login":"Sign Up"})]})]})})}function tS(r,t){const n=Z.useRef(t);Z.useEffect(function(){t!==n.current&&r.attributionControl!=null&&(n.current!=null&&r.attributionControl.removeAttribution(n.current),t!=null&&r.attributionControl.addAttribution(t)),n.current=t},[r,t])}function mO(r,t,n){t.center!==n.center&&r.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&r.setRadius(t.radius)}const pO=1;function gO(r){return Object.freeze({__version:pO,map:r})}function eS(r,t){return Object.freeze({...r,...t})}const Sg=Z.createContext(null);function td(){const r=Z.use(Sg);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function nS(r){function t(n,a){const{instance:l,context:h}=r(n).current;Z.useImperativeHandle(a,()=>l);const{children:p}=n;return p==null?null:np.createElement(Sg,{value:h},p)}return Z.forwardRef(t)}function _O(r){function t(n,a){const[l,h]=Z.useState(!1),{instance:p}=r(n,h).current;Z.useImperativeHandle(a,()=>p),Z.useEffect(function(){l&&p.update()},[p,l,n.children]);const y=p._contentNode;return y?JA.createPortal(n.children,y):null}return Z.forwardRef(t)}function yO(r){function t(n,a){const{instance:l}=r(n).current;return Z.useImperativeHandle(a,()=>l),null}return Z.forwardRef(t)}function bg(r,t){const n=Z.useRef(void 0);Z.useEffect(function(){return t!=null&&r.instance.on(t),n.current=t,function(){n.current!=null&&r.instance.off(n.current),n.current=null}},[r,t])}function ed(r,t){const n=r.pane??t.pane;return n?{...r,pane:n}:r}function vO(r,t){return function(a,l){const h=td(),p=r(ed(a,h),h);return tS(h.map,a.attribution),bg(p.current,a.eventHandlers),t(p.current,h,a,l),p}}var sc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var EO=sc.exports,nT;function TO(){return nT||(nT=1,function(r,t){(function(n,a){a(t)})(EO,function(n){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function p(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function T(s,u,d){var _,w,A,N;return N=function(){_=!1,w&&(A.apply(d,w),w=!1)},A=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(N,u),_=!0)},A}function R(s,u,d){var _=u[1],w=u[0],A=_-w;return s===_&&d?s:((s-w)%A+A)%A+w}function P(){return!1}function x(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function G(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function W(s){return G(s).split(/\s+/)}function tt(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function J(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var at=/\{ *([\w_ -]+) *\}/g;function vt(s,u){return s.replace(at,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var ut=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Nt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var It="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Kt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var j=0;function O(s){var u=+new Date,d=Math.max(0,16-(u-j));return j=u+d,window.setTimeout(s,d)}var D=window.requestAnimationFrame||Kt("RequestAnimationFrame")||O,B=window.cancelAnimationFrame||Kt("CancelAnimationFrame")||Kt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function z(s,u,d){if(d&&D===O)s.call(u);else return D.call(window,p(s,u))}function H(s){s&&B.call(window,s)}var V={__proto__:null,extend:l,create:h,bind:p,get lastId(){return y},stamp:v,throttle:T,wrapNum:R,falseFn:P,formatNum:x,trim:G,splitWords:W,setOptions:tt,getParamString:J,template:vt,isArray:ut,indexOf:Nt,emptyImageUrl:It,requestFn:D,cancelFn:B,requestAnimFrame:z,cancelAnimFrame:H};function Se(){}Se.extend=function(s){var u=function(){tt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Ne(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,N=_._initHooks.length;A<N;A++)_._initHooks[A].call(this)}},u},Se.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},Se.mergeOptions=function(s){return l(this.prototype.options,s),this},Se.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ne(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=ut(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var rt={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=W(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=W(s);for(var w=arguments.length===1,A=0,N=s.length;A<N;A++)w?this._off(s[A]):this._off(s[A],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,A;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,A=_.length;w<A;w++)_[w].fn=P;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,d);if(N!==!1){var Y=_[N];this._firingCount&&(Y.fn=P,this._events[s]=_=_.slice()),_.splice(N,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var A=0,N=w.length;A<N;A++){var Y=w[A],nt=Y.fn;Y.once&&this.off(s,nt,Y.ctx),nt.call(Y.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,A=_.length;w<A;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=W(s);for(var w=0,A=s.length;w<A;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};rt.addEventListener=rt.on,rt.removeEventListener=rt.clearAllEventListeners=rt.off,rt.addOneTimeEventListener=rt.once,rt.fireEvent=rt.fire,rt.hasEventListeners=rt.listens;var yt=Se.extend(rt);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var se=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(M(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(M(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(s){s=M(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=M(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=M(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function M(s,u,d){return s instanceof pt?s:ut(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function st(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}st.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=M(s);else if(s=gt(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=M(s):s=gt(s),s instanceof st?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=gt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>=u.x&&_.x<=d.x,N=w.y>=u.y&&_.y<=d.y;return A&&N},overlaps:function(s){s=gt(s);var u=this.min,d=this.max,_=s.min,w=s.max,A=w.x>u.x&&_.x<d.x,N=w.y>u.y&&_.y<d.y;return A&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return gt(M(u.x-_,u.y-w),M(d.x+_,d.y+w))},equals:function(s){return s?(s=gt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function gt(s,u){return!s||s instanceof st?s:new st(s,u)}function dt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}dt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof bt)_=s,w=s;else if(s instanceof dt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(Et(s)||Tt(s)):this;return!u&&!d?(this._southWest=new bt(_.lat,_.lng),this._northEast=new bt(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new dt(new bt(u.lat-_,u.lng-w),new bt(d.lat+_,d.lng+w))},getCenter:function(){return new bt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bt(this.getNorth(),this.getWest())},getSouthEast:function(){return new bt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof bt||"lat"in s?s=Et(s):s=Tt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof dt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=Tt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>=u.lat&&_.lat<=d.lat,N=w.lng>=u.lng&&_.lng<=d.lng;return A&&N},overlaps:function(s){s=Tt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),A=w.lat>u.lat&&_.lat<d.lat,N=w.lng>u.lng&&_.lng<d.lng;return A&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=Tt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Tt(s,u){return s instanceof dt?s:new dt(s,u)}function bt(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}bt.prototype={equals:function(s,u){if(!s)return!1;s=Et(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+x(this.lat,s)+", "+x(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,Et(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return Tt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new bt(this.lat,this.lng,this.alt)}};function Et(s,u,d){return s instanceof bt?s:ut(s)&&typeof s[0]!="object"?s.length===3?new bt(s[0],s[1],s[2]):s.length===2?new bt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new bt(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new bt(s,u,d)}var ye={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new st(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?R(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?R(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new bt(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var A=s.getSouthWest(),N=s.getNorthEast(),Y=new bt(A.lat-_,A.lng-w),nt=new bt(N.lat-_,N.lng-w);return new dt(Y,nt)}},re=l({},ye,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,A=Math.sin((u.lat-s.lat)*d/2),N=Math.sin((u.lng-s.lng)*d/2),Y=A*A+Math.cos(_)*Math.cos(w)*N*N,nt=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*nt}}),ai=6378137,Ii={R:ai,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new bt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=ai*Math.PI;return new st([-s,-s],[s,s])}()};function oi(s,u,d,_){if(ut(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}oi.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function li(s,u,d,_){return new oi(s,u,d,_)}var Wi=l({},re,{code:"EPSG:3857",projection:Ii,transformation:function(){var s=.5/(Math.PI*Ii.R);return li(s,.5,-s,.5)}()}),Qr=l({},Wi,{code:"EPSG:900913"});function Ds(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Qa(s,u){var d="",_,w,A,N,Y,nt;for(_=0,A=s.length;_<A;_++){for(Y=s[_],w=0,N=Y.length;w<N;w++)nt=Y[w],d+=(w?"L":"M")+nt.x+" "+nt.y;d+=u?xt.svg?"z":"x":""}return d||"M0 0"}var Pn=document.documentElement.style,Ns="ActiveXObject"in window,Xa=Ns&&!document.addEventListener,Xr="msLaunchUri"in navigator&&!("documentMode"in document),$i=Ln("webkit"),Qo=Ln("android"),Wr=Ln("android 2")||Ln("android 3"),Wa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xo=Qo&&Ln("Google")&&Wa<537&&!("AudioNode"in window),Re=!!window.opera,ue=!Xr&&Ln("chrome"),On=Ln("gecko")&&!$i&&!Re&&!Ns,hn=!ue&&Ln("safari"),$a=Ln("phantom"),Wo="OTransition"in Pn,$r=navigator.platform.indexOf("Win")===0,vr=Ns&&"transition"in Pn,Ji="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wr,Xn="MozPerspective"in Pn,ks=!window.L_DISABLE_3D&&(vr||Ji||Xn)&&!Wo&&!$a,ui=typeof orientation<"u"||Ln("mobile"),Ja=ui&&$i,to=ui&&Ji,Vs=!window.PointerEvent&&window.MSPointerEvent,xi=!!(window.PointerEvent||Vs),Pi="ontouchstart"in window||!!window.TouchEvent,eo=!window.L_NO_TOUCH&&(Pi||xi),Oi=ui&&Re,no=ui&&On,Er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zs=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",P,u),window.removeEventListener("testPassiveEventSupport",P,u)}catch{}return s}(),Tr=function(){return!!document.createElement("canvas").getContext}(),Us=!!(document.createElementNS&&Ds("svg").createSVGRect),Ce=!!Us&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ze=!Us&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),qe=navigator.platform.indexOf("Mac")===0,Wn=navigator.platform.indexOf("Linux")===0;function Ln(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var xt={ie:Ns,ielt9:Xa,edge:Xr,webkit:$i,android:Qo,android23:Wr,androidStock:Xo,opera:Re,chrome:ue,gecko:On,safari:hn,phantom:$a,opera12:Wo,win:$r,ie3d:vr,webkit3d:Ji,gecko3d:Xn,any3d:ks,mobile:ui,mobileWebkit:Ja,mobileWebkit3d:to,msPointer:Vs,pointer:xi,touch:eo,touchNative:Pi,mobileOpera:Oi,mobileGecko:no,retina:Er,passiveEvents:zs,canvas:Tr,svg:Us,vml:Ze,inlineSvg:Ce,mac:qe,linux:Wn},tr=xt.msPointer?"MSPointerDown":"pointerdown",io=xt.msPointer?"MSPointerMove":"pointermove",wr=xt.msPointer?"MSPointerUp":"pointerup",er=xt.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:tr,touchmove:io,touchend:wr,touchcancel:er},hi={touchstart:ts,touchmove:Jr,touchend:Jr,touchcancel:Jr},Tn={},fn=!1;function ze(s,u,d){return u==="touchstart"&&$o(),hi[u]?(d=hi[u].bind(this,d),s.addEventListener(ci[u],d,!1),d):(console.warn("wrong event specified:",u),P)}function ro(s,u,d){if(!ci[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(ci[u],d,!1)}function Bs(s){Tn[s.pointerId]=s}function fi(s){Tn[s.pointerId]&&(Tn[s.pointerId]=s)}function Li(s){delete Tn[s.pointerId]}function $o(){fn||(document.addEventListener(tr,Bs,!0),document.addEventListener(io,fi,!0),document.addEventListener(wr,Li,!0),document.addEventListener(er,Li,!0),fn=!0)}function Jr(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in Tn)u.touches.push(Tn[d]);u.changedTouches=[u],s(u)}}function ts(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ve(u),Jr(s,u)}function Jo(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Sr=200;function Mi(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(A){if(A.detail!==1){_=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var N=qs(A);if(!(N.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!N.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var Y=Date.now();Y-d<=Sr?(_++,_===2&&u(Jo(A))):_=1,d=Y}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function sn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var nr=di(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=di(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Di=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function es(s){return typeof s=="string"?document.getElementById(s):s}function Ni(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Qt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function fe(s){var u=s.parentNode;u&&u.removeChild(s)}function We(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ki(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Ar(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Rr(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Le(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Ht(s,u){if(s.classList!==void 0)for(var d=W(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!Rr(s,u)){var A=Le(s);so(s,(A?A+" ":"")+u)}}function pe(s,u){s.classList!==void 0?s.classList.remove(u):so(s,G((" "+Le(s)+" ").replace(" "+u+" "," ")))}function so(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Le(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Ie(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&ns(s,u)}function ns(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function di(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function wn(s,u,d){var _=u||new pt(0,0);s.style[nr]=(xt.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Vt(s,u){s._leaflet_pos=u,xt.any3d?wn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function qn(s){return s._leaflet_pos||new pt(0,0)}var dn,mi,js;if("onselectstart"in document)dn=function(){Lt(window,"selectstart",ve)},mi=function(){ae(window,"selectstart",ve)};else{var ir=di(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(ir){var s=document.documentElement.style;js=s[ir],s[ir]="none"}},mi=function(){ir&&(document.documentElement.style[ir]=js,js=void 0)}}function is(){Lt(window,"dragstart",ve)}function ao(){ae(window,"dragstart",ve)}var Hs,Cr;function pi(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Sn(),Hs=s,Cr=s.style.outlineStyle,s.style.outlineStyle="none",Lt(window,"keydown",Sn))}function Sn(){Hs&&(Hs.style.outlineStyle=Cr,Hs=void 0,Cr=void 0,ae(window,"keydown",Sn))}function Vi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function gi(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var oo={__proto__:null,TRANSFORM:nr,TRANSITION:br,TRANSITION_END:Di,get:es,getStyle:Ni,create:Qt,remove:fe,empty:We,toFront:ki,toBack:Ar,hasClass:Rr,addClass:Ht,removeClass:pe,setClass:so,getClass:Le,setOpacity:Ie,testProp:di,setTransform:wn,setPosition:Vt,getPosition:qn,get disableTextSelection(){return dn},get enableTextSelection(){return mi},disableImageDrag:is,enableImageDrag:ao,preventOutline:pi,restoreOutline:Sn,getSizedParentNode:Vi,getScale:gi};function Lt(s,u,d,_){if(u&&typeof u=="object")for(var w in u)rr(s,w,u[w],d);else{u=W(u);for(var A=0,N=u.length;A<N;A++)rr(s,u[A],d,_)}return this}var Fn="_leaflet_events";function ae(s,u,d,_){if(arguments.length===1)$n(s),delete s[Fn];else if(u&&typeof u=="object")for(var w in u)Jn(s,w,u[w],d);else if(u=W(u),arguments.length===2)$n(s,function(Y){return Nt(u,Y)!==-1});else for(var A=0,N=u.length;A<N;A++)Jn(s,u[A],d,_);return this}function $n(s,u){for(var d in s[Fn]){var _=d.split(/\d/)[0];(!u||u(_))&&Jn(s,_,null,null,d)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function rr(s,u,d,_){var w=u+v(d)+(_?"_"+v(_):"");if(s[Fn]&&s[Fn][w])return this;var A=function(Y){return d.call(_||s,Y||window.event)},N=A;!xt.touchNative&&xt.pointer&&u.indexOf("touch")===0?A=ze(s,u,A):xt.touch&&u==="dblclick"?A=Mi(s,A):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Mn[u]||u,A,xt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(A=function(Y){Y=Y||window.event,ar(s,Y)&&N(Y)},s.addEventListener(Mn[u],A,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,A),s[Fn]=s[Fn]||{},s[Fn][w]=A}function Jn(s,u,d,_,w){w=w||u+v(d)+(_?"_"+v(_):"");var A=s[Fn]&&s[Fn][w];if(!A)return this;!xt.touchNative&&xt.pointer&&u.indexOf("touch")===0?ro(s,u,A):xt.touch&&u==="dblclick"?sn(s,A):"removeEventListener"in s?s.removeEventListener(Mn[u]||u,A,!1):s.detachEvent("on"+u,A),s[Fn][w]=null}function Dn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function _i(s){return rr(s,"wheel",Dn),this}function sr(s){return Lt(s,"mousedown touchstart dblclick contextmenu",Dn),s._leaflet_disable_click=!0,this}function ve(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function mn(s){return ve(s),Dn(s),this}function qs(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Ke(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=gi(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var ce=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rs(s){return xt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ce:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ar(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var tl={__proto__:null,on:Lt,off:ae,stopPropagation:Dn,disableScrollPropagation:_i,disableClickPropagation:sr,preventDefault:ve,stop:mn,getPropagationPath:qs,getMousePosition:Ke,getWheelDelta:rs,isExternalTarget:ar,addListener:Lt,removeListener:ae},ss=yt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=qn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Vt(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Gt=yt.extend({options:{crs:Wi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=tt(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Di,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Et(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),A=s instanceof pt?s:this.latLngToContainerPoint(s),N=A.subtract(w).multiplyBy(1-1/_),Y=this.containerPointToLatLng(w.add(N));return this.setView(Y,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():Tt(s);var d=M(u.paddingTopLeft||u.padding||[0,0]),_=M(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var A=_.subtract(d).divideBy(2),N=this.project(s.getSouthWest(),w),Y=this.project(s.getNorthEast(),w),nt=this.unproject(N.add(Y).divideBy(2).add(A),w);return{center:nt,zoom:w}},fitBounds:function(s,u){if(s=Tt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=M(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ss,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Ht(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!xt.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),A=this.getSize(),N=this._zoom;s=Et(s),u=u===void 0?N:u;var Y=Math.max(A.x,A.y),nt=Y*this.getZoomScale(N,u),ft=w.distanceTo(_)||1,wt=1.42,At=wt*wt;function Ct(ke){var Fi=ke?-1:1,fr=ke?nt:Y,Mr=nt*nt-Y*Y+Fi*At*At*ft*ft,dr=2*fr*At*ft,So=Mr/dr,dl=Math.sqrt(So*So+1)-So,bo=dl<1e-9?-18:Math.log(dl);return bo}function jt(ke){return(Math.exp(ke)-Math.exp(-ke))/2}function Pe(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Ue(ke){return jt(ke)/Pe(ke)}var gn=Ct(0);function ti(ke){return Y*(Pe(gn)/Pe(gn+wt*ke))}function Gc(ke){return Y*(Pe(gn)*Ue(gn+wt*ke)-jt(gn))/At}function Zc(ke){return 1-Math.pow(1-ke,1.5)}var wo=Date.now(),aa=(Ct(1)-gn)/wt,Kc=d.duration?1e3*d.duration:1e3*aa*.8;function oa(){var ke=(Date.now()-wo)/Kc,Fi=Zc(ke)*aa;ke<=1?(this._flyToFrame=z(oa,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(Gc(Fi)/ft)),N),this.getScaleZoom(Y/ti(Fi),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),oa.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=Tt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,Tt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=M(u.paddingTopLeft||u.padding||[0,0]),_=M(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),A=this.project(s),N=this.getPixelBounds(),Y=gt([N.min.add(d),N.max.subtract(_)]),nt=Y.getSize();if(!Y.contains(A)){this._enforcingBounds=!0;var ft=A.subtract(Y.getCenter()),wt=Y.extend(A).getSize().subtract(nt);w.x+=ft.x<0?-wt.x:wt.x,w.y+=ft.y<0?-wt.y:wt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),A=_.subtract(w);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new bt(u,d),w=_.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var N=this.getBoundsZoom(w);this.setView(_,A.maxZoom?Math.min(N,A.maxZoom):N)}var Y={latlng:_,bounds:w,timestamp:s.timestamp};for(var nt in s.coords)typeof s.coords[nt]=="number"&&(Y[nt]=s.coords[nt]);this.fire("locationfound",Y)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Qt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new dt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=Tt(s),d=M(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),A=this.getMaxZoom(),N=s.getNorthWest(),Y=s.getSouthEast(),nt=this.getSize().subtract(d),ft=gt(this.project(Y,_),this.project(N,_)).getSize(),wt=xt.any3d?this.options.zoomSnap:1,At=nt.x/ft.x,Ct=nt.y/ft.y,jt=u?Math.max(At,Ct):Math.min(At,Ct);return _=this.getScaleZoom(jt,_),wt&&(_=Math.round(_/(wt/100))*(wt/100),_=u?Math.ceil(_/wt)*wt:Math.floor(_/wt)*wt),Math.max(w,Math.min(A,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new st(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(M(s),u)},layerPointToLatLng:function(s){var u=M(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Et(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Et(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Tt(s))},distance:function(s,u){return this.options.crs.distance(Et(s),Et(u))},containerPointToLayerPoint:function(s){return M(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return M(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(M(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(s)))},mouseEventToContainerPoint:function(s){return Ke(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=es(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,Ht(s,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ni(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ht(s.markerPane,"leaflet-zoom-hide"),Ht(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Vt(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Vt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?ae:Lt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",A=s.target||s.srcElement,N=!1;A;){if(_=this._targets[v(A)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){N=!0;break}if(_&&_.listens(u,!0)&&(w&&!ar(A,s)||(d.push(_),w))||A===this._container)break;A=A.parentNode}return!d.length&&!N&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&pi(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var A=[],N=0;N<d.length;N++)d[N].listens(u,!0)&&A.push(d[N]);w=A.concat(w)}if(w.length){u==="contextmenu"&&ve(s);var Y=w[0],nt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ft=Y.getLatLng&&(!Y._radius||Y._radius<=10);nt.containerPoint=ft?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(s),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=ft?Y.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,nt,!0),nt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&Nt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return qn(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return gt([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),A=new st(_.subtract(w),_.add(w)),N=this._getBoundsOffset(A,d,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(_.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new st(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=gt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),A=_.max.subtract(s.max),N=this._rebound(w.x,-A.x),Y=this._rebound(w.y,-A.y);return new pt(N,Y)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=xt.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=nr,_=this._proxy.style[d];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(z(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zi(s,u){return new Gt(s,u)}var an=Se.extend({options:{position:"topright"},initialize:function(s){tt(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return Ht(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),pn=function(s){return new an(s)};Gt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,A){var N=u+w+" "+u+A;s[w+A]=Qt("div",N,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fe(this._controlCorners[s]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lo=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){tt(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Qt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),sr(u),_i(u);var _=this._section=Qt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Lt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Lt(w,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){ve(A),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",s+"-base",_),this._separator=Qt("div",s+"-separator",_),this._overlaysList=Qt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Lt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var A=document.createElement("span");u.appendChild(A),A.appendChild(_),A.appendChild(w);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)u=s[A],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(A=0;A<w.length;A++)this._map.hasLayer(w[A])&&this._map.removeLayer(w[A]);for(A=0;A<_.length;A++)this._map.hasLayer(_[A])||this._map.addLayer(_[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Lt(s,"click",ve),this.expand();var u=this;setTimeout(function(){ae(s,"click",ve),u._preventClick=!1})}}),lu=function(s,u,d){return new lo(s,u,d)},or=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var A=Qt("a",d,_);return A.innerHTML=s,A.href="#",A.title=u,A.setAttribute("role","button"),A.setAttribute("aria-label",u),sr(A),Lt(A,"click",mn),Lt(A,"click",w,this),Lt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";pe(this._zoomInButton,u),pe(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ht(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ht(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new or,this.addControl(this.zoomControl))});var Fs=function(s){return new or(s)},Gs=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Qt("div",u,d)),s.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Zs=function(s){return new Gs(s)},el='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ir=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?el+" ":"")+"Leaflet</a>"},initialize:function(s){tt(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),sr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Ir().addTo(this)});var uu=function(s){return new Ir(s)};an.Layers=lo,an.Zoom=or,an.Scale=Gs,an.Attribution=Ir,pn.layers=lu,pn.zoom=Fs,pn.scale=Zs,pn.attribution=uu;var Nn=Se.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,u){return s.addHandler(u,this),this};var as={Events:rt},uo=xt.touch?"touchstart mousedown":"mousedown",yi=yt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){tt(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Lt(this._dragStartTarget,uo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yi._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,uo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Rr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){yi._dragging===this&&this.finishDrag();return}if(!(yi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(yi._dragging=this,this._preventOutline&&pi(this._element),is(),dn(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=Vi(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=qn(this._element),this._parentScale=gi(d);var _=s.type==="mousedown";Lt(document,_?"mousemove":"touchmove",this._onMove,this),Lt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ve(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ht(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Vt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){pe(document.body,"leaflet-dragging"),this._lastTarget&&(pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),ao(),mi();var u=this._moved&&this._moving;this._moving=!1,yi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Ks(s,u,d){var _,w=[1,4,2,8],A,N,Y,nt,ft,wt,At,Ct;for(A=0,wt=s.length;A<wt;A++)s[A]._code=Ui(s[A],u);for(Y=0;Y<4;Y++){for(At=w[Y],_=[],A=0,wt=s.length,N=wt-1;A<wt;N=A++)nt=s[A],ft=s[N],nt._code&At?ft._code&At||(Ct=$e(ft,nt,At,u,d),Ct._code=Ui(Ct,u),_.push(Ct)):(ft._code&At&&(Ct=$e(ft,nt,At,u,d),Ct._code=Ui(Ct,u),_.push(Ct)),_.push(nt));s=_}return s}function xr(s,u){var d,_,w,A,N,Y,nt,ft,wt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var At=Et([0,0]),Ct=Tt(s),jt=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());jt<1700&&(At=Ys(s));var Pe=s.length,Ue=[];for(d=0;d<Pe;d++){var gn=Et(s[d]);Ue.push(u.project(Et([gn.lat-At.lat,gn.lng-At.lng])))}for(Y=nt=ft=0,d=0,_=Pe-1;d<Pe;_=d++)w=Ue[d],A=Ue[_],N=w.y*A.x-A.y*w.x,nt+=(w.x+A.x)*N,ft+=(w.y+A.y)*N,Y+=N*3;Y===0?wt=Ue[0]:wt=[nt/Y,ft/Y];var ti=u.unproject(M(wt));return Et([ti.lat+At.lat,ti.lng+At.lng])}function Ys(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var A=Et(s[w]);u+=A.lat,d+=A.lng,_++}return Et([u/_,d/_])}var Qs={__proto__:null,clipPolygon:Ks,polygonCenter:xr,centroid:Ys};function co(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=il(s,d),s=nl(s,d),s}function Xs(s,u,d){return Math.sqrt(kn(s,u,d,!0))}function lr(s,u,d){return kn(s,u,d)}function nl(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,Ws(s,w,u,0,d-1);var A,N=[];for(A=0;A<d;A++)w[A]&&N.push(s[A]);return N}function Ws(s,u,d,_,w){var A=0,N,Y,nt;for(Y=_+1;Y<=w-1;Y++)nt=kn(s[Y],s[_],s[w],!0),nt>A&&(N=Y,A=nt);A>d&&(u[N]=1,Ws(s,u,d,_,N),Ws(s,u,d,N,w))}function il(s,u){for(var d=[s[0]],_=1,w=0,A=s.length;_<A;_++)rl(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<A-1&&d.push(s[A-1]),d}var ho;function os(s,u,d,_,w){var A=_?ho:Ui(s,d),N=Ui(u,d),Y,nt,ft;for(ho=N;;){if(!(A|N))return[s,u];if(A&N)return!1;Y=A||N,nt=$e(s,u,Y,d,w),ft=Ui(nt,d),Y===A?(s=nt,A=ft):(u=nt,N=ft)}}function $e(s,u,d,_,w){var A=u.x-s.x,N=u.y-s.y,Y=_.min,nt=_.max,ft,wt;return d&8?(ft=s.x+A*(nt.y-s.y)/N,wt=nt.y):d&4?(ft=s.x+A*(Y.y-s.y)/N,wt=Y.y):d&2?(ft=nt.x,wt=s.y+N*(nt.x-s.x)/A):d&1&&(ft=Y.x,wt=s.y+N*(Y.x-s.x)/A),new pt(ft,wt,w)}function Ui(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function rl(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function kn(s,u,d,_){var w=u.x,A=u.y,N=d.x-w,Y=d.y-A,nt=N*N+Y*Y,ft;return nt>0&&(ft=((s.x-w)*N+(s.y-A)*Y)/nt,ft>1?(w=d.x,A=d.y):ft>0&&(w+=N*ft,A+=Y*ft)),N=s.x-w,Y=s.y-A,_?N*N+Y*Y:new pt(w,A)}function f(s){return!ut(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function S(s,u){var d,_,w,A,N,Y,nt,ft;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var wt=Et([0,0]),At=Tt(s),Ct=At.getNorthWest().distanceTo(At.getSouthWest())*At.getNorthEast().distanceTo(At.getNorthWest());Ct<1700&&(wt=Ys(s));var jt=s.length,Pe=[];for(d=0;d<jt;d++){var Ue=Et(s[d]);Pe.push(u.project(Et([Ue.lat-wt.lat,Ue.lng-wt.lng])))}for(d=0,_=0;d<jt-1;d++)_+=Pe[d].distanceTo(Pe[d+1])/2;if(_===0)ft=Pe[0];else for(d=0,A=0;d<jt-1;d++)if(N=Pe[d],Y=Pe[d+1],w=N.distanceTo(Y),A+=w,A>_){nt=(A-_)/w,ft=[Y.x-nt*(Y.x-N.x),Y.y-nt*(Y.y-N.y)];break}var gn=u.unproject(M(ft));return Et([gn.lat+wt.lat,gn.lng+wt.lng])}var I={__proto__:null,simplify:co,pointToSegmentDistance:Xs,closestPointOnSegment:lr,clipSegment:os,_getEdgeIntersection:$e,_getBitCode:Ui,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:S},K={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new bt(s.y,s.x)},bounds:new st([-180,-90],[180,90])},it={R:6378137,R_MINOR:6356752314245179e-9,bounds:new st([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,A=Math.sqrt(1-w*w),N=A*Math.sin(_),Y=Math.tan(Math.PI/4-_/2)/Math.pow((1-N)/(1+N),A/2);return _=-d*Math.log(Math.max(Y,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),A=Math.exp(-s.y/d),N=Math.PI/2-2*Math.atan(A),Y=0,nt=.1,ft;Y<15&&Math.abs(nt)>1e-7;Y++)ft=w*Math.sin(N),ft=Math.pow((1-ft)/(1+ft),w/2),nt=Math.PI/2-2*Math.atan(A*ft)-N,N+=nt;return new bt(N*u,s.x*u/d)}},_t={__proto__:null,LonLat:K,Mercator:it,SphericalMercator:Ii},Jt=l({},re,{code:"EPSG:3395",projection:it,transformation:function(){var s=.5/(Math.PI*it.R);return li(s,.5,-s,.5)}()}),Fe=l({},re,{code:"EPSG:4326",projection:K,transformation:li(1/180,1,-1/180,.5)}),te=l({},ye,{projection:K,transformation:li(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});ye.Earth=re,ye.EPSG3395=Jt,ye.EPSG3857=Wi,ye.EPSG900913=Qr,ye.EPSG4326=Fe,ye.Simple=te;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?ut(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xe=de.extend({initialize:function(s,u){tt(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),ur=function(s,u){return new xe(s,u)},be=xe.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),xe.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),xe.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Bi=function(s,u){return new be(s,u)},ji=Se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){tt(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=M(_),A=M(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return xt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function sl(s){return new ji(s)}var $s=ji.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof $s.imagePath!="string"&&($s.imagePath=this._detectIconPath()),(this.options.imagePath||$s.imagePath)+ji.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var A=_.exec(d);return A&&A[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Qt("div","leaflet-default-icon-path",document.body),u=Ni(s,"background-image")||Ni(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),cu=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new yi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ht(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,A=qn(u._icon),N=d.getPixelBounds(),Y=d.getPixelOrigin(),nt=gt(N.min._subtract(Y).add(w),N.max._subtract(Y).subtract(w));if(!nt.contains(A)){var ft=M((Math.max(nt.max.x,A.x)-nt.max.x)/(N.max.x-nt.max.x)-(Math.min(nt.min.x,A.x)-nt.min.x)/(N.min.x-nt.min.x),(Math.max(nt.max.y,A.y)-nt.max.y)/(N.max.y-nt.max.y)-(Math.min(nt.min.y,A.y)-nt.min.y)/(N.min.y-nt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),Vt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=z(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=qn(u._icon),w=u._map.layerPointToLatLng(_);d&&Vt(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Js=de.extend({options:{icon:new $s,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){tt(this,u),this._latlng=Et(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),Ht(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),A=!1;w!==this._shadow&&(this._removeShadow(),A=!0),w&&(Ht(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Vt(this._icon,s),this._shadow&&Vt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Ie(this._icon,s),this._shadow&&Ie(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?M(u.iconSize):M(0,0),_=u.iconAnchor?M(u.iconAnchor):M(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hu(s,u){return new Js(s,u)}var cr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return tt(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=cr.extend({options:{fill:!0,radius:10},initialize:function(s,u){tt(this,u),this._latlng=Et(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return cr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new st(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Uc(s,u){return new fo(s,u)}var fu=fo.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),tt(this,u),this._latlng=Et(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:cr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===re.distance){var w=Math.PI/180,A=this._mRadius/re.R/w,N=d.project([u+A,s]),Y=d.project([u-A,s]),nt=N.add(Y).divideBy(2),ft=d.unproject(nt).lat,wt=Math.acos((Math.cos(A*w)-Math.sin(u*w)*Math.sin(ft*w))/(Math.cos(u*w)*Math.cos(ft*w)))/w;(isNaN(wt)||wt===0)&&(wt=A/Math.cos(Math.PI/180*u)),this._point=nt.subtract(d.getPixelOrigin()),this._radius=isNaN(wt)?0:nt.x-d.project([ft,s-wt]).x,this._radiusY=nt.y-N.y}else{var At=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(At).x}this._updateBounds()}});function sd(s,u,d){return new fu(s,u,d)}var hr=cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){tt(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=kn,w,A,N=0,Y=this._parts.length;N<Y;N++)for(var nt=this._parts[N],ft=1,wt=nt.length;ft<wt;ft++){w=nt[ft-1],A=nt[ft];var At=_(s,w,A,!0);At<u&&(u=At,d=_(s,w,A))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return S(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Et(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=f(s),_=0,w=s.length;_<w;_++)d?(u[_]=Et(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new st;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new st([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof bt,w=s.length,A,N;if(_){for(N=[],A=0;A<w;A++)N[A]=this._map.latLngToLayerPoint(s[A]),d.extend(N[A]);u.push(N)}else for(A=0;A<w;A++)this._projectLatlngs(s[A],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,A,N,Y,nt;for(d=0,w=0,A=this._rings.length;d<A;d++)for(nt=this._rings[d],_=0,N=nt.length;_<N-1;_++)Y=os(nt[_],nt[_+1],s,_,!0),Y&&(u[w]=u[w]||[],u[w].push(Y[0]),(Y[1]!==nt[_+1]||_===N-2)&&(u[w].push(Y[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=co(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,A,N,Y,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,A=this._parts.length;d<A;d++)for(Y=this._parts[d],_=0,N=Y.length,w=N-1;_<N;w=_++)if(!(!u&&_===0)&&Xs(s,Y[w],Y[_])<=nt)return!0;return!1}});function ad(s,u){return new hr(s,u)}hr._flat=E;var ta=hr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=hr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof bt&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){hr.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new st(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,A;_<w;_++)A=Ks(this._rings[_],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,A,N,Y,nt,ft;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,nt=this._parts.length;A<nt;A++)for(d=this._parts[A],N=0,ft=d.length,Y=ft-1;N<ft;Y=N++)_=d[N],w=d[Y],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||hr.prototype._containsPoint.call(this,s,!0)}});function Gn(s,u){return new ta(s,u)}var Zn=be.extend({initialize:function(s,u){tt(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=ut(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var N=mo(s,A);return N?(N.feature=ea(s),N.defaultOptions=N.options,this.resetStyle(N),A.onEachFeature&&A.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function mo(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],A=u&&u.pointToLayer,N=u&&u.coordsToLatLng||al,Y,nt,ft,wt;if(!_&&!d)return null;switch(d.type){case"Point":return Y=N(_),du(A,s,Y,u);case"MultiPoint":for(ft=0,wt=_.length;ft<wt;ft++)Y=N(_[ft]),w.push(du(A,s,Y,u));return new be(w);case"LineString":case"MultiLineString":return nt=po(_,d.type==="LineString"?0:1,N),new hr(nt,u);case"Polygon":case"MultiPolygon":return nt=po(_,d.type==="Polygon"?1:2,N),new ta(nt,u);case"GeometryCollection":for(ft=0,wt=d.geometries.length;ft<wt;ft++){var At=mo({geometry:d.geometries[ft],type:"Feature",properties:s.properties},u);At&&w.push(At)}return new be(w);case"FeatureCollection":for(ft=0,wt=d.features.length;ft<wt;ft++){var Ct=mo(d.features[ft],u);Ct&&w.push(Ct)}return new be(w);default:throw new Error("Invalid GeoJSON object.")}}function du(s,u,d,_){return s?s(u,d):new Js(d,_&&_.markersInheritOptions&&_)}function al(s){return new bt(s[1],s[0],s[2])}function po(s,u,d){for(var _=[],w=0,A=s.length,N;w<A;w++)N=u?po(s[w],u-1,d):(d||al)(s[w]),_.push(N);return _}function go(s,u){return s=Et(s),s.alt!==void 0?[x(s.lng,u),x(s.lat,u),x(s.alt,u)]:[x(s.lng,u),x(s.lat,u)]}function ol(s,u,d,_){for(var w=[],A=0,N=s.length;A<N;A++)w.push(u?ol(s[A],f(s[A])?0:u-1,d,_):go(s[A],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function vi(s,u){return s.feature?l({},s.feature,{geometry:u}):ea(u)}function ea(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ls={toGeoJSON:function(s){return vi(this,{type:"Point",coordinates:go(this.getLatLng(),s)})}};Js.include(ls),fu.include(ls),fo.include(ls),hr.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=ol(this._latlngs,u?1:0,!1,s);return vi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ta.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=u&&!f(this._latlngs[0]),_=ol(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),vi(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),xe.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),vi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var A=w.toGeoJSON(s);if(d)_.push(A.geometry);else{var N=ea(A);N.type==="FeatureCollection"?_.push.apply(_,N.features):_.push(N)}}}),d?vi(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function ll(s,u){return new Zn(s,u)}var Bc=ll,Hi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=Tt(u),tt(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ki(this._image),this},bringToBack:function(){return this._map&&Ar(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Tt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Qt("img");if(Ht(u,"leaflet-image-layer"),this._zoomAnimated&&Ht(u,"leaflet-zoom-animated"),this.options.className&&Ht(u,this.options.className),u.onselectstart=P,u.onmousemove=P,u.onload=p(this.fire,this,"load"),u.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;wn(this._image,d,u)},_reset:function(){var s=this._image,u=new st(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Vt(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),na=function(s,u,d){return new Hi(s,u,d)},ul=Hi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Qt("video");if(Ht(u,"leaflet-image-layer"),this._zoomAnimated&&Ht(u,"leaflet-zoom-animated"),this.options.className&&Ht(u,this.options.className),u.onselectstart=P,u.onmousemove=P,u.onloadeddata=p(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}ut(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var N=Qt("source");N.src=this._url[A],u.appendChild(N)}}});function jc(s,u,d){return new ul(s,u,d)}var Pr=Hi.extend({_initImage:function(){var s=this._image=this._url;Ht(s,"leaflet-image-layer"),this._zoomAnimated&&Ht(s,"leaflet-zoom-animated"),this.options.className&&Ht(s,this.options.className),s.onselectstart=P,s.onmousemove=P}});function Hc(s,u,d){return new Pr(s,u,d)}var Ei=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof bt||ut(s))?(this._latlng=Et(s),tt(this,u)):(tt(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Ie(this._container,1),this.bringToFront(),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Ie(this._container,0),this._removeTimeout=setTimeout(p(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Et(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ki(this._container),this},bringToBack:function(){return this._map&&Ar(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof be){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=M(this.options.offset),d=this._getAnchor();this._zoomAnimated?Vt(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),de.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(tt(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var _o=Ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Ei.prototype.openOn.call(this,s)},onAdd:function(s){Ei.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cr||this._source.on("preclick",Dn))},onRemove:function(s){Ei.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cr||this._source.off("preclick",Dn))},getEvents:function(){var s=Ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",s+"-content-wrapper",u);if(this._contentNode=Qt("div",s+"-content",d),sr(u),_i(this._contentNode),Lt(u,"contextmenu",Dn),this._tipContainer=Qt("div",s+"-tip-container",u),this._tip=Qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(_,"click",function(w){ve(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,A="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",Ht(s,A)):pe(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Vt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ni(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new pt(this._containerLeft,-d-this._containerBottom);w._add(qn(this._container));var A=s.layerPointToContainerPoint(w),N=M(this.options.autoPanPadding),Y=M(this.options.autoPanPaddingTopLeft||N),nt=M(this.options.autoPanPaddingBottomRight||N),ft=s.getSize(),wt=0,At=0;A.x+_+nt.x>ft.x&&(wt=A.x+_-ft.x+nt.x),A.x-wt-Y.x<0&&(wt=A.x-Y.x),A.y+d+nt.y>ft.y&&(At=A.y+d-ft.y+nt.y),A.y-At-Y.y<0&&(At=A.y-Y.y),(wt||At)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([wt,At]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),od=function(s,u){return new _o(s,u)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(s,u,d){return this._initOverlay(_o,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),de.include({bindPopup:function(s,u){return this._popup=this._initOverlay(_o,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof be||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){mn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var cl=Ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Ei.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Ei.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Ei.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,A=_.latLngToContainerPoint(_.getCenter()),N=_.layerPointToContainerPoint(s),Y=this.options.direction,nt=w.offsetWidth,ft=w.offsetHeight,wt=M(this.options.offset),At=this._getAnchor();Y==="top"?(u=nt/2,d=ft):Y==="bottom"?(u=nt/2,d=0):Y==="center"?(u=nt/2,d=ft/2):Y==="right"?(u=0,d=ft/2):Y==="left"?(u=nt,d=ft/2):N.x<A.x?(Y="right",u=0,d=ft/2):(Y="left",u=nt+(wt.x+At.x)*2,d=ft/2),s=s.subtract(M(u,d,!0)).add(wt).add(At),pe(w,"leaflet-tooltip-right"),pe(w,"leaflet-tooltip-left"),pe(w,"leaflet-tooltip-top"),pe(w,"leaflet-tooltip-bottom"),Ht(w,"leaflet-tooltip-"+Y),Vt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Ie(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ld=function(s,u){return new cl(s,u)};Gt.include({openTooltip:function(s,u,d){return this._initOverlay(cl,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),de.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cl,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof be||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Lt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Lt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var mu=ji.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(We(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=M(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function qc(s){return new mu(s)}ji.Default=$s;var us=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){tt(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ar(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,A;_<w;_++)A=u[_].style.zIndex,u[_]!==this._container&&A&&(d=s(d,+A));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){Ie(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var A=Math.min(1,(s-w.loaded)/200);Ie(w.el,A),A<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(H(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:P,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(fe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),P(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:P,_onRemoveLevel:P,_onCreateLevel:P,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),A=Math.floor(u/2),N=d-1,Y=new pt(+w,+A);Y.z=+N;var nt=this._tileCoordsToKey(Y),ft=this._tiles[nt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),N>_?this._retainParent(w,A,N,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var A=2*u;A<2*u+2;A++){var N=new pt(w,A);N.z=d+1;var Y=this._tileCoordsToKey(N),nt=this._tiles[Y];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);d+1<_&&this._retainChildren(w,A,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var A=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||A)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();xt.any3d?wn(s.el,w,_):Vt(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),A=u.getSize().divideBy(_*2);return new st(w.subtract(A),w.add(A))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),A=w.getCenter(),N=[],Y=this.options.keepBuffer,nt=new st(w.getBottomLeft().subtract([Y,-Y]),w.getTopRight().add([Y,-Y]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var wt=this._tiles[ft].coords;(wt.z!==this._tileZoom||!nt.contains(new pt(wt.x,wt.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var At=w.min.y;At<=w.max.y;At++)for(var Ct=w.min.x;Ct<=w.max.x;Ct++){var jt=new pt(Ct,At);if(jt.z=this._tileZoom,!!this._isValidTile(jt)){var Pe=this._tiles[this._tileCoordsToKey(jt)];Pe?Pe.current=!0:N.push(jt)}}if(N.sort(function(gn,ti){return gn.distanceTo(A)-ti.distanceTo(A)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ue=document.createDocumentFragment();for(Ct=0;Ct<N.length;Ct++)this._addTile(N[Ct],Ue);this._level.el.appendChild(Ue)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return Tt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),A=u.unproject(_,s.z),N=u.unproject(w,s.z);return[A,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new dt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(fe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ht(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=P,s.onmousemove=P,xt.ielt9&&this.options.opacity<1&&Ie(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),p(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&z(p(this._tileReady,this,s,null,w)),Vt(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ie(d.el,0),H(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Ht(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?R(s.x,this._wrapX):s.x,this._wrapY?R(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new st(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ti(s){return new us(s)}var cs=us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=tt(this,u),u.detectRetina&&xt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Lt(d,"load",p(this._tileOnLoad,this,u,d)),Lt(d,"error",p(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:xt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return vt(this._url,l(u,this.options))},_tileOnLoad:function(s,u){xt.ielt9?setTimeout(p(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=P,u.onerror=P,!u.complete)){u.src=It;var d=this._tiles[s].coords;fe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",It),us.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===It))return us.prototype._tileReady.call(this,s,u,d)}});function Kn(s,u){return new cs(s,u)}var Yn=cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=tt(this,u);var w=u.detectRetina&&xt.retina?2:1,A=this.getTileSize();d.width=A.x*w,d.height=A.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,cs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=gt(d.project(u[0]),d.project(u[1])),w=_.min,A=_.max,N=(this._wmsVersion>=1.3&&this._crs===Fe?[w.y,w.x,A.y,A.x]:[w.x,w.y,A.x,A.y]).join(","),Y=cs.prototype.getTileUrl.call(this,s);return Y+J(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function ia(s,u){return new Yn(s,u)}cs.WMS=Yn,Kn.wms=ia;var wi=de.extend({options:{padding:.1},initialize:function(s){tt(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),A=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));xt.any3d?wn(this._container,A,d):Vt(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new st(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yo=wi.extend({options:{tolerance:0},getEvents:function(){var s=wi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Lt(s,"mousemove",this._onMouseMove,this),Lt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=xt.retina?2:1;Vt(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new st,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,A,N=s._parts,Y=N.length,nt=this._ctx;if(Y){for(nt.beginPath(),d=0;d<Y;d++){for(_=0,w=N[d].length;_<w;_++)A=N[d][_],nt[_?"lineTo":"moveTo"](A.x,A.y);u&&nt.closePath()}this._fillStroke(nt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(pe(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function vo(s){return xt.canvas?new yo(s):null}var hs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ra={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=hs("shape");Ht(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=hs("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;fe(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=hs("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=ut(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=hs("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){ki(s._container)},_bringToBack:function(s){Ar(s._container)}},Eo=xt.vml?hs:Ds,Or=wi.extend({_initContainer:function(){this._container=Eo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Eo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wi.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Vt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Eo("path");s.options.className&&Ht(u,s.options.className),s.options.interactive&&Ht(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Qa(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,A)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){ki(s._path)},_bringToBack:function(s){Ar(s._path)}});xt.vml&&Or.include(ra);function fs(s){return xt.svg||xt.vml?new Or(s):null}Gt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&vo(s)||fs(s)}});var Fc=ta.extend({initialize:function(s,u){ta.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Tt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Qn(s,u){return new Fc(s,u)}Or.create=Eo,Or.pointsToPath=Qa,Zn.geometryToLayer=mo,Zn.coordsToLatLng=al,Zn.coordsToLatLngs=po,Zn.latLngToCoords=go,Zn.latLngsToCoords=ol,Zn.getFeature=vi,Zn.asFeature=ea,Gt.mergeOptions({boxZoom:!0});var hl=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),is(),this._startPoint=this._map.mouseEventToContainerPoint(s),Lt(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),Ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new st(this._point,this._startPoint),d=u.getSize();Vt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(fe(this._box),pe(this._container,"leaflet-crosshair")),mi(),ao(),ae(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var u=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",hl),Gt.mergeOptions({doubleClickZoom:!0});var qi=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Gt.addInitHook("addHandler","doubleClickZoom",qi),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pu=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new yi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pe(this._map._container,"leaflet-grab"),pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Tt(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,A=(_+u+d)%s-u-d,N=Math.abs(w+d)<Math.abs(A+d)?w:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,N=d.easeLinearity,Y=w.multiplyBy(N/A),nt=Y.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,nt),wt=Y.multiplyBy(ft/nt),At=ft/(d.inertiaDeceleration*N),Ct=wt.multiplyBy(-At/2).round();!Ct.x&&!Ct.y?u.fire("moveend"):(Ct=u._limitOffset(Ct,u.options.maxBounds),z(function(){u.panBy(Ct,{duration:At,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",pu),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var To=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Lt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=M(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(M(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;mn(s)}}});Gt.addInitHook("addHandler","keyboard",To),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lr=Nn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=rs(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),_),mn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,A=d?Math.ceil(w/d)*d:w,N=s._limitZoom(u+(this._delta>0?A:-A))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});Gt.addInitHook("addHandler","scrollWheelZoom",Lr);var gu=600;Gt.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var fl=Nn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",ve),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),gu),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ae(document,"touchend",ve),ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Gt.addInitHook("addHandler","tapHold",fl),Gt.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var ds=Nn.extend({addHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),ve(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var A=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&A.x===0&&A.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var N=p(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(N,this,!0),ve(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",ds),Gt.BoxZoom=hl,Gt.DoubleClickZoom=qi,Gt.Drag=pu,Gt.Keyboard=To,Gt.ScrollWheelZoom=Lr,Gt.TapHold=fl,Gt.TouchZoom=ds,n.Bounds=st,n.Browser=xt,n.CRS=ye,n.Canvas=yo,n.Circle=fu,n.CircleMarker=fo,n.Class=Se,n.Control=an,n.DivIcon=mu,n.DivOverlay=Ei,n.DomEvent=tl,n.DomUtil=oo,n.Draggable=yi,n.Evented=yt,n.FeatureGroup=be,n.GeoJSON=Zn,n.GridLayer=us,n.Handler=Nn,n.Icon=ji,n.ImageOverlay=Hi,n.LatLng=bt,n.LatLngBounds=dt,n.Layer=de,n.LayerGroup=xe,n.LineUtil=I,n.Map=Gt,n.Marker=Js,n.Mixin=as,n.Path=cr,n.Point=pt,n.PolyUtil=Qs,n.Polygon=ta,n.Polyline=hr,n.Popup=_o,n.PosAnimation=ss,n.Projection=_t,n.Rectangle=Fc,n.Renderer=wi,n.SVG=Or,n.SVGOverlay=Pr,n.TileLayer=cs,n.Tooltip=cl,n.Transformation=oi,n.Util=V,n.VideoOverlay=ul,n.bind=p,n.bounds=gt,n.canvas=vo,n.circle=sd,n.circleMarker=Uc,n.control=pn,n.divIcon=qc,n.extend=l,n.featureGroup=Bi,n.geoJSON=ll,n.geoJson=Bc,n.gridLayer=Ti,n.icon=sl,n.imageOverlay=na,n.latLng=Et,n.latLngBounds=Tt,n.layerGroup=ur,n.map=zi,n.marker=hu,n.point=M,n.polygon=Gn,n.polyline=ad,n.popup=od,n.rectangle=Qn,n.setOptions=tt,n.stamp=v,n.svg=fs,n.svgOverlay=Hc,n.tileLayer=Kn,n.tooltip=ld,n.transformation=li,n.version=a,n.videoOverlay=jc;var sa=window.L;n.noConflict=function(){return window.L=sa,this},window.L=n})}(sc,sc.exports)),sc.exports}var ou=TO();const iS=Op(ou);function nd(r,t,n){return Object.freeze({instance:r,context:t,container:n})}function id(r,t){return t==null?function(a,l){const h=Z.useRef(void 0);return h.current||(h.current=r(a,l)),h}:function(a,l){const h=Z.useRef(void 0);h.current||(h.current=r(a,l));const p=Z.useRef(a),{instance:y}=h.current;return Z.useEffect(function(){p.current!==a&&(t(y,a,p.current),p.current=a)},[y,a,t]),h}}function rS(r,t){Z.useEffect(function(){return(t.layerContainer??t.map).addLayer(r.instance),function(){t.layerContainer?.removeLayer(r.instance),t.map.removeLayer(r.instance)}},[t,r])}function sS(r){return function(n){const a=td(),l=r(ed(n,a),a);return tS(a.map,n.attribution),bg(l.current,n.eventHandlers),rS(l.current,a),l}}function wO(r,t){const n=Z.useRef(void 0);Z.useEffect(function(){if(t.pathOptions!==n.current){const l=t.pathOptions??{};r.instance.setStyle(l),n.current=l}},[r,t])}function SO(r){return function(n){const a=td(),l=r(ed(n,a),a);return bg(l.current,n.eventHandlers),rS(l.current,a),wO(l.current,n),l}}function bO(r,t){const n=id(r,t),a=sS(n);return nS(a)}function AO(r,t){const n=id(r),a=vO(n,t);return _O(a)}function RO(r,t){const n=id(r,t),a=SO(n);return nS(a)}function CO(r,t){const n=id(r,t),a=sS(n);return yO(a)}function IO(r,t,n){const{opacity:a,zIndex:l}=t;a!=null&&a!==n.opacity&&r.setOpacity(a),l!=null&&l!==n.zIndex&&r.setZIndex(l)}function rd(){return td().map}function aS(r){const t=rd();return Z.useEffect(function(){return t.on(r),function(){t.off(r)}},[t,r]),t}const xO=RO(function({center:t,children:n,...a},l){const h=new ou.Circle(t,a);return nd(h,eS(l,{overlayContainer:h}))},mO);function PO({bounds:r,boundsOptions:t,center:n,children:a,className:l,id:h,placeholder:p,style:y,whenReady:v,zoom:T,...R},P){const[x]=Z.useState({className:l,id:h,style:y}),[G,W]=Z.useState(null),tt=Z.useRef(void 0);Z.useImperativeHandle(P,()=>G?.map??null,[G]);const J=Z.useCallback(vt=>{if(vt!==null&&!tt.current){const ut=new ou.Map(vt,R);tt.current=ut,n!=null&&T!=null?ut.setView(n,T):r!=null&&ut.fitBounds(r,t),v!=null&&ut.whenReady(v),W(gO(ut))}},[]);Z.useEffect(()=>()=>{G?.map.remove()},[G]);const at=G?np.createElement(Sg,{value:G},a):p??null;return np.createElement("div",{...x,ref:J},at)}const Ag=Z.forwardRef(PO),bc=bO(function({position:t,...n},a){const l=new ou.Marker(t,n);return nd(l,eS(a,{overlayContainer:l}))},function(t,n,a){n.position!==a.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==a.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==a.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==a.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Of=AO(function(t,n){const a=new ou.Popup(t,n.overlayContainer);return nd(a,n)},function(t,n,{position:a},l){Z.useEffect(function(){const{instance:p}=t;function y(T){T.popup===p&&(p.update(),l(!0))}function v(T){T.popup===p&&l(!1)}return n.map.on({popupopen:y,popupclose:v}),n.overlayContainer==null?(a!=null&&p.setLatLng(a),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:y,popupclose:v}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[t,n,l,a])}),Rg=CO(function({url:t,...n},a){const l=new ou.TileLayer(t,ed(n,a));return nd(l,a)},function(t,n,a){IO(t,n,a);const{url:l}=n;l!=null&&l!==a.url&&t.setUrl(l)}),OO=({vendor:r,distanceKm:t,origin:n})=>{if(!r)return null;const a=r.location?.lat&&r.location?.lng,l=a?`https://www.google.com/maps/dir/?api=1${n?`&origin=${n.lat},${n.lng}`:""}&destination=${r.location.lat},${r.location.lng}`:null;return q.jsxs("div",{className:"vc-card",children:[q.jsx("h4",{children:r.serviceName||r.name||"Unnamed Service"}),r.serviceDescription&&q.jsx("p",{className:"vc-description",children:r.serviceDescription}),q.jsxs("p",{children:[q.jsx("strong",{children:"Category:"})," ",r.category||"N/A",typeof t=="number"?q.jsxs(q.Fragment,{children:[" • ",t.toFixed(1)," km"]}):null]}),a&&q.jsxs("p",{children:[q.jsx("strong",{children:"Location:"})," ",r.location.lat.toFixed(4),", ",r.location.lng.toFixed(4)]}),l&&q.jsx("a",{className:"directions-btn",href:l,target:"_blank",rel:"noreferrer",style:{display:"inline-block",padding:"8px 12px",background:"#007bff",color:"#fff",borderRadius:"6px",textDecoration:"none",marginTop:"8px"},children:"Get Directions"})]})};function Yh(r){return r*Math.PI/180}function iT(r,t,n,a){const h=Yh(n-r),p=Yh(a-t),y=Math.sin(h/2)**2+Math.cos(Yh(r))*Math.cos(Yh(n))*Math.sin(p/2)**2;return 6371*(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)))}function LO(r,t){const n=t/111.32,a=t/(111.32*Math.cos(r.lat*Math.PI/180));return[[r.lat-n,r.lng-a],[r.lat+n,r.lng+a]]}function MO({userLocation:r,radiusKm:t}){const n=rd();return Z.useEffect(()=>{if(!r)return;const a=LO(r,t);n.fitBounds(a,{padding:[20,20]})},[r,t,n]),null}const rT=new iS.Icon.Default;function ep(r){return r?.online===!0||r?.status==="online"}function sT(r){return r?typeof r.seconds=="number"?r.seconds*1e3+Math.floor((r.nanoseconds||0)/1e6):r instanceof Date?r.getTime():0:0}function DO(){const r=Mf(),[t,n]=Z.useState(null),[a,l]=Z.useState([]),[h,p]=Z.useState(5),[y,v]=Z.useState("all");Z.useEffect(()=>{if(!navigator.geolocation){n({lat:28.6139,lng:77.209});return}navigator.geolocation.getCurrentPosition(x=>n({lat:x.coords.latitude,lng:x.coords.longitude}),()=>n({lat:28.6139,lng:77.209}))},[]),Z.useEffect(()=>{const x=$w(jw(ko,"vendors"),G=>{const W=G.docs.map(tt=>({id:tt.id,...tt.data()}));l(W)});return()=>x()},[]);const T=Z.useMemo(()=>t?a.filter(x=>!x.location?.lat||!x.location?.lng||y!=="all"&&x.category!==y?!1:iT(t.lat,t.lng,x.location.lat,x.location.lng)<=h):[],[a,t,y,h]),R=Z.useMemo(()=>T.filter(ep),[T]),P=Z.useMemo(()=>[...a].filter(ep).sort((W,tt)=>{const J=sT(W.lastOnlineAt||W.updatedAt||W.lastUpdated);return sT(tt.lastOnlineAt||tt.updatedAt||tt.lastUpdated)-J}).slice(0,8).map(W=>W.name||W.serviceName||"Vendor").join(" , ")||"No one online yet",[a]);return q.jsxs("div",{className:"home-root",children:[q.jsxs("header",{className:"home-header",children:[q.jsx("div",{className:"brand",children:"Venlo"}),q.jsx("button",{className:"account-chip",onClick:()=>r("/account"),children:"Acc."})]}),q.jsxs("section",{className:"map-wrap",children:[t?q.jsxs(Ag,{center:[t.lat,t.lng],zoom:13,className:"map",children:[q.jsx(Rg,{attribution:"© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),q.jsx(MO,{userLocation:t,radiusKm:h}),q.jsx(bc,{position:[t.lat,t.lng],icon:rT,children:q.jsx(Of,{children:"You are here"})}),q.jsx(xO,{center:[t.lat,t.lng],radius:h*1e3,pathOptions:{color:"#3388ff",weight:2,fillOpacity:.08}}),T.map(x=>{const G=`https://www.google.com/maps/dir/?api=1&origin=${t.lat},${t.lng}&destination=${x.location.lat},${x.location.lng}`;return q.jsx(bc,{position:[x.location.lat,x.location.lng],icon:rT,children:q.jsxs(Of,{children:[q.jsx("strong",{children:x.name||x.serviceName||"Vendor"}),q.jsx("br",{}),x.category?q.jsxs(q.Fragment,{children:["Category: ",x.category,q.jsx("br",{})]}):null,x.serviceDescription?q.jsxs(q.Fragment,{children:[x.serviceDescription,q.jsx("br",{})]}):null,"Status: ",ep(x)?"🟢 Online":"⚪ Offline",q.jsx("br",{}),q.jsx("a",{href:G,target:"_blank",rel:"noreferrer",children:"📍 Get Directions"})]})},x.id)})]},`${t.lat.toFixed(3)}-${h}`):q.jsx("div",{className:"map placeholder",children:"Loading map…"}),q.jsxs("div",{className:"filters-row",children:[q.jsxs("div",{className:"filter",children:[q.jsx("label",{children:"Category"}),q.jsxs("select",{value:y,onChange:x=>v(x.target.value),children:[q.jsx("option",{value:"all",children:"All"}),q.jsx("option",{value:"food",children:"Food"}),q.jsx("option",{value:"tailoring",children:"Tailoring"}),q.jsx("option",{value:"repairs",children:"Repairs"}),q.jsx("option",{value:"services",children:"Services"}),q.jsx("option",{value:"electronics",children:"Electronics"}),q.jsx("option",{value:"clothing",children:"Clothing"})]})]}),q.jsxs("div",{className:"filter",children:[q.jsx("label",{children:"Distance"}),q.jsx("select",{value:h,onChange:x=>p(Number(x.target.value)),children:[1,3,5,10,20].map(x=>q.jsxs("option",{value:x,children:[x," km"]},x))})]})]})]}),q.jsxs("div",{className:"top-banner",children:[q.jsx("span",{className:"top-title",children:"Most recently online - "}),q.jsx("span",{className:"top-line",children:P})]}),q.jsxs("section",{className:"online-section",children:[q.jsx("h3",{className:"online-title",children:"service online now"}),q.jsx("div",{className:"card-scroller",children:R.length===0?q.jsx("div",{className:"empty",children:"No vendors online in this area."}):R.map(x=>{const G=iT(t?.lat||0,t?.lng||0,x.location.lat,x.location.lng);return q.jsx(OO,{vendor:x,distanceKm:G,origin:t},x.id)})})]}),q.jsx("footer",{className:"contact-footer",children:q.jsxs("div",{className:"contact-grid",children:[q.jsxs("div",{children:[q.jsx("div",{className:"contact-label",children:"Office"}),q.jsx("div",{children:"Venlo HQ"}),q.jsx("div",{children:"221B Ghaziabad, Uttarpradesh"})]}),q.jsxs("div",{children:[q.jsx("div",{className:"contact-label",children:"Phone"}),q.jsx("div",{children:"+91 98718 28606"}),q.jsx("div",{children:"Landline: 011-23456789"})]}),q.jsxs("div",{children:[q.jsx("div",{className:"contact-label",children:"Email"}),q.jsx("div",{children:"support@Venlo.example"})]})]})})]})}function NO(){const r=Mf(),[t,n]=Z.useState(!1),[a,l]=Z.useState(null);Z.useEffect(()=>{const y=yf().currentUser;y&&oO(fc(ko,"users",y.uid)).then(v=>{if(v.exists()){const T=v.data();n(T.isVendor||!1),l(T)}})},[]);const h=()=>{const p=yf();zC(p).then(()=>{r("/",{replace:!0}),window.location.reload()}).catch(y=>{console.error("Logout error:",y)})};return q.jsxs("div",{style:{padding:"2rem"},children:[q.jsx("h2",{style:{marginBottom:"1.5rem"},children:"Account Details"}),q.jsxs("div",{style:{border:"1px solid black",borderRadius:"8px",padding:"1.5rem",maxWidth:"500px",margin:"0 auto",background:"white"},children:[q.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center"},children:[q.jsx("strong",{style:{width:"150px"},children:"Name -"}),q.jsx("span",{children:a?.name||"N/A"})]}),q.jsxs("div",{style:{marginBottom:"1rem",display:"flex",alignItems:"center"},children:[q.jsx("strong",{style:{width:"150px"},children:"Phone no. -"}),q.jsx("span",{children:a?.phone||"N/A"})]}),q.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center"},children:[q.jsx("strong",{style:{width:"150px"},children:"Gmail -"}),q.jsx("span",{children:a?.email||"N/A"})]}),t&&q.jsx("div",{style:{marginBottom:"1.5rem"},children:q.jsx("button",{style:{backgroundColor:"#666",color:"white",padding:"0.5rem 1rem",border:"none",borderRadius:"5px",cursor:"pointer"},onClick:()=>r("/vendor"),children:"Vendor Dashboard"})}),q.jsx("button",{style:{backgroundColor:"#666",color:"white",padding:"0.5rem 1rem",border:"none",borderRadius:"5px",cursor:"pointer"},onClick:h,children:"Log out"})]})]})}const kO=new iS.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});function VO({location:r}){const t=rd();return Z.useEffect(()=>{r&&t.setView(r,Math.max(t.getZoom(),15),{animate:!0})},[r,t]),null}function zO({setLocation:r}){return aS({click(t){const n=[t.latlng.lat,t.latlng.lng];r(n)}}),null}function UO(){const[r,t]=Z.useState([28.6139,77.209]),[n,a]=Z.useState(""),[l,h]=Z.useState(""),[p,y]=Z.useState(""),[v,T]=Z.useState(!1),[R,P]=Z.useState(""),G=yf().currentUser?.uid||"vendor1",W=Z.useRef(null);Z.useEffect(()=>{r&&P(`Lat: ${r[0].toFixed(5)}, Lng: ${r[1].toFixed(5)}`)},[r]);const tt=()=>{if(!navigator.geolocation){alert("Geolocation not supported by your browser.");return}navigator.geolocation.getCurrentPosition(ut=>{const Nt=[ut.coords.latitude,ut.coords.longitude];t(Nt),W.current&&W.current.setView(Nt,Math.max(W.current.getZoom(),15),{animate:!0})},ut=>{console.error(ut),alert("Failed to get your location.")},{enableHighAccuracy:!0,timeout:1e4})},J=async()=>{const ut=!v;T(ut);try{await lf(fc(ko,"users",G),{location:{lat:r[0],lng:r[1]},online:ut,status:ut?"online":"offline",lastUpdated:new Date},{merge:!0})}catch(Nt){console.error("Error updating status:",Nt)}},at=async()=>{if(!n.trim()||!l.trim()||!p.trim()){alert("Please fill in all fields including Category.");return}try{await lf(fc(ko,"users",G),{serviceName:n.trim(),serviceDescription:l.trim(),category:p.trim(),lastUpdated:new Date},{merge:!0}),alert("Service details updated!")}catch(ut){console.error("Error saving service details:",ut),alert("Failed to save service details.")}},vt=async()=>{try{await lf(fc(ko,"users",G),{location:{lat:r[0],lng:r[1]},lastUpdated:new Date},{merge:!0}),alert("Location saved!")}catch(ut){console.error("Error saving location:",ut),alert("Failed to save location.")}};return q.jsxs("div",{className:"vendor-dashboard",children:[q.jsxs("header",{className:"vendor-header",children:[q.jsx("div",{className:"logo",children:"Venlo"}),q.jsx("h1",{children:"Vendor Dashboard"})]}),q.jsxs("div",{className:"dashboard-content",children:[q.jsxs("div",{className:"map-section",children:[q.jsxs(Ag,{center:r,zoom:15,whenCreated:ut=>W.current=ut,style:{height:"100%",width:"100%"},children:[q.jsx(Rg,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap contributors"}),q.jsx(bc,{position:r,icon:kO}),q.jsx(VO,{location:r}),q.jsx(zO,{setLocation:t})]}),q.jsxs("div",{className:"map-buttons",children:[q.jsx("button",{onClick:tt,children:"Use My Current Location"}),q.jsx("button",{onClick:vt,children:"Save Location"})," ",q.jsx("button",{className:`status-btn ${v?"online":"offline"}`,onClick:J,children:v?"Online":"Offline"})]})]}),q.jsxs("div",{className:"form-section",children:[q.jsx("label",{children:"Service Name:"}),q.jsx("input",{type:"text",value:n,onChange:ut=>a(ut.target.value),placeholder:"Enter your service name"}),q.jsx("label",{children:"Service Description:"}),q.jsx("textarea",{rows:6,value:l,onChange:ut=>h(ut.target.value),placeholder:"Describe your service..."}),q.jsx("label",{children:"Category:"}),q.jsxs("select",{value:p,onChange:ut=>y(ut.target.value),children:[q.jsx("option",{value:"",children:"Select category"}),q.jsx("option",{value:"Plumber",children:"Plumber"}),q.jsx("option",{value:"Electrician",children:"Electrician"}),q.jsx("option",{value:"Carpenter",children:"Carpenter"}),q.jsx("option",{value:"Delivery",children:"Delivery"}),q.jsx("option",{value:"Other",children:"Other"})]}),q.jsx("button",{className:"submit-service",onClick:at,children:"Submit Service Info"}),R&&q.jsxs("h3",{className:"location-heading",children:["📍 Location: ",R]})]})]})]})}function BO({location:r}){const t=rd();return Z.useEffect(()=>{r&&t.setView([latlng.lat,latlng.lng],13)},[r,t]),null}function jO({onMapClick:r}){return aS({click(t){r({lat:t.latlng.lat,lng:t.latlng.lng})}}),null}function HO({onSelect:r}){const[t,n]=Z.useState(""),[a,l]=Z.useState([]),h=async p=>{const y=p.target.value;if(n(y),y.length>3){const T=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${y}`)).json();l(T)}else l([])};return q.jsxs("div",{style:{marginBottom:"10px"},children:[q.jsx("input",{type:"text",placeholder:"Search for a location...",value:t,onChange:h,style:{width:"100%",padding:"10px"}}),a.map(p=>q.jsx("div",{onClick:()=>{r({lat:parseFloat(p.lat),lng:parseFloat(p.lon),name:p.display_name}),n(p.display_name),l([])},style:{padding:"8px",background:"#f8f8f8",borderBottom:"1px solid #ccc",cursor:"pointer"},children:p.display_name},p.place_id))]})}function aT(){const[r,t]=Z.useState(null),[n,a]=Z.useState(""),[l,h]=Z.useState([]);Z.useEffect(()=>{const y=$w(jw(ko,"vendors"),v=>{const T=v.docs.map(R=>({id:R.id,...R.data()}));h(T)});return()=>y()},[]);const p=()=>{if(!navigator.geolocation){alert("Geolocation not supported.");return}navigator.geolocation.getCurrentPosition(y=>{const{latitude:v,longitude:T}=y.coords;t({lat:v,lng:T}),a("My Live Location")},y=>{console.error("Geolocation error:",y),alert("Failed to get your location.")})};return q.jsxs("div",{style:{padding:"1rem"},children:[q.jsx("h2",{children:"Find Nearby Vendors"}),q.jsx(HO,{onSelect:y=>{t({lat:y.lat,lng:y.lng}),a(y.name)}}),q.jsxs(Ag,{center:r||[28.6139,77.209],zoom:13,style:{height:"500px",width:"100%",marginBottom:"10px"},children:[q.jsx(Rg,{attribution:"© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r&&q.jsxs(q.Fragment,{children:[q.jsx(BO,{location:r}),q.jsx(bc,{position:[r.lat,r.lng],children:q.jsx(Of,{children:n||"Your Location"})})]}),l.map(y=>y.location&&q.jsx(bc,{position:[y.location.lat,y.location.lng],children:q.jsxs(Of,{children:[q.jsx("strong",{children:y.name}),q.jsx("br",{}),q.jsx("strong",{children:"Category:"})," ",y.category,q.jsx("br",{}),q.jsx("strong",{children:"Status:"})," ",q.jsx("span",{style:{color:y.status==="online"?"green":"red"},children:y.status||"offline"}),q.jsx("br",{}),q.jsx("strong",{children:"Last Updated:"})," ",y.lastUpdated?new Date(y.lastUpdated.seconds*1e3).toLocaleString():"N/A",q.jsx("br",{}),q.jsx("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${y.location.lat},${y.location.lng}`,target:"_blank",rel:"noopener noreferrer",children:"📍 Get Directions"})]})},y.id)),q.jsx(jO,{onMapClick:y=>{t(y),a("Selected from map")}})]}),q.jsx("button",{onClick:p,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Share My Live Location"})]})}function qO(){return q.jsx(qA,{children:q.jsxs(EA,{children:[q.jsx(Lo,{path:"/map",element:q.jsx(aT,{})}),q.jsx(Lo,{path:"/map",element:q.jsx(aT,{})}),q.jsx(Lo,{path:"/",element:q.jsx(dO,{})}),q.jsx(Lo,{path:"/home",element:q.jsx(DO,{})}),q.jsx(Lo,{path:"/account",element:q.jsx(NO,{})}),q.jsx(Lo,{path:"/vendor",element:q.jsx(UO,{})})]})})}const FO=Pb.createRoot(document.getElementById("root"));FO.render(q.jsx(qO,{}));
